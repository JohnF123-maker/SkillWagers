<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vercel Deployment Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f0f0f0;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .status {
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
    }
    .success { background-color: #d4edda; color: #155724; }
    .error { background-color: #f8d7da; color: #721c24; }
    .warning { background-color: #fff3cd; color: #856404; }
  </style>
</head>
<body>
  <div class="container">
    <h1>SkillWagers Deployment Diagnostics</h1>
    <div id="status"></div>
    
    <h2>Environment Variables</h2>
    <div id="env-status"></div>
    
    <h2>Firebase Configuration</h2>
    <div id="firebase-status"></div>
    
    <h2>Router Test</h2>
    <div id="router-status"></div>
  </div>

  <script>
    const statusDiv = document.getElementById('status');
    const envDiv = document.getElementById('env-status');
    const firebaseDiv = document.getElementById('firebase-status');
    const routerDiv = document.getElementById('router-status');

    // Test 1: Basic functionality
    statusDiv.innerHTML = '<div class="status success">✓ JavaScript is working</div>';

    // Test 2: Environment variables
    const requiredEnvVars = [
      'REACT_APP_FIREBASE_API_KEY',
      'REACT_APP_FIREBASE_AUTH_DOMAIN',
      'REACT_APP_FIREBASE_PROJECT_ID',
      'REACT_APP_FIREBASE_STORAGE_BUCKET',
      'REACT_APP_FIREBASE_MESSAGING_SENDER_ID',
      'REACT_APP_FIREBASE_APP_ID'
    ];

    let envStatus = '';
    requiredEnvVars.forEach(envVar => {
      const value = process.env[envVar];
      if (value && value !== 'undefined') {
        envStatus += `<div class="status success">✓ ${envVar} is set</div>`;
      } else {
        envStatus += `<div class="status error">✗ ${envVar} is missing or undefined</div>`;
      }
    });
    envDiv.innerHTML = envStatus;

    // Test 3: Firebase initialization
    try {
      // This would normally import firebase, but we'll simulate for now
      firebaseDiv.innerHTML = '<div class="status warning">⚠ Firebase test requires actual import</div>';
    } catch (error) {
      firebaseDiv.innerHTML = `<div class="status error">✗ Firebase error: ${error.message}</div>`;
    }

    // Test 4: Router setup
    if (window.location.pathname) {
      routerDiv.innerHTML = `<div class="status success">✓ Current path: ${window.location.pathname}</div>`;
    } else {
      routerDiv.innerHTML = '<div class="status error">✗ Router path not detected</div>';
    }

    // Console logging for debugging
    console.log('SkillWagers Diagnostics');
    console.log('Environment:', process.env.NODE_ENV);
    console.log('Firebase Project:', process.env.REACT_APP_FIREBASE_PROJECT_ID);
    console.log('API URL:', process.env.REACT_APP_API_URL);
  </script>
</body>
</html>