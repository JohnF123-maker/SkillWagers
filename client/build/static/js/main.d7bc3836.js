/*! For license information please see main.d7bc3836.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(a,t,i,"",function(e){return e})):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(_);else{var t=r(u);null!==t&&P(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,v(S),S=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,N=null,S=-1,T=5,C=-1;function I(){return!(t.unstable_now()-C<T)}function j(){if(null!==N){var e=t.unstable_now();C=e;var n=!0;try{n=N(!0,e)}finally{n?E():(k=!1,N=null)}}else k=!1}if("function"===typeof b)E=function(){b(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=j,E=function(){R.postMessage(null)}}else E=function(){y(j,0)};function O(e){N=e,k||(k=!0,E())}function P(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(S),S=-1):g=!0,P(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,O(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(He){var t=He.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Be){var r=Be}Reflect.construct(e,[],t)}else{try{t.call()}catch(Be){r=Be}e.call(t.prototype)}else{try{throw Error()}catch(Be){r=Be}e()}}catch(Be){if(Be&&r&&"string"===typeof Be.stack){for(var i=Be.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case N:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(He){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ee=null;function ke(e){if(e=Ci(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=ji(t),xe(e.stateNode,e.type,t))}}function Ne(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Se(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Ie=!1;function je(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==_e||null!==Ee)&&(Ce(),Se())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=ji(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ze){Re=!1}function Pe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Le=null,Me=!1,Ue=null,qe={onError:function(e){De=!0,Le=e}};function We(e,t,n,r,i,s,a,o,l){De=!1,Le=null,Pe.apply(qe,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ke(e)!==e)throw Error(s(188))}function Je(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Qe(i),e;if(a===r)return Qe(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ze(e):null}function Ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ze(e);if(null!==t)return t;e=e.sibling}return null}var et=i.unstable_scheduleCallback,tt=i.unstable_cancelCallback,nt=i.unstable_shouldYield,rt=i.unstable_requestPaint,it=i.unstable_now,st=i.unstable_getCurrentPriorityLevel,at=i.unstable_ImmediatePriority,ot=i.unstable_UserBlockingPriority,lt=i.unstable_NormalPriority,ct=i.unstable_LowPriority,ut=i.unstable_IdlePriority,dt=null,ht=null;var ft=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pt(e)/mt|0)|0},pt=Math.log,mt=Math.LN2;var gt=64,yt=4194304;function vt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=vt(o):0!==(s&=a)&&(r=vt(s))}else 0!==(a=n&~i)?r=vt(a):0!==s&&(r=vt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ft(t)),r|=e[n],t&=~i;return r}function xt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _t(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Et(){var e=gt;return 0===(4194240&(gt<<=1))&&(gt=64),e}function kt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ft(t)]=n}function St(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Tt=0;function Ct(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var It,jt,At,Rt,Ot,Pt=!1,Dt=[],Mt=null,Ut=null,Ft=null,Vt=new Map,Bt=new Map,zt=[],qt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Vt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bt.delete(t.pointerId)}}function Ht(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ci(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Kt(e){var t=Ti(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Ot(e.priority,function(){At(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ci(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Qt(e,t,n){Gt(e)&&n.delete(t)}function Yt(){Pt=!1,null!==Mt&&Gt(Mt)&&(Mt=null),null!==Ut&&Gt(Ut)&&(Ut=null),null!==Ft&&Gt(Ft)&&(Ft=null),Vt.forEach(Qt),Bt.forEach(Qt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Yt)))}function Jt(e){function t(t){return $t(t,e)}if(0<Dt.length){$t(Dt[0],e);for(var n=1;n<Dt.length;n++){var r=Dt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&$t(Mt,e),null!==Ut&&$t(Ut,e),null!==Ft&&$t(Ft,e),Vt.forEach(t),Bt.forEach(t),n=0;n<zt.length;n++)(r=zt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<zt.length&&null===(n=zt[0]).blockedOn;)Kt(n),null===n.blockedOn&&zt.shift()}var Xt=w.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var i=Tt,s=Xt.transition;Xt.transition=null;try{Tt=1,nn(e,t,n,r)}finally{Tt=i,Xt.transition=s}}function tn(e,t,n,r){var i=Tt,s=Xt.transition;Xt.transition=null;try{Tt=4,nn(e,t,n,r)}finally{Tt=i,Xt.transition=s}}function nn(e,t,n,r){if(Zt){var i=sn(e,t,n,r);if(null===i)Zr(e,t,r,rn,n),Wt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=Ht(Mt,e,t,n,r,i),!0;case"dragenter":return Ut=Ht(Ut,e,t,n,r,i),!0;case"mouseover":return Ft=Ht(Ft,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vt.set(s,Ht(Vt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bt.set(s,Ht(Bt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Wt(e,r),4&t&&-1<qt.indexOf(e)){for(;null!==i;){var s=Ci(i);if(null!==s&&It(s),null===(s=sn(e,t,n,r))&&Zr(e,t,r,rn,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function sn(e,t,n,r){if(rn=null,null!==(e=Ti(e=we(r))))if(null===(t=Ke(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function an(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(st()){case at:return 1;case ot:return 4;case lt:case ct:return 16;case ut:return 536870912;default:return 16}default:return 16}}var on=null,ln=null,cn=null;function un(){if(cn)return cn;var e,t,n=ln,r=n.length,i="value"in on?on.value:on.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return cn=i.slice(e,1<t?1-t:void 0)}function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function hn(){return!0}function fn(){return!1}function pn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?hn:fn,this.isPropagationStopped=fn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),t}var mn,gn,yn,vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bn=pn(vn),wn=M({},vn,{view:0,detail:0}),xn=pn(wn),_n=M({},wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&"mousemove"===e.type?(mn=e.screenX-yn.screenX,gn=e.screenY-yn.screenY):gn=mn=0,yn=e),mn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),En=pn(_n),kn=pn(M({},_n,{dataTransfer:0})),Nn=pn(M({},wn,{relatedTarget:0})),Sn=pn(M({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),Tn=M({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=pn(Tn),In=pn(M({},vn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rn[e])&&!!t[e]}function Pn(){return On}var Dn=M({},wn,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=pn(Dn),Mn=pn(M({},_n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Un=pn(M({},wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),Fn=pn(M({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Vn=M({},_n,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=pn(Vn),zn=[9,13,27,32],qn=u&&"CompositionEvent"in window,Wn=null;u&&"documentMode"in document&&(Wn=document.documentMode);var Hn=u&&"TextEvent"in window&&!Wn,Kn=u&&(!qn||Wn&&8<Wn&&11>=Wn),Gn=String.fromCharCode(32),Qn=!1;function Yn(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Jn=!1;var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xn[e.type]:"textarea"===t}function er(e,t,n,r){Ne(r),0<(t=ti(t,"onChange")).length&&(n=new bn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Gr(e,0)}function ir(e){if(G(Ii(e)))return e}function sr(e,t){if("change"===e)return t}var ar=!1;if(u){var or;if(u){var lr="oninput"in document;if(!lr){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),lr="function"===typeof cr.oninput}or=lr}else or=!1;ar=or&&(!document.documentMode||9<document.documentMode)}function ur(){tr&&(tr.detachEvent("onpropertychange",dr),nr=tr=null)}function dr(e){if("value"===e.propertyName&&ir(nr)){var t=[];er(t,nr,e,we(e)),je(rr,t)}}function hr(e,t,n){"focusin"===e?(ur(),nr=n,(tr=t).attachEvent("onpropertychange",dr)):"focusout"===e&&ur()}function fr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ir(nr)}function pr(e,t){if("click"===e)return ir(t)}function mr(e,t){if("input"===e||"change"===e)return ir(t)}var gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function yr(e,t){if(gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!gr(e[i],t[i]))return!1}return!0}function vr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function br(e,t){var n,r=vr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vr(r)}}function wr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?wr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function xr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(Ye){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function _r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Er(e){var t=xr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wr(n.ownerDocument.documentElement,n)){if(null!==r&&_r(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=br(n,s);var a=br(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kr=u&&"documentMode"in document&&11>=document.documentMode,Nr=null,Sr=null,Tr=null,Cr=!1;function Ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Cr||null==Nr||Nr!==Q(r)||("selectionStart"in(r=Nr)&&_r(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Tr&&yr(Tr,r)||(Tr=r,0<(r=ti(Sr,"onSelect")).length&&(t=new bn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Rr={},Or={};function Pr(e){if(Rr[e])return Rr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Or)return Rr[e]=n[t];return e}u&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Dr=Pr("animationend"),Lr=Pr("animationiteration"),Mr=Pr("animationstart"),Ur=Pr("transitionend"),Fr=new Map,Vr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){Fr.set(e,t),l(t,[e])}for(var zr=0;zr<Vr.length;zr++){var qr=Vr[zr];Br(qr.toLowerCase(),"on"+(qr[0].toUpperCase()+qr.slice(1)))}Br(Dr,"onAnimationEnd"),Br(Lr,"onAnimationIteration"),Br(Mr,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Ur,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function Kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(We.apply(this,arguments),De){if(!De)throw Error(s(198));var u=Le;De=!1,Le=null,Me||(Me=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Gr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Kr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Kr(i,o,c),s=l}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Qr(e,t){var n=t[ki];void 0===n&&(n=t[ki]=new Set);var r=e+"__bubble";n.has(r)||(Xr(t,e,2,!1),n.add(r))}function Yr(e,t,n){var r=0;t&&(r|=4),Xr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Jr(e){if(!e[$r]){e[$r]=!0,a.forEach(function(t){"selectionchange"!==t&&(Hr.has(t)||Yr(t,!1,e),Yr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Yr("selectionchange",!1,t))}}function Xr(e,t,n,r){switch(an(t)){case 1:var i=en;break;case 4:i=tn;break;default:i=nn}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Ti(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}je(function(){var r=s,i=we(n),a=[];e:{var o=Fr.get(e);if(void 0!==o){var l=bn,c=e;switch(e){case"keypress":if(0===dn(n))break e;case"keydown":case"keyup":l=Ln;break;case"focusin":c="focus",l=Nn;break;case"focusout":c="blur",l=Nn;break;case"beforeblur":case"afterblur":l=Nn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=kn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Un;break;case Dr:case Lr:case Mr:l=Sn;break;case Ur:l=Fn;break;case"scroll":l=xn;break;case"wheel":l=Bn;break;case"copy":case"cut":case"paste":l=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(ei(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!Ti(c)&&!c[Ei])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ti(c):null)&&(c!==(d=Ke(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=En,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:Ii(l),f=null==c?o:Ii(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,Ti(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=ni(f))p++;for(f=0,m=h;m;m=ni(m))f++;for(;0<p-f;)u=ni(u),p--;for(;0<f-p;)h=ni(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=ni(u),h=ni(h)}u=null}else u=null;null!==l&&ri(a,o,l,u,!1),null!==c&&null!==d&&ri(a,d,c,u,!0)}if("select"===(l=(o=r?Ii(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=sr;else if(Zn(o))if(ar)g=mr;else{g=fr;var y=hr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=pr);switch(g&&(g=g(e,r))?er(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?Ii(r):window,e){case"focusin":(Zn(y)||"true"===y.contentEditable)&&(Nr=y,Sr=r,Tr=null);break;case"focusout":Tr=Sr=Nr=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,Ir(a,n,i);break;case"selectionchange":if(kr)break;case"keydown":case"keyup":Ir(a,n,i)}var v;if(qn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Jn?Yn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Kn&&"ko"!==n.locale&&(Jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Jn&&(v=un()):(ln="value"in(on=i)?on.value:on.textContent,Jn=!0)),0<(y=ti(r,b)).length&&(b=new In(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=$n(n))&&(b.data=v))),(v=Hn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Qn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Qn?null:e;default:return null}}(e,n):function(e,t){if(Jn)return"compositionend"===e||!qn&&Yn(e,t)?(e=un(),cn=ln=on=null,Jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ti(r,"onBeforeInput")).length&&(i=new In("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Gr(a,t)})}function ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(ei(e,s,i)),null!=(s=Ae(e,t))&&r.push(ei(e,s,i))),e=e.return}return r}function ni(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ri(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ae(n,s))&&a.unshift(ei(n,l,o)):i||null!=(l=Ae(n,s))&&a.push(ei(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ii=/\r\n?/g,si=/\u0000|\uFFFD/g;function ai(e){return("string"===typeof e?e:""+e).replace(ii,"\n").replace(si,"")}function oi(e,t,n){if(t=ai(t),ai(e)!==t&&n)throw Error(s(425))}function li(){}var ci=null,ui=null;function di(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var hi="function"===typeof setTimeout?setTimeout:void 0,fi="function"===typeof clearTimeout?clearTimeout:void 0,pi="function"===typeof Promise?Promise:void 0,mi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof pi?function(e){return pi.resolve(null).then(e).catch(gi)}:hi;function gi(e){setTimeout(function(){throw e})}function yi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Jt(t)}function vi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function bi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),xi="__reactFiber$"+wi,_i="__reactProps$"+wi,Ei="__reactContainer$"+wi,ki="__reactEvents$"+wi,Ni="__reactListeners$"+wi,Si="__reactHandles$"+wi;function Ti(e){var t=e[xi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ei]||n[xi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bi(e);null!==e;){if(n=e[xi])return n;e=bi(e)}return t}n=(e=n).parentNode}return null}function Ci(e){return!(e=e[xi]||e[Ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ji(e){return e[_i]||null}var Ai=[],Ri=-1;function Oi(e){return{current:e}}function Pi(e){0>Ri||(e.current=Ai[Ri],Ai[Ri]=null,Ri--)}function Di(e,t){Ri++,Ai[Ri]=e.current,e.current=t}var Li={},Mi=Oi(Li),Ui=Oi(!1),Fi=Li;function Vi(e,t){var n=e.type.contextTypes;if(!n)return Li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function zi(){Pi(Ui),Pi(Mi)}function qi(e,t,n){if(Mi.current!==Li)throw Error(s(168));Di(Mi,t),Di(Ui,n)}function Wi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,Fi=Mi.current,Di(Mi,e),Di(Ui,Ui.current),!0}function Ki(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Wi(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,Pi(Ui),Pi(Mi),Di(Mi,e)):Pi(Ui),Di(Ui,n)}var Gi=null,Qi=!1,Yi=!1;function $i(e){null===Gi?Gi=[e]:Gi.push(e)}function Ji(){if(!Yi&&null!==Gi){Yi=!0;var e=0,t=Tt;try{var n=Gi;for(Tt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Gi=null,Qi=!1}catch(Fe){throw null!==Gi&&(Gi=Gi.slice(e+1)),et(at,Ji),Fe}finally{Tt=t,Yi=!1}}return null}var Xi=[],Zi=0,es=null,ts=0,ns=[],rs=0,is=null,ss=1,as="";function os(e,t){Xi[Zi++]=ts,Xi[Zi++]=es,es=e,ts=t}function ls(e,t,n){ns[rs++]=ss,ns[rs++]=as,ns[rs++]=is,is=e;var r=ss;e=as;var i=32-ft(r)-1;r&=~(1<<i),n+=1;var s=32-ft(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ss=1<<32-ft(t)+i|n<<i|r,as=s+e}else ss=1<<s|n<<i|r,as=e}function cs(e){null!==e.return&&(os(e,1),ls(e,1,0))}function us(e){for(;e===es;)es=Xi[--Zi],Xi[Zi]=null,ts=Xi[--Zi],Xi[Zi]=null;for(;e===is;)is=ns[--rs],ns[rs]=null,as=ns[--rs],ns[rs]=null,ss=ns[--rs],ns[rs]=null}var ds=null,hs=null,fs=!1,ps=null;function ms(e,t){var n=Vc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function gs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ds=e,hs=vi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ds=e,hs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==is?{id:ss,overflow:as}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Vc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ds=e,hs=null,!0);default:return!1}}function ys(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function vs(e){if(fs){var t=hs;if(t){var n=t;if(!gs(e,t)){if(ys(e))throw Error(s(418));t=vi(n.nextSibling);var r=ds;t&&gs(e,t)?ms(r,n):(e.flags=-4097&e.flags|2,fs=!1,ds=e)}}else{if(ys(e))throw Error(s(418));e.flags=-4097&e.flags|2,fs=!1,ds=e}}}function bs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ds=e}function ws(e){if(e!==ds)return!1;if(!fs)return bs(e),fs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!di(e.type,e.memoizedProps)),t&&(t=hs)){if(ys(e))throw xs(),Error(s(418));for(;t;)ms(e,t),t=vi(t.nextSibling)}if(bs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){hs=vi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}hs=null}}else hs=ds?vi(e.stateNode.nextSibling):null;return!0}function xs(){for(var e=hs;e;)e=vi(e.nextSibling)}function _s(){hs=ds=null,fs=!1}function Es(e){null===ps?ps=[e]:ps.push(e)}var ks=w.ReactCurrentBatchConfig;function Ns(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ss(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ts(e){return(0,e._init)(e._payload)}function Cs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Ts(s)===t.type)?((r=i(t,n.props)).ref=Ns(e,t,n),r.return=e,r):((r=qc(n.type,n.key,n.props,null,e.mode,r)).ref=Ns(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Wc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Kc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=qc(t.type,t.key,t.props,null,e.mode,n)).ref=Ns(e,null,t),n.return=e,n;case _:return(t=Gc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Wc(t,e.mode,n,null)).return=e,t;Ss(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);Ss(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);Ss(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(i,d),fs&&os(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return fs&&os(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),fs&&os(i,m),c}function g(i,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),fs&&os(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return fs&&os(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),fs&&os(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Ts(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Ns(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((s=Wc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=qc(a.type,a.key,a.props,null,r.mode,l)).ref=Ns(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Gc(a,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(D(a))return g(r,s,a,l);Ss(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Kc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Is=Cs(!0),js=Cs(!1),As=Oi(null),Rs=null,Os=null,Ps=null;function Ds(){Ps=Os=Rs=null}function Ls(e){var t=As.current;Pi(As),e._currentValue=t}function Ms(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Us(e,t){Rs=e,Ps=Os=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Co=!0),e.firstContext=null)}function Fs(e){var t=e._currentValue;if(Ps!==e)if(e={context:e,memoizedValue:t,next:null},null===Os){if(null===Rs)throw Error(s(308));Os=e,Rs.dependencies={lanes:0,firstContext:e}}else Os=Os.next=e;return t}var Vs=null;function Bs(e){null===Vs?Vs=[e]:Vs.push(e)}function zs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Bs(t)):(n.next=i.next,i.next=n),t.interleaved=n,qs(e,r)}function qs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ws=!1;function Hs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ks(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ml)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qs(e,n)}return null===(i=r.interleaved)?(t.next=t,Bs(r)):(t.next=i.next,i.next=t),r.interleaved=t,qs(e,n)}function Ys(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,St(e,n)}}function $s(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Js(e,t,n,r){var i=e.updateQueue;Ws=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Ws=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Hl|=a,e.lanes=a,e.memoizedState=d}}function Xs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Zs={},ea=Oi(Zs),ta=Oi(Zs),na=Oi(Zs);function ra(e){if(e===Zs)throw Error(s(174));return e}function ia(e,t){switch(Di(na,t),Di(ta,e),Di(ea,Zs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Pi(ea),Di(ea,t)}function sa(){Pi(ea),Pi(ta),Pi(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Di(ta,e),Di(ea,n))}function oa(e){ta.current===e&&(Pi(ea),Pi(ta))}var la=Oi(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=w.ReactCurrentDispatcher,fa=w.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,ya=null,va=!1,ba=!1,wa=0,xa=0;function _a(){throw Error(s(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?oo:lo,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(s(301));a+=1,ya=ga=null,t.updateQueue=null,ha.current=co,e=n(r,i)}while(ba)}if(ha.current=ao,t=null!==ga&&null!==ga.next,pa=0,ya=ga=ma=null,va=!1,t)throw Error(s(300));return e}function Na(){var e=0!==wa;return wa=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ma.memoizedState=ya=e:ya=ya.next=e,ya}function Ta(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ya?ma.memoizedState:ya.next;if(null!==t)ya=t,ga=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?ma.memoizedState=ya=e:ya=ya.next=e}return ya}function Ca(e,t){return"function"===typeof t?t(e):t}function Ia(e){var t=Ta(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ma.lanes|=d,Hl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,gr(r,t.memoizedState)||(Co=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Hl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ja(e){var t=Ta(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);gr(a,t.memoizedState)||(Co=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Ra(e,t){var n=ma,r=Ta(),i=t(),a=!gr(r.memoizedState,i);if(a&&(r.memoizedState=i,Co=!0),r=r.queue,Wa(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Fa(9,Pa.bind(null,n,r,i,t),void 0,null),null===Ul)throw Error(s(349));0!==(30&pa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Ma(e)}function Da(e,t,n){return n(function(){La(t)&&Ma(e)})}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch(Ye){return!0}}function Ma(e){var t=qs(e,1);null!==t&&dc(t,e,1,-1)}function Ua(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=no.bind(null,ma,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return Ta().memoizedState}function Ba(e,t,n,r){var i=Sa();ma.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=Ta();r=void 0===r?null:r;var s=void 0;if(null!==ga){var a=ga.memoizedState;if(s=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Fa(t,n,s,r))}ma.flags|=e,i.memoizedState=Fa(1|t,n,s,r)}function qa(e,t){return Ba(8390656,8,e,t)}function Wa(e,t){return za(2048,8,e,t)}function Ha(e,t){return za(4,2,e,t)}function Ka(e,t){return za(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Ga.bind(null,t,e),n)}function Ya(){}function $a(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,Co=!0),e.memoizedState=n):(gr(n,t)||(n=Et(),ma.lanes|=n,Hl|=n,e.baseState=!0),t)}function Za(e,t){var n=Tt;Tt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{Tt=n,fa.transition=r}}function eo(){return Ta().memoizedState}function to(e,t,n){var r=uc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ro(e))io(t,n);else if(null!==(n=zs(e,t,n,r))){dc(n,e,r,cc()),so(n,t,r)}}function no(e,t,n){var r=uc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ro(e))io(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,gr(o,a)){var l=t.interleaved;return null===l?(i.next=i,Bs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Be){}null!==(n=zs(e,t,i,r))&&(dc(n,e,r,i=cc()),so(n,t,r))}}function ro(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function io(e,t){ba=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function so(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,St(e,n)}}var ao={readContext:Fs,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},oo={readContext:Fs,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:Fs,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=to.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:Ua,useDebugValue:Ya,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=Za.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Sa();if(fs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ul)throw Error(s(349));0!==(30&pa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(Da.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Sa(),t=Ul.identifierPrefix;if(fs){var n=as;t=":"+t+"R"+(n=(ss&~(1<<32-ft(ss)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lo={readContext:Fs,useCallback:$a,useContext:Fs,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ha,useLayoutEffect:Ka,useMemo:Ja,useReducer:Ia,useRef:Va,useState:function(){return Ia(Ca)},useDebugValue:Ya,useDeferredValue:function(e){return Xa(Ta(),ga.memoizedState,e)},useTransition:function(){return[Ia(Ca)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:eo,unstable_isNewReconciler:!1},co={readContext:Fs,useCallback:$a,useContext:Fs,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ha,useLayoutEffect:Ka,useMemo:Ja,useReducer:ja,useRef:Va,useState:function(){return ja(Ca)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ta();return null===ga?t.memoizedState=e:Xa(t,ga.memoizedState,e)},useTransition:function(){return[ja(Ca)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:eo,unstable_isNewReconciler:!1};function uo(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cc(),i=uc(e),s=Gs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Qs(e,s,i))&&(dc(t,e,i,r),Ys(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cc(),i=uc(e),s=Gs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Qs(e,s,i))&&(dc(t,e,i,r),Ys(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cc(),r=uc(e),i=Gs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Qs(e,i,r))&&(dc(t,e,r,n),Ys(t,e,r))}};function po(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!yr(n,r)||!yr(i,s))}function mo(e,t,n){var r=!1,i=Li,s=t.contextType;return"object"===typeof s&&null!==s?s=Fs(s):(i=Bi(t)?Fi:Mi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Vi(e,i):Li),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Hs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Fs(s):(s=Bi(t)?Fi:Mi.current,i.context=Vi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ho(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fo.enqueueReplaceState(i,i.state,null),Js(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function vo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch($e){i="\nError generating stack: "+$e.message+"\n"+$e.stack}return{value:e,source:t,stack:i,digest:null}}function bo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function wo(e,t){try{console.error(t.value)}catch(He){setTimeout(function(){throw He})}}var xo="function"===typeof WeakMap?WeakMap:Map;function _o(e,t,n){(n=Gs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zl||(Zl=!0,ec=r),wo(0,t)},n}function Eo(e,t,n){(n=Gs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){wo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){wo(0,t),"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ko(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new xo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Pc.bind(null,e,t,n),t.then(e,e))}function No(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function So(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Gs(-1,1)).tag=2,Qs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var To=w.ReactCurrentOwner,Co=!1;function Io(e,t,n,r){t.child=null===e?js(t,null,n,r):Is(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var s=t.ref;return Us(t,i),r=ka(e,t,n,r,s,i),n=Na(),null===e||Co?(fs&&n&&cs(t),t.flags|=1,Io(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zo(e,t,i))}function Ao(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Bc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ro(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:yr)(a,r)&&e.ref===t.ref)return Zo(e,t,i)}return t.flags|=1,(e=zc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ro(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(yr(s,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Zo(e,t,i);0!==(131072&e.flags)&&(Co=!0)}}return Do(e,t,n,r,i)}function Oo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Di(zl,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Di(zl,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Di(zl,Bl),Bl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Di(zl,Bl),Bl|=r;return Io(e,t,i,n),t.child}function Po(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Do(e,t,n,r,i){var s=Bi(n)?Fi:Mi.current;return s=Vi(t,s),Us(t,i),n=ka(e,t,n,r,s,i),r=Na(),null===e||Co?(fs&&r&&cs(t),t.flags|=1,Io(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zo(e,t,i))}function Lo(e,t,n,r,i){if(Bi(n)){var s=!0;Hi(t)}else s=!1;if(Us(t,i),null===t.stateNode)Xo(e,t),mo(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Fs(c):c=Vi(t,c=Bi(n)?Fi:Mi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&go(t,a,r,c),Ws=!1;var h=t.memoizedState;a.state=h,Js(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ui.current||Ws?("function"===typeof u&&(ho(t,n,u,r),l=t.memoizedState),(o=Ws||po(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ks(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:uo(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Fs(l):l=Vi(t,l=Bi(n)?Fi:Mi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&go(t,a,r,l),Ws=!1,h=t.memoizedState,a.state=h,Js(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ui.current||Ws?("function"===typeof f&&(ho(t,n,f,r),p=t.memoizedState),(c=Ws||po(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Mo(e,t,n,r,s,i)}function Mo(e,t,n,r,i,s){Po(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ki(t,n,!1),Zo(e,t,s);r=t.stateNode,To.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Is(t,e.child,null,s),t.child=Is(t,null,o,s)):Io(e,t,o,s),t.memoizedState=r.state,i&&Ki(t,n,!0),t.child}function Uo(e){var t=e.stateNode;t.pendingContext?qi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&qi(0,t.context,!1),ia(e,t.containerInfo)}function Fo(e,t,n,r,i){return _s(),Es(i),t.flags|=256,Io(e,t,n,r),t.child}var Vo,Bo,zo,qo,Wo={dehydrated:null,treeContext:null,retryLane:0};function Ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ko(e,t,n){var r,i=t.pendingProps,a=la.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Di(la,1&a),null===e)return vs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Hc(l,i,0,null),e=Wc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ho(n),t.memoizedState=Wo,e):Go(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Qo(e,t,o,r=bo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Hc({mode:"visible",children:r.children},i,0,null),(a=Wc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Is(t,e.child,null,o),t.child.memoizedState=Ho(o),t.memoizedState=Wo,a);if(0===(1&t.mode))return Qo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Qo(e,t,o,r=bo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),Co||l){if(null!==(r=Ul)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,qs(e,i),dc(r,e,i,-1))}return kc(),Qo(e,t,o,r=bo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Lc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,hs=vi(i.nextSibling),ds=t,fs=!0,ps=null,null!==e&&(ns[rs++]=ss,ns[rs++]=as,ns[rs++]=is,ss=e.id,as=e.overflow,is=t),t=Go(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=zc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=zc(r,o):(o=Wc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Ho(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Wo,i}return e=(o=e.child).sibling,i=zc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Go(e,t){return(t=Hc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Qo(e,t,n,r){return null!==r&&Es(r),Is(t,e.child,null,n),(e=Go(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Yo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ms(e.return,t,n)}function $o(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Jo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n,t);else if(19===e.tag)Yo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Di(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$o(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$o(t,!0,n,null,s);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Hl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=zc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function el(e,t){if(!fs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nl(e,t,n){var r=t.pendingProps;switch(us(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tl(t),null;case 1:case 17:return Bi(t.type)&&zi(),tl(t),null;case 3:return r=t.stateNode,sa(),Pi(Ui),Pi(Mi),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ws(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ps&&(mc(ps),ps=null))),Bo(e,t),tl(t),null;case 5:oa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)zo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return tl(t),null}if(e=ra(ea.current),ws(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[xi]=t,r[_i]=a,e=0!==(1&t.mode),n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(i=0;i<Wr.length;i++)Qr(Wr[i],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":$(r,a),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qr("invalid",r);break;case"textarea":ie(r,a),Qr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&oi(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&oi(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Qr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=li)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[xi]=t,e[_i]=r,Vo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),i=r;break;case"iframe":case"object":case"embed":Qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Wr.length;i++)Qr(Wr[i],e);i=r;break;case"source":Qr("error",e),i=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),i=r;break;case"details":Qr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Qr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Qr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Qr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return tl(t),null;case 6:if(e&&null!=t.stateNode)qo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=ra(na.current),ra(ea.current),ws(t)){if(r=t.stateNode,n=t.memoizedProps,r[xi]=t,(a=r.nodeValue!==n)&&null!==(e=ds))switch(e.tag){case 3:oi(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&oi(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[xi]=t,t.stateNode=r}return tl(t),null;case 13:if(Pi(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(fs&&null!==hs&&0!==(1&t.mode)&&0===(128&t.flags))xs(),_s(),t.flags|=98560,a=!1;else if(a=ws(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[xi]=t}else _s(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tl(t),a=!1}else null!==ps&&(mc(ps),ps=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===ql&&(ql=3):kc())),null!==t.updateQueue&&(t.flags|=4),tl(t),null);case 4:return sa(),Bo(e,t),null===e&&Jr(t.stateNode.containerInfo),tl(t),null;case 10:return Ls(t.type._context),tl(t),null;case 19:if(Pi(la),null===(a=t.memoizedState))return tl(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)el(a,!1);else{if(0!==ql||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,el(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Di(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&it()>Jl&&(t.flags|=128,r=!0,el(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),el(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!fs)return tl(t),null}else 2*it()-a.renderingStartTime>Jl&&1073741824!==n&&(t.flags|=128,r=!0,el(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=it(),t.sibling=null,n=la.current,Di(la,r?1&n|2:1&n),t):(tl(t),null);case 22:case 23:return wc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(tl(t),6&t.subtreeFlags&&(t.flags|=8192)):tl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function rl(e,t){switch(us(t),t.tag){case 1:return Bi(t.type)&&zi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sa(),Pi(Ui),Pi(Mi),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oa(t),null;case 13:if(Pi(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));_s()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Pi(la),null;case 4:return sa(),null;case 10:return Ls(t.type._context),null;case 22:case 23:return wc(),null;default:return null}}Vo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bo=function(){},zo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=li)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Qr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var il=!1,sl=!1,al="function"===typeof WeakSet?WeakSet:Set,ol=null;function ll(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Ye){Oc(e,t,Ye)}else n.current=null}function cl(e,t,n){try{n()}catch(Ye){Oc(e,t,Ye)}}var ul=!1;function dl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&cl(t,n,s)}i=i.next}while(i!==r)}}function hl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function pl(e){var t=e.alternate;null!==t&&(e.alternate=null,pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[xi],delete t[_i],delete t[ki],delete t[Ni],delete t[Si])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ml(e){return 5===e.tag||3===e.tag||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=li));else if(4!==r&&null!==(e=e.child))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}var bl=null,wl=!1;function xl(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(ht&&"function"===typeof ht.onCommitFiberUnmount)try{ht.onCommitFiberUnmount(dt,n)}catch(Xe){}switch(n.tag){case 5:sl||ll(n,t);case 6:var r=bl,i=wl;bl=null,xl(e,t,n),wl=i,null!==(bl=r)&&(wl?(e=bl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):bl.removeChild(n.stateNode));break;case 18:null!==bl&&(wl?(e=bl,n=n.stateNode,8===e.nodeType?yi(e.parentNode,n):1===e.nodeType&&yi(e,n),Jt(e)):yi(bl,n.stateNode));break;case 4:r=bl,i=wl,bl=n.stateNode.containerInfo,wl=!0,xl(e,t,n),bl=r,wl=i;break;case 0:case 11:case 14:case 15:if(!sl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&cl(n,t,a),i=i.next}while(i!==r)}xl(e,t,n);break;case 1:if(!sl&&(ll(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Xe){Oc(n,t,Xe)}xl(e,t,n);break;case 21:xl(e,t,n);break;case 22:1&n.mode?(sl=(r=sl)||null!==n.memoizedState,xl(e,t,n),sl=r):xl(e,t,n);break;default:xl(e,t,n)}}function El(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new al),t.forEach(function(t){var r=Mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function kl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:bl=l.stateNode,wl=!1;break e;case 3:case 4:bl=l.stateNode.containerInfo,wl=!0;break e}l=l.return}if(null===bl)throw Error(s(160));_l(a,o,i),bl=null,wl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Be){Oc(i,t,Be)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Nl(t,e),t=t.sibling}function Nl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kl(t,e),Sl(e),4&r){try{dl(3,e,e.return),hl(3,e)}catch(Ve){Oc(e,e.return,Ve)}try{dl(5,e,e.return)}catch(Ve){Oc(e,e.return,Ve)}}break;case 1:kl(t,e),Sl(e),512&r&&null!==n&&ll(n,n.return);break;case 5:if(kl(t,e),Sl(e),512&r&&null!==n&&ll(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(Ve){Oc(e,e.return,Ve)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),ve(l,o);var u=ve(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):b(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[_i]=a}catch(Ve){Oc(e,e.return,Ve)}}break;case 6:if(kl(t,e),Sl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(Ve){Oc(e,e.return,Ve)}}break;case 3:if(kl(t,e),Sl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Jt(t.containerInfo)}catch(Ve){Oc(e,e.return,Ve)}break;case 4:default:kl(t,e),Sl(e);break;case 13:kl(t,e),Sl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||($l=it())),4&r&&El(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(sl=(u=sl)||d,kl(t,e),sl=u):kl(t,e),Sl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(ol=e,d=e.child;null!==d;){for(h=ol=d;null!==ol;){switch(p=(f=ol).child,f.tag){case 0:case 11:case 14:case 15:dl(4,f,f.return);break;case 1:ll(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(Ve){Oc(r,n,Ve)}}break;case 5:ll(f,f.return);break;case 22:if(null!==f.memoizedState){jl(h);continue}}null!==p?(p.return=f,ol=p):jl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(Ve){Oc(e,e.return,Ve)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(Ve){Oc(e,e.return,Ve)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kl(t,e),Sl(e),4&r&&El(e);case 21:}}function Sl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ml(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),vl(e,gl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;yl(e,gl(e),a);break;default:throw Error(s(161))}}catch(bt){Oc(e,e.return,bt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Tl(e,t,n){ol=e,Cl(e,t,n)}function Cl(e,t,n){for(var r=0!==(1&e.mode);null!==ol;){var i=ol,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||il;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||sl;o=il;var c=sl;if(il=a,(sl=l)&&!c)for(ol=i;null!==ol;)l=(a=ol).child,22===a.tag&&null!==a.memoizedState?Al(i):null!==l?(l.return=a,ol=l):Al(i);for(;null!==s;)ol=s,Cl(s,t,n),s=s.sibling;ol=i,il=o,sl=c}Il(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,ol=s):Il(e)}}function Il(e){for(;null!==ol;){var t=ol;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sl||hl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:uo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Xs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Xs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Jt(h)}}}break;default:throw Error(s(163))}sl||512&t.flags&&fl(t)}catch(f){Oc(t,t.return,f)}}if(t===e){ol=null;break}if(null!==(n=t.sibling)){n.return=t.return,ol=n;break}ol=t.return}}function jl(e){for(;null!==ol;){var t=ol;if(t===e){ol=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ol=n;break}ol=t.return}}function Al(e){for(;null!==ol;){var t=ol;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hl(4,t)}catch(bt){Oc(t,n,bt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(bt){Oc(t,i,bt)}}var s=t.return;try{fl(t)}catch(bt){Oc(t,s,bt)}break;case 5:var a=t.return;try{fl(t)}catch(bt){Oc(t,a,bt)}}}catch(bt){Oc(t,t.return,bt)}if(t===e){ol=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ol=o;break}ol=t.return}}var Rl,Ol=Math.ceil,Pl=w.ReactCurrentDispatcher,Dl=w.ReactCurrentOwner,Ll=w.ReactCurrentBatchConfig,Ml=0,Ul=null,Fl=null,Vl=0,Bl=0,zl=Oi(0),ql=0,Wl=null,Hl=0,Kl=0,Gl=0,Ql=null,Yl=null,$l=0,Jl=1/0,Xl=null,Zl=!1,ec=null,tc=null,nc=!1,rc=null,ic=0,sc=0,ac=null,oc=-1,lc=0;function cc(){return 0!==(6&Ml)?it():-1!==oc?oc:oc=it()}function uc(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==Vl?Vl&-Vl:null!==ks.transition?(0===lc&&(lc=Et()),lc):0!==(e=Tt)?e:e=void 0===(e=window.event)?16:an(e.type)}function dc(e,t,n,r){if(50<sc)throw sc=0,ac=null,Error(s(185));Nt(e,n,r),0!==(2&Ml)&&e===Ul||(e===Ul&&(0===(2&Ml)&&(Kl|=n),4===ql&&gc(e,Vl)),hc(e,r),1===n&&0===Ml&&0===(1&t.mode)&&(Jl=it()+500,Qi&&Ji()))}function hc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ft(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=xt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=wt(e,e===Ul?Vl:0);if(0===r)null!==n&&tt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&tt(n),1===t)0===e.tag?function(e){Qi=!0,$i(e)}(yc.bind(null,e)):$i(yc.bind(null,e)),mi(function(){0===(6&Ml)&&Ji()}),n=null;else{switch(Ct(r)){case 1:n=at;break;case 4:n=ot;break;case 16:default:n=lt;break;case 536870912:n=ut}n=Uc(n,fc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fc(e,t){if(oc=-1,lc=0,0!==(6&Ml))throw Error(s(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=wt(e,e===Ul?Vl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Nc(e,r);else{t=r;var i=Ml;Ml|=2;var a=Ec();for(Ul===e&&Vl===t||(Xl=null,Jl=it()+500,xc(e,t));;)try{Tc();break}catch(Xe){_c(e,Xe)}Ds(),Pl.current=a,Ml=i,null!==Fl?t=0:(Ul=null,Vl=0,t=ql)}if(0!==t){if(2===t&&(0!==(i=_t(e))&&(r=i,t=pc(e,i))),1===t)throw n=Wl,xc(e,0),gc(e,r),hc(e,it()),n;if(6===t)gc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gr(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Nc(e,r))&&(0!==(a=_t(e))&&(r=a,t=pc(e,a))),1===t))throw n=Wl,xc(e,0),gc(e,r),hc(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Yl,Xl);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=$l+500-it())){if(0!==wt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hi(jc.bind(null,e,Yl,Xl),t);break}jc(e,Yl,Xl);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ft(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=it()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ol(r/1960))-r)){e.timeoutHandle=hi(jc.bind(null,e,Yl,Xl),r);break}jc(e,Yl,Xl);break;default:throw Error(s(329))}}}return hc(e,it()),e.callbackNode===n?fc.bind(null,e):null}function pc(e,t){var n=Ql;return e.current.memoizedState.isDehydrated&&(xc(e,t).flags|=256),2!==(e=Nc(e,t))&&(t=Yl,Yl=n,null!==t&&mc(t)),e}function mc(e){null===Yl?Yl=e:Yl.push.apply(Yl,e)}function gc(e,t){for(t&=~Gl,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function yc(e){if(0!==(6&Ml))throw Error(s(327));Ac();var t=wt(e,0);if(0===(1&t))return hc(e,it()),null;var n=Nc(e,t);if(0!==e.tag&&2===n){var r=_t(e);0!==r&&(t=r,n=pc(e,r))}if(1===n)throw n=Wl,xc(e,0),gc(e,t),hc(e,it()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Yl,Xl),hc(e,it()),null}function vc(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(Jl=it()+500,Qi&&Ji())}}function bc(e){null!==rc&&0===rc.tag&&0===(6&Ml)&&Ac();var t=Ml;Ml|=1;var n=Ll.transition,r=Tt;try{if(Ll.transition=null,Tt=1,e)return e()}finally{Tt=r,Ll.transition=n,0===(6&(Ml=t))&&Ji()}}function wc(){Bl=zl.current,Pi(zl)}function xc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,fi(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(us(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&zi();break;case 3:sa(),Pi(Ui),Pi(Mi),da();break;case 5:oa(r);break;case 4:sa();break;case 13:case 19:Pi(la);break;case 10:Ls(r.type._context);break;case 22:case 23:wc()}n=n.return}if(Ul=e,Fl=e=zc(e.current,null),Vl=Bl=t,ql=0,Wl=null,Gl=Kl=Hl=0,Yl=Ql=null,null!==Vs){for(t=0;t<Vs.length;t++)if(null!==(r=(n=Vs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Vs=null}return e}function _c(e,t){for(;;){var n=Fl;try{if(Ds(),ha.current=ao,va){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(pa=0,ya=ga=ma=null,ba=!1,wa=0,Dl.current=null,null===n||null===n.return){ql=1,Wl=t,Fl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Vl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=No(o);if(null!==p){p.flags&=-257,So(p,o,l,0,t),1&p.mode&&ko(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ko(a,u,t),kc();break e}c=Error(s(426))}else if(fs&&1&l.mode){var y=No(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),So(y,o,l,0,t),Es(vo(c,l));break e}}a=c=vo(c,l),4!==ql&&(ql=2),null===Ql?Ql=[a]:Ql.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,$s(a,_o(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===tc||!tc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,$s(a,Eo(a,l,t));break e}}a=a.return}while(null!==a)}Ic(n)}catch(w){t=w,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function Ec(){var e=Pl.current;return Pl.current=ao,null===e?ao:e}function kc(){0!==ql&&3!==ql&&2!==ql||(ql=4),null===Ul||0===(268435455&Hl)&&0===(268435455&Kl)||gc(Ul,Vl)}function Nc(e,t){var n=Ml;Ml|=2;var r=Ec();for(Ul===e&&Vl===t||(Xl=null,xc(e,t));;)try{Sc();break}catch(Fe){_c(e,Fe)}if(Ds(),Ml=n,Pl.current=r,null!==Fl)throw Error(s(261));return Ul=null,Vl=0,ql}function Sc(){for(;null!==Fl;)Cc(Fl)}function Tc(){for(;null!==Fl&&!nt();)Cc(Fl)}function Cc(e){var t=Rl(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?Ic(e):Fl=t,Dl.current=null}function Ic(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=nl(n,t,Bl)))return void(Fl=n)}else{if(null!==(n=rl(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return ql=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===ql&&(ql=5)}function jc(e,t,n){var r=Tt,i=Ll.transition;try{Ll.transition=null,Tt=1,function(e,t,n,r){do{Ac()}while(null!==rc);if(0!==(6&Ml))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ft(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Ul&&(Fl=Ul=null,Vl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nc||(nc=!0,Uc(lt,function(){return Ac(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ll.transition,Ll.transition=null;var o=Tt;Tt=1;var l=Ml;Ml|=4,Dl.current=null,function(e,t){if(ci=Zt,_r(e=xr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Lt){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ui={focusedElem:e,selectionRange:n},Zt=!1,ol=t;null!==ol;)if(e=(t=ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ol=e;else for(;null!==ol;){t=ol;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:uo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Lt){Oc(t,t.return,Lt)}if(null!==(e=t.sibling)){e.return=t.return,ol=e;break}ol=t.return}m=ul,ul=!1}(e,n),Nl(n,e),Er(ui),Zt=!!ci,ui=ci=null,e.current=n,Tl(n,e,i),rt(),Ml=l,Tt=o,Ll.transition=a}else e.current=n;if(nc&&(nc=!1,rc=e,ic=i),a=e.pendingLanes,0===a&&(tc=null),function(e){if(ht&&"function"===typeof ht.onCommitFiberRoot)try{ht.onCommitFiberRoot(dt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),hc(e,it()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zl)throw Zl=!1,e=ec,ec=null,e;0!==(1&ic)&&0!==e.tag&&Ac(),a=e.pendingLanes,0!==(1&a)?e===ac?sc++:(sc=0,ac=e):sc=0,Ji()}(e,t,n,r)}finally{Ll.transition=i,Tt=r}return null}function Ac(){if(null!==rc){var e=Ct(ic),t=Ll.transition,n=Tt;try{if(Ll.transition=null,Tt=16>e?16:e,null===rc)var r=!1;else{if(e=rc,rc=null,ic=0,0!==(6&Ml))throw Error(s(331));var i=Ml;for(Ml|=4,ol=e.current;null!==ol;){var a=ol,o=a.child;if(0!==(16&ol.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(ol=u;null!==ol;){var d=ol;switch(d.tag){case 0:case 11:case 15:dl(8,d,a)}var h=d.child;if(null!==h)h.return=d,ol=h;else for(;null!==ol;){var f=(d=ol).sibling,p=d.return;if(pl(d),d===u){ol=null;break}if(null!==f){f.return=p,ol=f;break}ol=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}ol=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,ol=o;else e:for(;null!==ol;){if(0!==(2048&(a=ol).flags))switch(a.tag){case 0:case 11:case 15:dl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,ol=v;break e}ol=a.return}}var b=e.current;for(ol=b;null!==ol;){var w=(o=ol).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,ol=w;else e:for(o=b;null!==ol;){if(0!==(2048&(l=ol).flags))try{switch(l.tag){case 0:case 11:case 15:hl(9,l)}}catch(_){Oc(l,l.return,_)}if(l===o){ol=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,ol=x;break e}ol=l.return}}if(Ml=i,Ji(),ht&&"function"===typeof ht.onPostCommitFiberRoot)try{ht.onPostCommitFiberRoot(dt,e)}catch(_){}r=!0}return r}finally{Tt=n,Ll.transition=t}}return!1}function Rc(e,t,n){e=Qs(e,t=_o(0,t=vo(n,t),1),1),t=cc(),null!==e&&(Nt(e,1,t),hc(e,t))}function Oc(e,t,n){if(3===e.tag)Rc(e,e,n);else for(;null!==t;){if(3===t.tag){Rc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){t=Qs(t,e=Eo(t,e=vo(n,e),1),1),e=cc(),null!==t&&(Nt(t,1,e),hc(t,e));break}}t=t.return}}function Pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&n,Ul===e&&(Vl&n)===n&&(4===ql||3===ql&&(130023424&Vl)===Vl&&500>it()-$l?xc(e,0):Gl|=n),hc(e,t)}function Dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=yt,0===(130023424&(yt<<=1))&&(yt=4194304)));var n=cc();null!==(e=qs(e,t))&&(Nt(e,t,n),hc(e,n))}function Lc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Dc(e,n)}function Mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Dc(e,n)}function Uc(e,t){return et(e,t)}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vc(e,t,n,r){return new Fc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zc(e,t){var n=e.alternate;return null===n?((n=Vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Bc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Wc(n.children,i,a,t);case k:o=8,i|=8;break;case N:return(e=Vc(12,n,t,2|i)).elementType=N,e.lanes=a,e;case I:return(e=Vc(13,n,t,i)).elementType=I,e.lanes=a,e;case j:return(e=Vc(19,n,t,i)).elementType=j,e.lanes=a,e;case O:return Hc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case T:o=9;break e;case C:o=11;break e;case A:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Vc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Wc(e,t,n,r){return(e=Vc(7,e,r,t)).lanes=n,e}function Hc(e,t,n,r){return(e=Vc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Kc(e,t,n){return(e=Vc(6,e,null,t)).lanes=n,e}function Gc(e,t,n){return(t=Vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kt(0),this.expirationTimes=kt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yc(e,t,n,r,i,s,a,o,l){return e=new Qc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Vc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hs(s),e}function $c(e){if(!e)return Li;e:{if(Ke(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Bi(n))return Wi(e,n,t)}return t}function Jc(e,t,n,r,i,s,a,o,l){return(e=Yc(n,r,!0,e,0,s,0,o,l)).context=$c(null),n=e.current,(s=Gs(r=cc(),i=uc(n))).callback=void 0!==t&&null!==t?t:null,Qs(n,s,i),e.current.lanes=i,Nt(e,i,r),hc(e,r),e}function Xc(e,t,n,r){var i=t.current,s=cc(),a=uc(i);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Gs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Qs(i,t,a))&&(dc(e,i,a,s),Ys(e,i,a)),a}function Zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function eu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function tu(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}Rl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ui.current)Co=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:Uo(t),_s();break;case 5:aa(t);break;case 1:Bi(t.type)&&Hi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Di(As,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Di(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ko(e,t,n):(Di(la,1&la.current),null!==(e=Zo(e,t,n))?e.sibling:null);Di(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Jo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Di(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Oo(e,t,n)}return Zo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,fs&&0!==(1048576&t.flags)&&ls(t,ts,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xo(e,t),e=t.pendingProps;var i=Vi(t,Mi.current);Us(t,n),i=ka(null,t,r,e,i,n);var a=Na();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bi(r)?(a=!0,Hi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Hs(t),i.updater=fo,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Mo(null,t,r,!0,a,n)):(t.tag=0,fs&&a&&cs(t),Io(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=uo(r,e),i){case 0:t=Do(null,t,r,e,n);break e;case 1:t=Lo(null,t,r,e,n);break e;case 11:t=jo(null,t,r,e,n);break e;case 14:t=Ao(null,t,r,uo(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Do(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 3:e:{if(Uo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ks(e,t),Js(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fo(e,t,r,n,i=vo(Error(s(423)),t));break e}if(r!==i){t=Fo(e,t,r,n,i=vo(Error(s(424)),t));break e}for(hs=vi(t.stateNode.containerInfo.firstChild),ds=t,fs=!0,ps=null,n=js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_s(),r===i){t=Zo(e,t,n);break e}Io(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&vs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,di(r,i)?o=null:null!==a&&di(r,a)&&(t.flags|=32),Po(e,t),Io(e,t,o,n),t.child;case 6:return null===e&&vs(t),null;case 13:return Ko(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Is(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Di(As,r._currentValue),r._currentValue=o,null!==a)if(gr(a.value,o)){if(a.children===i.children&&!Ui.current){t=Zo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Gs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ms(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ms(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Io(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Us(t,n),r=r(i=Fs(i)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return i=uo(r=t.type,t.pendingProps),Ao(e,t,r,i=uo(r.type,i),n);case 15:return Ro(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uo(r,i),Xo(e,t),t.tag=1,Bi(r)?(e=!0,Hi(t)):e=!1,Us(t,n),mo(t,r,i),yo(t,r,i,n),Mo(null,t,r,!0,e,n);case 19:return Jo(e,t,n);case 22:return Oo(e,t,n)}throw Error(s(156,t.tag))};var nu="function"===typeof reportError?reportError:function(e){console.error(e)};function ru(e){this._internalRoot=e}function iu(e){this._internalRoot=e}function su(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(){}function lu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Zc(a);o.call(e)}}Xc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Zc(a);s.call(e)}}var a=Jc(t,r,e,0,null,!1,0,"",ou);return e._reactRootContainer=a,e[Ei]=a.current,Jr(8===e.nodeType?e.parentNode:e),bc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Zc(l);o.call(e)}}var l=Yc(e,0,!1,null,0,!1,0,"",ou);return e._reactRootContainer=l,e[Ei]=l.current,Jr(8===e.nodeType?e.parentNode:e),bc(function(){Xc(t,l,n,r)}),l}(n,t,e,i,r);return Zc(a)}iu.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Xc(e,t,null,null)},iu.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;bc(function(){Xc(null,e,null,null)}),t[Ei]=null}},iu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&0!==t&&t<zt[n].priority;n++);zt.splice(n,0,e),0===n&&Kt(e)}},It=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vt(t.pendingLanes);0!==n&&(St(t,1|n),hc(t,it()),0===(6&Ml)&&(Jl=it()+500,Ji()))}break;case 13:bc(function(){var t=qs(e,1);if(null!==t){var n=cc();dc(t,e,1,n)}}),tu(e,1)}},jt=function(e){if(13===e.tag){var t=qs(e,134217728);if(null!==t)dc(t,e,134217728,cc());tu(e,134217728)}},At=function(e){if(13===e.tag){var t=uc(e),n=qs(e,t);if(null!==n)dc(n,e,t,cc());tu(e,t)}},Rt=function(){return Tt},Ot=function(e,t){var n=Tt;try{return Tt=e,t()}finally{Tt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ji(r);if(!i)throw Error(s(90));G(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=vc,Ce=bc;var cu={usingClientEntryPoint:!1,Events:[Ci,Ii,ji,Ne,Se,vc]},uu={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},du={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{dt=hu.inject(du),ht=hu}catch(ze){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!su(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!su(e))throw Error(s(299));var n=!1,r="",i=nu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Yc(e,1,!1,null,0,n,0,r,i),e[Ei]=t.current,Jr(8===e.nodeType?e.parentNode:e),new ru(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e){return bc(e)},t.hydrate=function(e,t,n){if(!au(t))throw Error(s(200));return lu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!su(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=nu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Jc(t,null,e,1,null!=n?n:null,i,0,a,o),e[Ei]=t.current,Jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new iu(t)},t.render=function(e,t,n){if(!au(t))throw Error(s(200));return lu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!au(e))throw Error(s(40));return!!e._reactRootContainer&&(bc(function(){lu(null,null,e,!1,function(){e._reactRootContainer=null,e[Ei]=null})}),!0)},t.unstable_batchedUpdates=vc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!au(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return lu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Fe){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>R_,hasStandardBrowserEnv:()=>P_,hasStandardBrowserWebWorkerEnv:()=>D_,navigator:()=>O_,origin:()=>L_});var i,s=n(43),a=n.t(s,2),o=n(391),l=n(950),c=n.t(l,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const d="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Fe){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function y(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=i.Pop,c=null,f=y();function y(){return(o.state||{idx:null}).idx}function v(){l=i.Pop;let e=y(),t=null==e?null:e-f;f=e,c&&c({action:l,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,o.replaceState(u({},o.state,{idx:f}),""));let w={get action(){return l},get location(){return e(s,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(d,v),c=e,()=>{s.removeEventListener(d,v),c=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=m(w.location,e,t);n&&n(r,e),f=y()+1;let u=p(r,f),d=w.createHref(r);try{o.pushState(u,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(d)}a&&c&&c({action:l,location:w.location,delta:1})},replace:function(e,t){l=i.Replace;let r=m(w.location,e,t);n&&n(r,e),f=y();let s=p(r,f),u=w.createHref(r);o.replaceState(s,"",u),a&&c&&c({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,r){let i=D(("string"===typeof t?y(t):t).pathname||"/",n);if(null==i)return null;let s=_(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=P(i);a=R(s[o],e,r)}return a}function _(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=V([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),_(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))i(e,t,r);else i(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=E(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,N=3,S=2,T=1,C=10,I=-2,j=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=I),t&&(r+=S),n.filter(e=>!j(e)).reduce((e,t)=>e+(k.test(t)?N:""===t?T:C),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:V([s,u.pathname]),pathnameBase:B(V([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=V([s,u.pathnameBase]))}return a}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function U(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=y(e):(i=u({},e),h(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?y(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:z(r),hash:q(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const V=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],K=(new Set(H),["get",...H]);new Set(K),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const Q=s.createContext(null);const Y=s.createContext(null);const $=s.createContext(null);const J=s.createContext(null);const X=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=s.createContext(null);function ee(){return null!=s.useContext(J)}function te(){return ee()||h(!1),s.useContext(J).location}function ne(e){s.useContext($).static||s.useLayoutEffect(e)}function re(){let{isDataRoute:e}=s.useContext(X);return e?function(){let{router:e}=fe(de.UseNavigateStable),t=me(he.UseNavigateStable),n=s.useRef(!1);return ne(()=>{n.current=!0}),s.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},i)))},[e,t])}():function(){ee()||h(!1);let e=s.useContext(Q),{basename:t,future:n,navigator:r}=s.useContext($),{matches:i}=s.useContext(X),{pathname:a}=te(),o=JSON.stringify(U(i,n.v7_relativeSplatPath)),l=s.useRef(!1);return ne(()=>{l.current=!0}),s.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:V([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e])}()}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext($),{matches:i}=s.useContext(X),{pathname:a}=te(),o=JSON.stringify(U(i,r.v7_relativeSplatPath));return s.useMemo(()=>F(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function se(e,t,n,r){ee()||h(!1);let{navigator:a}=s.useContext($),{matches:o}=s.useContext(X),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=te();if(t){var p;let e="string"===typeof t?y(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",g=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=w(e,{pathname:g});let b=ue(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:V([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:V([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&b?s.createElement(J.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:i.Pop}},b):b}function ae(){let e=function(){var e;let t=s.useContext(Z),n=pe(he.UseRouteError),r=me(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const oe=s.createElement(ae,null);class le extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(X.Provider,{value:this.props.routeContext},s.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(Q);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(X.Provider,{value:t},r)}function ue(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,i)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||oe,c&&(u<0&&0===i?(p="route-fallback",!1||ge[p]||(ge[p]=!0),d=!0,f=null):u===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=a?h:d?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function fe(e){let t=s.useContext(Q);return t||h(!1),t}function pe(e){let t=s.useContext(Y);return t||h(!1),t}function me(e){let t=function(){let e=s.useContext(X);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const ge={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:i}=e;ee()||h(!1);let{future:a,static:o}=s.useContext($),{matches:l}=s.useContext(X),{pathname:c}=te(),u=re(),d=F(t,U(l,a.v7_relativeSplatPath),c,"path"===i),f=JSON.stringify(d);return s.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function be(e){h(!1)}function we(e){let{basename:t="/",children:n=null,location:r,navigationType:a=i.Pop,navigator:o,static:l=!1,future:c}=e;ee()&&h(!1);let u=t.replace(/^\/*/,"/"),d=s.useMemo(()=>({basename:u,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof r&&(r=y(r));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=r,b=s.useMemo(()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:a}},[u,f,p,m,g,v,a]);return null==b?null:s.createElement($.Provider,{value:d},s.createElement(J.Provider,{children:n,value:b}))}function xe(e){let{children:t,location:n}=e;return se(_e(t),n)}new Promise(()=>{});s.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,_e(e.props.children,i));e.type!==be&&h(!1),e.props.index&&e.props.children&&h(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=_e(e.props.children,i)),n.push(a)}),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Fe){}new Map;const Se=a.startTransition;c.flushSync,a.useId;function Te(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return m("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:g(t)},null,o)));let l=a.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=s.useCallback(e=>{d&&Se?Se(()=>u(e)):u(e)},[u,d]);return s.useLayoutEffect(()=>l.listen(h),[l,h]),s.useEffect(()=>ye(r),[r]),s.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=s.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=ke(e,Ne),{basename:m}=s.useContext($),y=!1;if("string"===typeof u&&Ie.test(u)&&(n=u,Ce))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=D(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(Fe){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||h(!1);let{basename:r,navigator:i}=s.useContext($),{hash:a,pathname:o,search:l}=ie(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:V([r,o])),i.createHref({pathname:c,search:l,hash:a})}(u,{relative:i}),b=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=re(),u=te(),d=ie(e,{relative:o});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,i,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});return s.createElement("a",Ee({},p,{href:n||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Ae,Re;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));function Oe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function De(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}function Le(e,t,n){return(t=De(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach(function(t){Le(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let Fe={data:""},Ve=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Fe,Be=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ze=/\/\*[^]*?\*\/|  +/g,qe=/\n+/g,We=(e,t)=>{let n="",r="",i="";for(let s in e){let a=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+a+";":r+="f"==s[1]?We(a,s):s+"{"+We(a,"k"==s[1]?"":t)+"}":"object"==typeof a?r+=We(a,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=a&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=We.p?We.p(s,a):s+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},He={},Ke=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Ke(e[n]);return t}return e},Ge=(e,t,n,r,i)=>{let s=Ke(e),a=He[s]||(He[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!He[a]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=Be.exec(e.replace(ze,""));)t[4]?r.shift():t[3]?(n=t[3].replace(qe," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(qe," ").trim();return r[0]})(e);He[a]=We(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let o=n&&He.g?He.g:null;return n&&(He.g=He[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(He[a],t,r,o),a};function Qe(e){let t=this||{},n=e.call?e(t.p):e;return Ge(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":We(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Ve(t.target),t.g,t.o,t.k)}Qe.bind({g:1});let Ye,$e,Je,Xe=Qe.bind({k:1});function Ze(e,t){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:$e&&$e()},o),n.o=/ *go\d+/.test(l),o.className=Qe.apply(n,r)+(l?" "+l:""),t&&(o.ref=a);let c=e;return e[0]&&(c=o.as||e,delete o.as),Je&&c[0]&&Je(o),Ye(c,o)}return t?t(i):i}}var et,tt,nt,rt,it,st,at,ot,lt,ct,ut,dt,ht,ft,pt,mt,gt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,yt=(()=>{let e=0;return()=>(++e).toString()})(),vt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),bt="default",wt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return Ue(Ue({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return Ue(Ue({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Ue(Ue({},e),t.toast):e)});case 2:let{toast:r}=t;return wt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return Ue(Ue({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?Ue(Ue({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Ue(Ue({},e),{},{toasts:[]}):Ue(Ue({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Ue(Ue({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return Ue(Ue({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Ue(Ue({},e),{},{pauseDuration:e.pauseDuration+s}))})}},xt=[],_t={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Et={},kt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt;Et[t]=wt(Et[t]||_t,e),xt.forEach(e=>{let[n,r]=e;n===t&&r(Et[t])})},Nt=e=>Object.keys(Et).forEach(t=>kt(e,t)),St=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return t=>{kt(t,e)}},Tt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ct=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Ue(Ue({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||yt()})}(t,e,n);return St(r.toasterId||(e=>Object.keys(Et).find(t=>Et[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},It=(e,t)=>Ct("blank")(e,t);It.error=Ct("error"),It.success=Ct("success"),It.loading=Ct("loading"),It.custom=Ct("custom"),It.dismiss=(e,t)=>{let n={type:3,toastId:e};t?St(t)(n):Nt(n)},It.dismissAll=e=>It.dismiss(void 0,e),It.remove=(e,t)=>{let n={type:4,toastId:e};t?St(t)(n):Nt(n)},It.removeAll=e=>It.remove(void 0,e),It.promise=(e,t,n)=>{let r=It.loading(t.loading,Ue(Ue({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?gt(t.success,e):void 0;return i?It.success(i,Ue(Ue({id:r},n),null==n?void 0:n.success)):It.dismiss(r),e}).catch(e=>{let i=t.error?gt(t.error,e):void 0;i?It.error(i,Ue(Ue({id:r},n),null==n?void 0:n.error)):It.dismiss(r)}),e};var jt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt,[n,r]=(0,s.useState)(Et[t]||_t),i=(0,s.useRef)(Et[t]);(0,s.useEffect)(()=>(i.current!==Et[t]&&r(Et[t]),xt.push([t,r]),()=>{let e=xt.findIndex(e=>{let[n]=e;return n===t});e>-1&&xt.splice(e,1)}),[t]);let a=n.toasts.map(t=>{var n,r,i;return Ue(Ue(Ue(Ue({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Tt[t.type],style:Ue(Ue(Ue({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return Ue(Ue({},n),{},{toasts:a})}(e,t),i=(0,s.useRef)(new Map).current,a=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(i.has(e))return;let n=setTimeout(()=>{i.delete(e),o({type:4,toastId:e})},t);i.set(e,n)},[]);(0,s.useEffect)(()=>{if(r)return;let e=Date.now(),i=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>It.dismiss(n.id,t),r);n.visible&&It.dismiss(n.id)});return()=>{i.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let o=(0,s.useCallback)(St(t),[t]),l=(0,s.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,s.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),u=(0,s.useCallback)(()=>{r&&o({type:6,time:Date.now()})},[r,o]),d=(0,s.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=t||{},a=n.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=a.findIndex(t=>t.id===e.id),l=a.filter((e,t)=>t<o&&e.visible).length;return a.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,s.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)a(e.id,e.removeDelay);else{let t=i.get(e.id);t&&(clearTimeout(t),i.delete(e.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},At=Xe(et||(et=Oe(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Rt=Xe(tt||(tt=Oe(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Ot=Xe(nt||(nt=Oe(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Pt=Ze("div")(rt||(rt=Oe(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",At,Rt,e=>e.secondary||"#fff",Ot),Dt=Xe(it||(it=Oe(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Lt=Ze("div")(st||(st=Oe(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Dt),Mt=Xe(at||(at=Oe(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Ut=Xe(ot||(ot=Oe(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Ft=Ze("div")(lt||(lt=Oe(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Mt,Ut,e=>e.secondary||"#fff"),Vt=Ze("div")(ct||(ct=Oe(["\n  position: absolute;\n"]))),Bt=Ze("div")(ut||(ut=Oe(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),zt=Xe(dt||(dt=Oe(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),qt=Ze("div")(ht||(ht=Oe(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),zt),Wt=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:i}=t;return void 0!==n?"string"==typeof n?s.createElement(qt,null,n):n:"blank"===r?null:s.createElement(Bt,null,s.createElement(Lt,Ue({},i)),"loading"!==r&&s.createElement(Vt,null,"error"===r?s.createElement(Pt,Ue({},i)):s.createElement(Ft,Ue({},i))))},Ht=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Kt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Gt=Ze("div")(ft||(ft=Oe(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Qt=Ze("div")(pt||(pt=Oe(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Yt=s.memo(e=>{let{toast:t,position:n,style:r,children:i}=e,a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=vt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Ht(n),Kt(n)];return{animation:t?"".concat(Xe(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Xe(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},o=s.createElement(Wt,{toast:t}),l=s.createElement(Qt,Ue({},t.ariaProps),gt(t.message,t));return s.createElement(Gt,{className:t.className,style:Ue(Ue(Ue({},a),r),t.style)},"function"==typeof i?i({icon:o,message:l}):s.createElement(s.Fragment,null,o,l))});!function(e,t,n,r){We.p=t,Ye=e,$e=n,Je=r}(s.createElement);var $t=e=>{let{id:t,className:n,style:r,onHeightUpdate:i,children:a}=e,o=s.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;i(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return s.createElement("div",{ref:o,className:n,style:r},a)},Jt=Qe(mt||(mt=Oe(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Xt=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:i,children:a,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:d}=jt(r,o);return s.createElement("div",{"data-rht-toaster":o||"",style:Ue({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let r=e.position||n,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Ue(Ue({left:0,right:0,display:"flex",position:"absolute",transition:vt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(r,d.calculateOffset(e,{reverseOrder:t,gutter:i,defaultPosition:n}));return s.createElement($t,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?Jt:"",style:o},"custom"===e.type?gt(e.message,e):a?a(e):s.createElement(Yt,{toast:e,position:r}))}))},Zt=It;const en=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},tn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(en(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new nn;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rn=function(e){return function(e){const t=en(e);return tn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},sn=function(e){try{return tn.decodeString(e,!0)}catch(Fe){console.error("base64Decode failed: ",Fe)}return null};const an=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,on=()=>{try{return an()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5000",REACT_APP_ENVIRONMENT:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyDt3ilVFm5BryPqb2DeXPF0mCXiWbvU7H8",REACT_APP_FIREBASE_APP_ID:"1:624853863549:web:b5c22a8c65db67d5949a6a",REACT_APP_FIREBASE_AUTH_DOMAIN:"skillwagers.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-7YFELE6P82",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"624853863549",REACT_APP_FIREBASE_PROJECT_ID:"skillwagers",REACT_APP_FIREBASE_STORAGE_BUCKET:"skillwagers.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Fe){return}const t=e&&sn(e[1]);return t&&JSON.parse(t)})()}catch(Fe){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Fe))}},ln=e=>{var t,n;return null===(n=null===(t=on())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},cn=e=>{const t=ln(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},un=()=>{var e;return null===(e=on())||void 0===e?void 0:e.config},dn=e=>{var t;return null===(t=on())||void 0===t?void 0:t["_".concat(e)]};class hn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function fn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[rn(JSON.stringify({alg:"none",type:"JWT"})),rn(JSON.stringify(s)),""].join(".")}function pn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function mn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function gn(){return!function(){var e;const t=null===(e=on())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Fe){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yn(){try{return"object"===typeof indexedDB}catch(Fe){return!1}}function vn(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class bn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}}class wn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(xn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new bn(n,s,t)}}const xn=/\{\$([^}]+)}/g;function _n(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(En(n)&&En(s)){if(!_n(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function En(e){return null!==e&&"object"===typeof e}function kn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Nn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Sn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Tn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Cn),void 0===r.error&&(r.error=Cn),void 0===r.complete&&(r.complete=Cn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Fe){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Fe){"undefined"!==typeof console&&console.error&&console.error(Fe)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function In(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function jn(e){return e&&e._delegate?e._delegate:e}class An{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Rn="[DEFAULT]";class On{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new hn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Fe){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Fe){if(r)return null;throw Fe}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Rn})}catch(Fe){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Fe){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Rn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn;return this.component?this.component.multipleInstances?e:Rn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new On(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Dn=[];var Ln;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ln||(Ln={}));const Mn={debug:Ln.DEBUG,verbose:Ln.VERBOSE,info:Ln.INFO,warn:Ln.WARN,error:Ln.ERROR,silent:Ln.SILENT},Un=Ln.INFO,Fn={[Ln.DEBUG]:"log",[Ln.VERBOSE]:"log",[Ln.INFO]:"info",[Ln.WARN]:"warn",[Ln.ERROR]:"error"},Vn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Fn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Bn{constructor(e){this.name=e,this._logLevel=Un,this._logHandler=Vn,this._userLogHandler=null,Dn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ln))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Mn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.DEBUG,...t),this._logHandler(this,Ln.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.VERBOSE,...t),this._logHandler(this,Ln.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.INFO,...t),this._logHandler(this,Ln.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.WARN,...t),this._logHandler(this,Ln.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.ERROR,...t),this._logHandler(this,Ln.ERROR,...t)}}let zn,qn;const Wn=new WeakMap,Hn=new WeakMap,Kn=new WeakMap,Gn=new WeakMap,Qn=new WeakMap;let Yn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Hn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function $n(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qn||(qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Zn(this),n),Xn(Wn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xn(e.apply(Zn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Zn(this),t,...r);return Kn.set(s,t.sort?t.sort():[t]),Xn(s)}}function Jn(e){return"function"===typeof e?$n(e):(e instanceof IDBTransaction&&function(e){if(Hn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Hn.set(e,t)}(e),t=e,(zn||(zn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Yn):e);var t}function Xn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Xn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Wn.set(t,e)}).catch(()=>{}),Qn.set(t,e),t}(e);if(Gn.has(e))return Gn.get(e);const t=Jn(e);return t!==e&&(Gn.set(e,t),Qn.set(t,e)),t}const Zn=e=>Qn.get(e);function er(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Xn(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Xn(a.result),e.oldVersion,e.newVersion,Xn(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const tr=["get","getKey","getAll","getAllKeys","count"],nr=["put","add","delete","clear"],rr=new Map;function ir(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(rr.get(t))return rr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=nr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tr.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return rr.set(t,s),s}Yn=(e=>Ue(Ue({},e),{},{get:(t,n,r)=>ir(t,n)||e.get(t,n,r),has:(t,n)=>!!ir(t,n)||e.has(t,n)}))(Yn);class sr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ar="@firebase/app",or="0.10.13",lr=new Bn("@firebase/app"),cr="@firebase/app-compat",ur="@firebase/analytics-compat",dr="@firebase/analytics",hr="@firebase/app-check-compat",fr="@firebase/app-check",pr="@firebase/auth",mr="@firebase/auth-compat",gr="@firebase/database",yr="@firebase/data-connect",vr="@firebase/database-compat",br="@firebase/functions",wr="@firebase/functions-compat",xr="@firebase/installations",_r="@firebase/installations-compat",Er="@firebase/messaging",kr="@firebase/messaging-compat",Nr="@firebase/performance",Sr="@firebase/performance-compat",Tr="@firebase/remote-config",Cr="@firebase/remote-config-compat",Ir="@firebase/storage",jr="@firebase/storage-compat",Ar="@firebase/firestore",Rr="@firebase/vertexai-preview",Or="@firebase/firestore-compat",Pr="firebase",Dr="[DEFAULT]",Lr={[ar]:"fire-core",[cr]:"fire-core-compat",[dr]:"fire-analytics",[ur]:"fire-analytics-compat",[fr]:"fire-app-check",[hr]:"fire-app-check-compat",[pr]:"fire-auth",[mr]:"fire-auth-compat",[gr]:"fire-rtdb",[yr]:"fire-data-connect",[vr]:"fire-rtdb-compat",[br]:"fire-fn",[wr]:"fire-fn-compat",[xr]:"fire-iid",[_r]:"fire-iid-compat",[Er]:"fire-fcm",[kr]:"fire-fcm-compat",[Nr]:"fire-perf",[Sr]:"fire-perf-compat",[Tr]:"fire-rc",[Cr]:"fire-rc-compat",[Ir]:"fire-gcs",[jr]:"fire-gcs-compat",[Ar]:"fire-fst",[Or]:"fire-fst-compat",[Rr]:"fire-vertex","fire-js":"fire-js",[Pr]:"fire-js-all"},Mr=new Map,Ur=new Map,Fr=new Map;function Vr(e,t){try{e.container.addComponent(t)}catch(Fe){lr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Fe)}}function Br(e){const t=e.name;if(Fr.has(t))return lr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fr.set(t,e);for(const n of Mr.values())Vr(n,e);for(const n of Ur.values())Vr(n,e);return!0}function zr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qr(e){return void 0!==e.settings}const Wr=new wn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Hr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}const Kr="10.14.1";function Gr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Dr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(n||(n=un()),!n)throw Wr.create("no-options");const s=Mr.get(i);if(s){if(_n(n,s.options)&&_n(r,s.config))return s;throw Wr.create("duplicate-app",{appName:i})}const a=new Pn(i);for(const l of Fr.values())a.addComponent(l);const o=new Hr(n,r,a);return Mr.set(i,o),o}function Qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr;const t=Mr.get(e);if(!t&&e===Dr&&un())return Gr();if(!t)throw Wr.create("no-app",{appName:e});return t}function Yr(){return Array.from(Mr.values())}function $r(e,t,n){var r;let i=null!==(r=Lr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void lr.warn(e.join(" "))}Br(new An("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Jr="firebase-heartbeat-store";let Xr=null;function Zr(){return Xr||(Xr=er("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Jr)}catch(Fe){console.warn(Fe)}}}).catch(e=>{throw Wr.create("idb-open",{originalErrorMessage:e.message})})),Xr}async function ei(e,t){try{const n=(await Zr()).transaction(Jr,"readwrite"),r=n.objectStore(Jr);await r.put(t,ti(e)),await n.done}catch(Fe){if(Fe instanceof bn)lr.warn(Fe.message);else{const t=Wr.create("idb-set",{originalErrorMessage:null===Fe||void 0===Fe?void 0:Fe.message});lr.warn(t.message)}}}function ti(e){return"".concat(e.name,"!").concat(e.options.appId)}class ni{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ii(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ri();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(Fe){lr.warn(Fe)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ri(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),si(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),si(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=rn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Fe){return lr.warn(Fe),""}}}function ri(){return(new Date).toISOString().substring(0,10)}class ii{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!yn()&&vn().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Zr()).transaction(Jr),n=await t.objectStore(Jr).get(ti(e));return await t.done,n}catch(Fe){if(Fe instanceof bn)lr.warn(Fe.message);else{const t=Wr.create("idb-get",{originalErrorMessage:null===Fe||void 0===Fe?void 0:Fe.message});lr.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ei(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ei(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function si(e){return rn(JSON.stringify({version:2,heartbeats:e})).length}var ai;ai="",Br(new An("platform-logger",e=>new sr(e),"PRIVATE")),Br(new An("heartbeat",e=>new ni(e),"PRIVATE")),$r(ar,or,ai),$r(ar,or,"esm2017"),$r("fire-js","");function oi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function li(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ci=li,ui=new wn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),di=new Bn("@firebase/auth");function hi(e){if(di.logLevel<=Ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];di.error("Auth (".concat(Kr,"): ").concat(e),...n)}}function fi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vi(e,...n)}function pi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vi(e,...n)}function mi(e,t,n){const r=Object.assign(Object.assign({},ci()),{[t]:n});return new wn("auth","Firebase",r).create(t,{appName:e.name})}function gi(e){return mi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&fi(e,"argument-error"),mi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function vi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ui.create(e,...n)}function bi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw vi(t,...r)}}function wi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hi(t),new Error(t)}function xi(e,t){e||wi(t)}function _i(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ei(){return"http:"===ki()||"https:"===ki()}function ki(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ni{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ei()||mn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Si(e,t){xi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ti{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ci={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ii=new Ni(3e4,6e4);function ji(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ai(e,t,n,r){return Ri(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=kn(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Ti.fetch()(Pi(e,e.config.apiHost,n,a),l)})}async function Ri(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ci),t);try{const t=new Li(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Mi(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Mi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Mi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Mi(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw mi(e,o,a);fi(e,o)}}catch(Fe){if(Fe instanceof bn)throw Fe;fi(e,"network-request-failed",{message:String(Fe)})}}async function Oi(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ai(e,t,n,r,i);return"mfaPendingCredential"in s&&fi(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Pi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Si(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Di(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Li{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(pi(this.auth,"network-request-failed")),Ii.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pi(e,t,r);return i.customData._tokenResponse=n,i}function Ui(e){return void 0!==e&&void 0!==e.enterprise}class Fi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Di(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Vi(e,t){return Ai(e,"GET","/v2/recaptchaConfig",ji(e,t))}async function Bi(e,t){return Ai(e,"POST","/v1/accounts:lookup",t)}function zi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Fe){}}function qi(e){return 1e3*Number(e)}function Wi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return hi("JWT malformed, contained fewer than 3 sections"),null;try{const e=sn(n);return e?JSON.parse(e):(hi("Failed to decode base64 JWT payload"),null)}catch(Fe){return hi("Caught error parsing JWT payload as JSON",null===Fe||void 0===Fe?void 0:Fe.toString()),null}}function Hi(e){const t=Wi(e);return bi(t,"internal-error"),bi("undefined"!==typeof t.exp,"internal-error"),bi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ki(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Fe){throw Fe instanceof bn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Fe)&&e.auth.currentUser===e&&await e.auth.signOut(),Fe}}class Gi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Fe){return void((null===Fe||void 0===Fe?void 0:Fe.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Qi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zi(this.lastLoginAt),this.creationTime=zi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ki(e,Bi(n,{idToken:r}));bi(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?$i(s.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Qi(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function $i(e){return e.map(e=>{var{providerId:t}=e,n=oi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bi(e.idToken,"internal-error"),bi("undefined"!==typeof e.idToken,"internal-error"),bi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Hi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){bi(0!==e.length,"internal-error");const t=Hi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(bi(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ri(e,{},async()=>{const n=kn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Pi(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ti.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Ji;return n&&(bi("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(bi("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(bi("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ji,this.toJSON())}_performRefresh(){return wi("not implemented")}}function Xi(e,t){bi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Zi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=oi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ki(this,this.stsTokenManager.getToken(this.auth,e));return bi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=jn(e),r=await n.getIdToken(t),i=Wi(r);bi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:zi(qi(i.auth_time)),issuedAtTime:zi(qi(i.iat)),expirationTime:zi(qi(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=jn(e);await Yi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(bi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){bi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Yi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await Ki(this,async function(e,t){return Ai(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=t;bi(v&&_,e,"internal-error");const E=Ji.fromJSON(this.name,_);bi("string"===typeof v,e,"internal-error"),Xi(u,e.name),Xi(d,e.name),bi("boolean"===typeof b,e,"internal-error"),bi("boolean"===typeof w,e,"internal-error"),Xi(h,e.name),Xi(f,e.name),Xi(p,e.name),Xi(m,e.name),Xi(g,e.name),Xi(y,e.name);const k=new Zi({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(k.providerData=x.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ji;r.updateFromServerResponse(t);const i=new Zi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Yi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];bi(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?$i(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Ji;a.updateFromIdToken(n);const o=new Zi({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Qi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const es=new Map;function ts(e){xi(e instanceof Function,"Expected a class definition");let t=es.get(e);return t?(xi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,es.set(e,t),t)}class ns{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ns.type="NONE";const rs=ns;function is(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ss{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=is(this.userKey,r.apiKey,i),this.fullPersistenceKey=is("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ss(ts(rs),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ts(rs);const s=is(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Zi._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new ss(i,e,n)):new ss(i,e,n)}}function as(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(us(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(os(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hs(t))return"Blackberry";if(fs(t))return"Webos";if(ls(t))return"Safari";if((t.includes("chrome/")||cs(t))&&!t.includes("edge/"))return"Chrome";if(ds(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function os(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/firefox\//i.test(e)}function ls(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/crios\//i.test(e)}function us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/iemobile/i.test(e)}function ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/android/i.test(e)}function hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/blackberry/i.test(e)}function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/webos/i.test(e)}function ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ms(){return function(){const e=pn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn();return ps(e)||ds(e)||fs(e)||hs(e)||/windows phone/i.test(e)||us(e)}function ys(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=as(pn());break;case"Worker":t="".concat(as(pn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Kr,"/").concat(r)}class vs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Fe){r(Fe)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Fe){t.reverse();for(const n of t)try{n()}catch(Nt){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Fe||void 0===Fe?void 0:Fe.message})}}}class bs{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ws{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _s(this),this.idTokenSubscription=new _s(this),this.beforeStateQueue=new vs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ui,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ts(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ss.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Fe){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Bi(this,{idToken:e}),n=await Zi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(qr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Fe){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Fe))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Fe){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yi(e)}catch(Fe){if((null===Fe||void 0===Fe?void 0:Fe.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qr(this.app))return Promise.reject(gi(this));const t=e?jn(e):null;return t&&bi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&bi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qr(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qr(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ai(e,"GET","/v2/passwordPolicy",ji(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new bs(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ai(e,"POST","/v2/accounts:revokeToken",ji(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ts(e)||this._popupRedirectResolver;bi(t,this,"argument-error"),this.redirectPersistenceManager=await ss.create(this,[ts(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(bi(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ys(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(di.logLevel<=Ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];di.warn("Auth (".concat(Kr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function xs(e){return jn(e)}class _s{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Tn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return bi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Es={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ks(e){return Es.loadJS(e)}function Ns(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ss{constructor(e){this.type="recaptcha-enterprise",this.auth=xs(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ui(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Vi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Fi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Ui(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Es.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ks(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ts(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ss(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Cs(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ts(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ts(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function Is(e,t,n){const r=xs(e);bi(r._canInitEmulator,r,"emulator-config-failed"),bi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=js(t),{host:a,port:o}=function(e){const t=js(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:As(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:As(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function js(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function As(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Rs{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,t){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function Os(e,t){return Ai(e,"POST","/v1/accounts:signUp",t)}async function Ps(e,t){return Oi(e,"POST","/v1/accounts:signInWithPassword",ji(e,t))}async function Ds(e,t){return Ai(e,"POST","/v1/accounts:sendOobCode",ji(e,t))}async function Ls(e,t){return Ds(e,t)}class Ms extends Rs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ms(e,t,"password")}static _fromEmailAndCode(e,t){return new Ms(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Cs(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ps);case"emailLink":return async function(e,t){return Oi(e,"POST","/v1/accounts:signInWithEmailLink",ji(e,t))}(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Cs(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Os);case"emailLink":return async function(e,t){return Oi(e,"POST","/v1/accounts:signInWithEmailLink",ji(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Us(e,t){return Oi(e,"POST","/v1/accounts:signInWithIdp",ji(e,t))}class Fs extends Rs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=oi(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Fs(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Us(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Us(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Us(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kn(t)}return e}}const Vs={USER_NOT_FOUND:"user-not-found"};class Bs extends Rs{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Bs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Bs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Oi(e,"POST","/v1/accounts:signInWithPhoneNumber",ji(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Oi(e,"POST","/v1/accounts:signInWithPhoneNumber",ji(e,t));if(n.temporaryProof)throw Mi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Oi(e,"POST","/v1/accounts:signInWithPhoneNumber",ji(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Vs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Bs({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class zs{constructor(e){var t,n,r,i,s,a;const o=Nn(Sn(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);bi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Nn(Sn(e)).link,n=t?Nn(Sn(t)).deep_link_id:null,r=Nn(Sn(e)).deep_link_id;return(r?Nn(Sn(r)).link:null)||r||n||t||e}(e);try{return new zs(t)}catch(n){return null}}}class qs{constructor(){this.providerId=qs.PROVIDER_ID}static credential(e,t){return Ms._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=zs.parseLink(t);return bi(n,"argument-error"),Ms._fromEmailAndCode(e,n.code,n.tenantId)}}qs.PROVIDER_ID="password",qs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ws{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hs extends Ws{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ks extends Hs{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch(n){return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ks.PROVIDER_ID="facebook.com";class Gs extends Hs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fs._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Gs.credential(n,r)}catch(i){return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com",Gs.PROVIDER_ID="google.com";class Qs extends Hs{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch(n){return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com",Qs.PROVIDER_ID="github.com";class Ys extends Hs{constructor(){super("twitter.com")}static credential(e,t){return Fs._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ys.credential(n,r)}catch(i){return null}}}async function $s(e,t){return Oi(e,"POST","/v1/accounts:signUp",ji(e,t))}Ys.TWITTER_SIGN_IN_METHOD="twitter.com",Ys.PROVIDER_ID="twitter.com";class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Zi._fromIdTokenResponse(e,n,r),s=Xs(n);return new Js({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Xs(n);return new Js({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Xs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Zs extends bn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Zs.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Zs(e,t,n,r)}}function ea(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zs._fromErrorAndOperation(e,n,t,r);throw n})}async function ta(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ki(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Js._forOperation(e,"link",r)}async function na(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(qr(r.app))return Promise.reject(gi(r));const i="reauthenticate";try{const s=await Ki(e,ea(r,i,t,e),n);bi(s.idToken,r,"internal-error");const a=Wi(s.idToken);bi(a,r,"internal-error");const{sub:o}=a;return bi(e.uid===o,r,"user-mismatch"),Js._forOperation(e,i,s)}catch(Fe){throw(null===Fe||void 0===Fe?void 0:Fe.code)==="auth/".concat("user-not-found")&&fi(r,"user-mismatch"),Fe}}async function ra(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(qr(e.app))return Promise.reject(gi(e));const r="signIn",i=await ea(e,r,t),s=await Js._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ia(e,t){return ra(xs(e),t)}function sa(e,t,n){var r;bi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),bi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(bi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(bi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function aa(e){const t=xs(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function oa(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=jn(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Ki(i,async function(e,t){return Ai(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function la(e,t,n,r){return jn(e).onAuthStateChanged(t,n,r)}function ca(e){return jn(e).signOut()}new WeakMap;const ua="__sak";class da{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ua,"1"),this.storage.removeItem(ua),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ha extends da{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gs(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ms()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ha.type="LOCAL";const fa=ha;class pa extends da{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pa.type="SESSION";const ma=pa;class ga{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ga(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ya(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ga.receivers=[];class va{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=ya("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function ba(){return window}function wa(){return"undefined"!==typeof ba().WorkerGlobalScope&&"function"===typeof ba().importScripts}const xa="firebaseLocalStorageDb",_a="firebaseLocalStorage",Ea="fbase_key";class ka{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Na(e,t){return e.transaction([_a],t?"readwrite":"readonly").objectStore(_a)}function Sa(){const e=indexedDB.open(xa,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(_a,{keyPath:Ea})}catch(Fe){n(Fe)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(_a)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(xa);return new ka(e).toPromise()}(),t(await Sa()))})})}async function Ta(e,t,n){const r=Na(e,!0).put({[Ea]:t,value:n});return new ka(r).toPromise()}function Ca(e,t){const n=Na(e,!0).delete(t);return new ka(n).toPromise()}class Ia{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Sa()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Fe){if(t++>3)throw Fe;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wa()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ga._getInstance(wa()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new va(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sa();return await Ta(e,ua,"1"),await Ca(e,ua),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ta(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Na(e,!1).get(t),r=await new ka(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ca(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Na(e,!1).getAll();return new ka(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ia.type="LOCAL";const ja=Ia;Ns("rcb"),new Ni(3e4,6e4);const Aa="recaptcha";async function Ra(e,t,n){var r;const i=await n.verify();try{let s;if(bi("string"===typeof i,e,"argument-error"),bi(n.type===Aa,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){bi("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ai(e,"POST","/v2/accounts/mfaEnrollment:start",ji(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{bi("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;bi(n,e,"missing-multi-factor-info");const a=await function(e,t){return Ai(e,"POST","/v2/accounts/mfaSignIn:start",ji(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ai(e,"POST","/v1/accounts:sendVerificationCode",ji(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Oa{constructor(e){this.providerId=Oa.PROVIDER_ID,this.auth=xs(e)}verifyPhoneNumber(e,t){return Ra(this.auth,e,jn(t))}static credential(e,t){return Bs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Oa.credentialFromTaggedObject(t)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Bs._fromTokenResponse(n,r):null}}function Pa(e,t){return t?ts(t):(bi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Oa.PROVIDER_ID="phone",Oa.PHONE_SIGN_IN_METHOD="phone";class Da extends Rs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Us(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Us(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Us(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function La(e){return ra(e.auth,new Da(e),e.bypassAuthState)}function Ma(e){const{auth:t,user:n}=e;return bi(n,t,"internal-error"),na(n,new Da(e),e.bypassAuthState)}async function Ua(e){const{auth:t,user:n}=e;return bi(n,t,"internal-error"),ta(n,new Da(e),e.bypassAuthState)}class Fa{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Fe){this.reject(Fe)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(Fe){this.reject(Fe)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return La;case"linkViaPopup":case"linkViaRedirect":return Ua;case"reauthViaPopup":case"reauthViaRedirect":return Ma;default:fi(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Va=new Ni(2e3,1e4);async function Ba(e,t,n){if(qr(e.app))return Promise.reject(pi(e,"operation-not-supported-in-this-environment"));const r=xs(e);yi(e,t,Ws);const i=Pa(r,n);return new za(r,"signInViaPopup",t,i).executeNotNull()}class za extends Fa{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bi(e,this.auth,"internal-error"),e}async onExecution(){xi(1===this.filter.length,"Popup operations only handle one event");const e=ya();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Va.get())};e()}}za.currentPopupAction=null;const qa=new Map;class Wa extends Fa{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=qa.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ga(t),r=Ka(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Fe){e=()=>Promise.reject(Fe)}qa.set(this.auth._key(),e)}return this.bypassAuthState||qa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ha(e,t){qa.set(e._key(),t)}function Ka(e){return ts(e._redirectPersistence)}function Ga(e){return is("pendingRedirect",e.config.apiKey,e.name)}async function Qa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(qr(e.app))return Promise.reject(gi(e));const r=xs(e),i=Pa(r,t),s=new Wa(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Ya{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ja(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ja(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(pi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($a(e))}saveEventToCache(e){this.cachedEventUids.add($a(e)),this.lastProcessedEventTime=Date.now()}}function $a(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ja(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Xa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Za=/^https?/;async function eo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ai(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(to(r))return}catch(n){}fi(e,"unauthorized-domain")}function to(e){const t=_i(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Za.test(n))return!1;if(Xa.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const no=new Ni(3e4,6e4);function ro(){const e=ba().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function io(e){return new Promise((t,n)=>{var r,i,s;function a(){ro(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ro(),n(pi(e,"network-request-failed"))},timeout:no.get()})}if(null===(i=null===(r=ba().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ba().gapi)||void 0===s?void 0:s.load)){const t=Ns("iframefcb");return ba()[t]=()=>{gapi.load?a():n(pi(e,"network-request-failed"))},ks("".concat(Es.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw so=null,e})}let so=null;const ao=new Ni(5e3,15e3),oo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function co(e){const t=e.config;bi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Si(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Kr},i=lo.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(kn(r).slice(1))}async function uo(e){const t=await function(e){return so=so||io(e),so}(e),n=ba().gapi;return bi(n,e,"internal-error"),t.open({where:document.body,url:co(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oo,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=pi(e,"network-request-failed"),s=ba().setTimeout(()=>{r(i)},ao.get());function a(){ba().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const ho={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Fe){}}}function po(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ho),{width:r.toString(),height:i.toString(),top:s,left:a}),c=pn().toLowerCase();n&&(o=cs(c)?"_blank":n),os(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ps(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new fo(null);const d=window.open(t||"",o,u);bi(d,e,"popup-blocked");try{d.focus()}catch(Fe){}return new fo(d)}const mo="__/auth/handler",go="emulator/auth/handler",yo=encodeURIComponent("fac");async function vo(e,t,n,r,i,s){bi(e.config.authDomain,e,"auth-domain-config-required"),bi(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Kr,eventId:i};if(t instanceof Ws){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Hs){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(yo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(mo);return Si(t,go)}(e),"?").concat(kn(o).slice(1)).concat(c)}const bo="webStorageSupport";const wo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ma,this._completeRedirectFn=Qa,this._overrideRedirectResult=Ha}async _openPopup(e,t,n,r){var i;xi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return po(e,await vo(e,t,n,_i(),r),ya())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ba().location.href=e}(await vo(e,t,n,_i(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(xi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await uo(e),n=new Ya(e);return t.register("authEvent",t=>{bi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bo,{type:bo},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[bo];void 0!==i&&t(!!i),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gs()||ls()||ps()}};var xo="@firebase/auth",_o="1.7.9";class Eo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){bi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ko=dn("authIdTokenMaxAge")||300;let No=null;function So(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();const t=zr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=zr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(_n(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;fi(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:wo,persistence:[ja,fa,ma]}),r=dn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ko)return;const r=null===t||void 0===t?void 0:t.token;No!==r&&(No=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){jn(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){jn(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=ln("auth");return s&&Is(n,"http://".concat(s)),n}var To;!function(e){Es=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=pi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),To="Browser",Br(new An("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;bi(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:To,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ys(To)},c=new ws(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ts);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Br(new An("auth-internal",e=>(e=>new Eo(e))(xs(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),$r(xo,_o,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(To)),$r(xo,_o,"esm2017");var Co,Io,jo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ao={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Io=Ao.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Co=Ao.Integer=r}).apply("undefined"!==typeof jo?jo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ro,Oo,Po,Do,Lo,Mo,Uo,Fo,Vo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Bo={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Vo&&Vo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout(()=>{throw e},0)}function k(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var N=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new S,e=>e.reset());class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,C=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=N.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(A)}};var A=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(He){E(He)}var t=N;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function R(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(He){}return e}();function D(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch($e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,O);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new B(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[W]=null)):V(e)}}}function J(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;x(t=new O(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}d(le,R);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&$(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){O.call(this,"d")}function be(){O.call(this,"c")}d(ve,O),d(be,O);var we={},xe=null;function _e(){return xe=xe||new ne}function Ee(e){O.call(this,we.La,e)}function ke(e){const t=_e();re(t,new Ee(t))}function Ne(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Se(e){const t=_e();re(t,new Ne(t,e))}function Te(e,t){O.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ie(){this.g=!0}function je(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(Ee,O),we.STAT_EVENT="statevent",d(Ne,O),we.Ma="timingevent",d(Te,O),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ae,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Pe,pe),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ae=new Pe;var Me={},Ue={};function Ve(e,t,n){e.L=1,e.v=yt(ht(t)),e.m=n,e.P=!0,qe(e,null)}function qe(e,t){e.F=Date.now(),Ge(e),e.A=ht(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),At(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=bn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function We(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ke(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function Ge(e){e.S=Date.now()+e.I,Qe(e,e.I)}function Qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function Je(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Xe(e){0==e.j.G||e.J||pn(e.j,e)}function Ze(e){Je(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function et(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||st(n.h,e)))if(!e.K&&st(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(Be){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fn(n),nn(n)}un(n),Se(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=it(n.h)&&n.ca){try{n.ca()}catch(Be){}n.ca=void 0}}else gn(n,11)}else if((e.K||n.g==e)&&fn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(at(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,gt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=vn(r,r.J?r.ia:null,r.W),a.K){ot(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(Je(o),Ge(o)),r.g=a}else cn(r);0<n.i.length&&sn(n)}else"stop"!=c[0]&&"close"!=c[0]||gn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?gn(n,7):tn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(Be){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Jt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Jt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Xt(this.g)))){this.J||4!=h||7==t||ke(),Je(this);var n=this.g.Z();this.X=n;t:if(We(this)){var r=Xt(this.g);e="";var s=r.length,a=4==Jt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ze(this),Xe(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Ze(this),Xe(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,et(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Ke(this,o),e==Ue){4==h&&(this.s=4,Se(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Se(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),et(this,e)}if(We(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),dn(d),d.M=!0,Se(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),Ze(this),Xe(this)}else je(this.i,this.l,o,null),et(this,o);4==h&&Ze(this),this.o&&!this.J&&(4==h?pn(this.j,this):(this.o=!1,Ge(this)))}else(function(e){const t={};e=(e.g&&2<=Jt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ze(this),Xe(this)}}}catch(jt){}},De.prototype.cancel=function(){this.J=!0,Ze(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(ke(),Se(17)),Ze(this),this.s=2,Xe(this)):Qe(this,this.S-e)};var tt=class{constructor(e,t){this.g=e,this.map=t}};function nt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function st(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function at(e,t){e.g?e.g.add(t):e.h=t}function ot(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}nt.prototype.cancel=function(){if(this.i=lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof dt){this.h=e.h,ft(this,e.j),this.o=e.o,this.g=e.g,pt(this,e.s),this.l=e.l;var t=e.i,n=new St;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mt(this,n),this.m=e.m}else e&&(t=String(e).match(ut))?(this.h=!1,ft(this,t[1]||"",!0),this.o=vt(t[2]||""),this.g=vt(t[3]||"",!0),pt(this,t[4]),this.l=vt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=vt(t[7]||"")):(this.h=!1,this.i=new St(null,this.h))}function ht(e){return new dt(e)}function ft(e,t,n){e.j=n?vt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function mt(e,t,n){t instanceof St?(e.i=t,function(e,t){t&&!e.j&&(Tt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ct(this,t),At(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=bt(t,kt)),e.i=new St(t,e.h))}function gt(e,t,n){e.i.set(t,n)}function yt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bt(t,xt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,xt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?Et:_t,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,Nt)),e.join("")};var xt=/[#\/\?@]/g,_t=/[#\?:]/g,Et=/[#\?]/g,kt=/[#\?@]/g,Nt=/#/g;function St(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ct(e,t){Tt(e),t=Rt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return Tt(e),t=Rt(e,t),e.g.has(t)}function At(e,t,n){Ct(e,t),0<n.length&&(e.i=null,e.g.set(Rt(e,t),h(n)),e.h+=n.length)}function Rt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ot(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch($e){}}function Pt(){this.g=new fe}function Dt(e,t,n){const r=n||"";try{ct(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(Fe){throw t.push(r+"type="+encodeURIComponent("_badmap")),Fe}}function Lt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Mt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ut(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ft(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Vt(e)}function Vt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Bt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function zt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gt(e,t,n))}function qt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=St.prototype).add=function(e,t){Tt(this),this.i=null,e=Rt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Tt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Tt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Tt(this);let t=[];if("string"===typeof e)It(this,e)&&(t=t.concat(this.g.get(Rt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Tt(this),this.i=null,It(this,e=Rt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Lt,pe),Lt.prototype.g=function(){return new Mt(this.l,this.j)},Lt.prototype.i=function(e){return function(){return e}}({}),d(Mt,ne),(e=Mt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Vt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ft(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vt(this)),this.g&&(this.readyState=3,Vt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ut(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ft(this):Vt(this),3==this.readyState&&Ut(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ft(this))},e.Qa=function(e){this.g&&(this.response=e,Ft(this))},e.ga=function(){this.g&&Ft(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(qt,ne);var Wt=/^https?$/i,Ht=["POST","PUT"];function Kt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Gt(e),Yt(e)}function Gt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Jt(e)||2!=e.Z()))if(e.u&&4==Jt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Jt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(ut)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Wt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Jt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Gt(e)}}finally{Yt(e)}}}function Yt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Fe){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Jt(e){return e.g?e.g.readyState:0}function Xt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function en(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zt("baseRetryDelayMs",5e3,e),this.cb=Zt("retryDelaySeedMs",1e4,e),this.Wa=Zt("forwardChannelMaxRetries",2,e),this.wa=Zt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new nt(e&&e.concurrentRequestLimit),this.Da=new Pt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tn(e){if(rn(e),3==e.G){var t=e.U++,n=ht(e.I);if(gt(n,"SID",e.K),gt(n,"RID",t),gt(n,"TYPE","terminate"),on(e,n),(t=new De(e,e.j,t)).L=2,t.v=yt(ht(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(Ye){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=bn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ge(t)}yn(e)}function nn(e){e.g&&(dn(e),e.g.cancel(),e.g=null)}function rn(e){nn(e),e.u&&(i.clearTimeout(e.u),e.u=null),fn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function sn(e){if(!rt(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||j(),C||(T(),C=!0),I.add(t,e),e.B=0}}function an(e,t){var n;n=t?t.l:e.U++;const r=ht(e.I);gt(r,"SID",e.K),gt(r,"RID",n),gt(r,"AID",e.T),on(e,r),e.m&&e.o&&zt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=ln(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),at(e.h,n),Ve(n,r,t)}function on(e,t){e.H&&v(e.H,function(e,n){gt(t,n,e)}),e.l&&ct({},function(e,n){gt(t,n,e)})}function ln(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Dt(o,e,"req"+n+"_")}catch(jt){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function cn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||j(),C||(T(),C=!0),I.add(t,e),e.v=0}}function un(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),mn(e,e.v)),e.v++,!0)}function dn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function hn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ht(e.qa);gt(t,"RID","rpc"),gt(t,"SID",e.K),gt(t,"AID",e.T),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&gt(t,"TO",e.ja),gt(t,"TYPE","xmlhttp"),on(e,t),e.m&&e.o&&zt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=yt(ht(t)),n.m=null,n.P=!0,qe(n,e)}function fn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function pn(e,t){var n=null;if(e.g==t){fn(e),dn(e),e.g=null;var r=2}else{if(!st(e.h,t))return;n=t.D,ot(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Te(r,n)),sn(e)}else cn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),mn(e,e.B)),e.B++,!0))}(e,t)||2==r&&un(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:gn(e,5);break;case 4:gn(e,10);break;case 3:gn(e,6);break;default:gn(e,2)}}function mn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function gn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ft(r,"https"),yt(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=u(Ot,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ot,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ot,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ot,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ot(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ot(0,0,!0,t):Ot(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ot(0,0,!1,t)})}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),yn(e),rn(e)}function yn(e){if(e.G=0,e.ka=[],e.l){const t=lt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function vn(e,t,n){var r=n instanceof dt?ht(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),pt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new dt(null);r&&ft(a,r),t&&(a.g=t),s&&pt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&gt(r,n,t),gt(r,"VER",e.la),on(e,r),r}function bn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new qt(new Lt({eb:n})):new qt(e.pa)).Ha(e.J),t}function wn(){}function xn(){}function _n(e,t){ne.call(this),this.g=new en(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nn(this)}function En(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kn(){be.call(this),this.status=1}function Nn(e){this.g=e}(e=qt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch($e){return void Kt(this,$e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ht,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch($e){Kt(this,$e)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Yt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qt(this):this.bb())},e.bb=function(){Qt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch(ze){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(ze){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=en.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=vn(this,null,this.W),sn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ln(this,i,t),gt(n=ht(this.I),"RID",e),gt(n,"CVER",22),this.D&&gt(n,"X-HTTP-Session-Id",this.D),on(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Bt(s)))+"&"+t:this.m&&zt(n,this.m,s)),at(this.h,i),this.Ua&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",t),gt(n,"SID","null"),i.T=!0,Ve(i,n,null)):Ve(i,n,t),this.G=2}}else 3==this.G&&(e?an(this,e):0==this.i.length||rt(this.h)||an(this))},e.Fa=function(){if(this.u=null,hn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),nn(this),hn(this))},e.Za=function(){null!=this.C&&(this.C=null,nn(this),un(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=wn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},xn.prototype.g=function(e,t){return new _n(e,t)},d(_n,ne),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){tn(this.g)},_n.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new tt(t.Ya++,e)),3==t.G&&sn(t)},_n.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,_n.aa.N.call(this)},d(En,ve),d(kn,be),d(Nn,wn),Nn.prototype.ua=function(){re(this.g,"a")},Nn.prototype.ta=function(e){re(this.g,new En(e))},Nn.prototype.sa=function(e){re(this.g,new kn)},Nn.prototype.ra=function(){re(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,Fo=Bo.createWebChannelTransport=function(){return new xn},Uo=Bo.getStatEventTarget=function(){return _e()},Mo=Bo.Event=we,Lo=Bo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Do=Bo.ErrorCode=Re,Oe.COMPLETE="complete",Po=Bo.EventType=Oe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Oo=Bo.WebChannel=ge,Bo.FetchXmlHttpFactory=Lt,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Ro=Bo.XhrIo=qt}).apply("undefined"!==typeof Vo?Vo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const zo="@firebase/firestore";class qo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qo.UNAUTHENTICATED=new qo(null),qo.GOOGLE_CREDENTIALS=new qo("google-credentials-uid"),qo.FIRST_PARTY=new qo("first-party-uid"),qo.MOCK_USER=new qo("mock-user");let Wo="10.14.0";const Ho=new Bn("@firebase/firestore");function Ko(){return Ho.logLevel}function Go(e){if(Ho.logLevel<=Ln.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($o);Ho.debug("Firestore (".concat(Wo,"): ").concat(e),...i)}}function Qo(e){if(Ho.logLevel<=Ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($o);Ho.error("Firestore (".concat(Wo,"): ").concat(e),...i)}}function Yo(e){if(Ho.logLevel<=Ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($o);Ho.warn("Firestore (".concat(Wo,"): ").concat(e),...i)}}function $o(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(Ve){return e}}function Jo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Wo,") INTERNAL ASSERTION FAILED: ")+e;throw Qo(t),new Error(t)}function Xo(e,t){e||Jo()}function Zo(e,t){return e}const el={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tl extends bn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class nl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class il{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qo.UNAUTHENTICATED))}shutdown(){}}class sl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class al{constructor(e){this.t=e,this.currentUser=qo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xo(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new nl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new nl,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Go("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Go("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new nl)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Go("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xo("string"==typeof t.accessToken),new rl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xo(null===e||"string"==typeof e),new qo(e)}}class ol{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=qo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ll{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ol(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ul{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Xo(void 0===this.o);const n=e=>{null!=e.error&&Go("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Go("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Go("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Go("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Xo("string"==typeof e.token),this.R=e.token,new cl(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class hl{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=dl(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function fl(e,t){return e<t?-1:e>t?1:0}function pl(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class ml{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tl(el.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tl(el.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tl(el.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tl(el.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ml.fromMillis(Date.now())}static fromDate(e){return ml.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ml(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fl(this.nanoseconds,e.nanoseconds):fl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gl{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gl(e)}static min(){return new gl(new ml(0,0))}static max(){return new gl(new ml(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Jo(),void 0===n?n=e.length-t:n>e.length-t&&Jo(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===yl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vl extends yl{construct(e,t,n){return new vl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new tl(el.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new vl(e)}static emptyPath(){return new vl([])}}const bl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wl extends yl{construct(e,t,n){return new wl(e,t,n)}static isValidIdentifier(e){return bl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wl(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new tl(el.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new tl(el.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new tl(el.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new tl(el.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wl(t)}static emptyPath(){return new wl([])}}class xl{constructor(e){this.path=e}static fromPath(e){return new xl(vl.fromString(e))}static fromName(e){return new xl(vl.fromString(e).popFirst(5))}static empty(){return new xl(vl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xl(new vl(e.slice()))}}class _l{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}_l.UNKNOWN_ID=-1;function El(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=gl.fromTimestamp(1e9===r?new ml(n+1,0):new ml(n,r));return new Nl(i,xl.empty(),t)}function kl(e){return new Nl(e.readTime,e.key,-1)}class Nl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Nl(gl.min(),xl.empty(),-1)}static max(){return new Nl(gl.max(),xl.empty(),-1)}}function Sl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=xl.comparator(e.documentKey,t.documentKey),0!==n?n:fl(e.largestBatchId,t.largestBatchId))}const Tl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Il(e){if(e.code!==el.FAILED_PRECONDITION||e.message!==Tl)throw e;Go("LocalStore","Unexpectedly lost primary lease")}class jl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new jl((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof jl?t:jl.resolve(t)}catch(e){return jl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):jl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):jl.reject(t)}static resolve(e){return new jl((t,n)=>{t(e)})}static reject(e){return new jl((t,n)=>{n(e)})}static waitFor(e){return new jl((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=jl.resolve(!1);for(const n of e)t=t.next(e=>e?jl.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new jl((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new jl((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Al(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(e){return"IndexedDbTransactionError"===e.name}class Ol{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Pl(e){return null==e}function Dl(e){return 0===e&&1/e==-1/0}function Ll(e){return"number"==typeof e&&Number.isInteger(e)&&!Dl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ol.oe=-1;const Ml=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ul=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fl=Ul,Vl=[...Fl,"indexConfiguration","indexState","indexEntries"];function Bl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ql(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Wl{constructor(e,t){this.comparator=e,this.root=t||Kl.EMPTY}insert(e,t){return new Wl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kl.BLACK,null,null))}remove(e){return new Wl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hl(this.root,e,this.comparator,!0)}}class Hl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Kl.RED,this.left=null!=r?r:Kl.EMPTY,this.right=null!=i?i:Kl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Kl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Jo();if(this.right.isRed())throw Jo();const e=this.left.check();if(e!==this.right.check())throw Jo();return e+(this.isRed()?0:1)}}Kl.EMPTY=null,Kl.RED=!0,Kl.BLACK=!1,Kl.EMPTY=new class{constructor(){this.size=0}get key(){throw Jo()}get value(){throw Jo()}get color(){throw Jo()}get left(){throw Jo()}get right(){throw Jo()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Kl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gl{constructor(e){this.comparator=e,this.data=new Wl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ql(this.data.getIterator())}getIteratorFrom(e){return new Ql(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Gl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gl(this.comparator);return t.data=e,t}}class Ql{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yl{constructor(e){this.fields=e,e.sort(wl.comparator)}static empty(){return new Yl([])}unionWith(e){let t=new Gl(wl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Yl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class $l extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $l("Invalid base64 string: "+e):e}}(e);return new Jl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Jl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jl.EMPTY_BYTE_STRING=new Jl("");const Xl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zl(e){if(Xo(!!e),"string"==typeof e){let t=0;const n=Xl.exec(e);if(Xo(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ec(e.seconds),nanos:ec(e.nanos)}}function ec(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function tc(e){return"string"==typeof e?Jl.fromBase64String(e):Jl.fromUint8Array(e)}function nc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rc(e){const t=e.mapValue.fields.__previous_value__;return nc(t)?rc(t):t}function ic(e){const t=Zl(e.mapValue.fields.__local_write_time__.timestampValue);return new ml(t.seconds,t.nanos)}class sc{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class ac{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ac("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}const oc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nc(e)?4:kc(e)?9007199254740991:_c(e)?10:11:Jo()}function cc(e,t){if(e===t)return!0;const n=lc(e);if(n!==lc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ic(e).isEqual(ic(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Zl(e.timestampValue),r=Zl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return tc(e.bytesValue).isEqual(tc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ec(e.geoPointValue.latitude)===ec(t.geoPointValue.latitude)&&ec(e.geoPointValue.longitude)===ec(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ec(e.integerValue)===ec(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ec(e.doubleValue),r=ec(t.doubleValue);return n===r?Dl(n)===Dl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return pl(e.arrayValue.values||[],t.arrayValue.values||[],cc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bl(n)!==Bl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cc(n[i],r[i])))return!1;return!0}(e,t);default:return Jo()}}function uc(e,t){return void 0!==(e.values||[]).find(e=>cc(e,t))}function dc(e,t){if(e===t)return 0;const n=lc(e),r=lc(t);if(n!==r)return fl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ec(e.integerValue||e.doubleValue),r=ec(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return hc(e.timestampValue,t.timestampValue);case 4:return hc(ic(e),ic(t));case 5:return fl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=tc(e),r=tc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=fl(n[i],r[i]);if(0!==e)return e}return fl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=fl(ec(e.latitude),ec(t.latitude));return 0!==n?n:fl(ec(e.longitude),ec(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return fc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=fl((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:fc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===oc.mapValue&&t===oc.mapValue)return 0;if(e===oc.mapValue)return 1;if(t===oc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=fl(r[a],s[a]);if(0!==e)return e;const t=dc(n[r[a]],i[s[a]]);if(0!==t)return t}return fl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Jo()}}function hc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return fl(e,t);const n=Zl(e),r=Zl(t),i=fl(n.seconds,r.seconds);return 0!==i?i:fl(n.nanos,r.nanos)}function fc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=dc(n[i],r[i]);if(e)return e}return fl(n.length,r.length)}function pc(e){return mc(e)}function mc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Zl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return tc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return xl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=mc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(mc(e.fields[i]));return n+"}"}(e.mapValue):Jo()}function gc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function yc(e){return!!e&&"integerValue"in e}function vc(e){return!!e&&"arrayValue"in e}function bc(e){return!!e&&"nullValue"in e}function wc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xc(e){return!!e&&"mapValue"in e}function _c(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ec(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Ec(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ec(e.arrayValue.values[n]);return t}return Object.assign({},e)}function kc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Nc{constructor(e){this.value=e}static empty(){return new Nc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!xc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(t)}setAll(e){let t=wl.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ec(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());xc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];xc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){zl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Nc(Ec(this.value))}}function Sc(e){const t=[];return zl(e.fields,(e,n)=>{const r=new wl([e]);if(xc(n)){const e=Sc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Yl(t)}class Tc{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Tc(e,0,gl.min(),gl.min(),gl.min(),Nc.empty(),0)}static newFoundDocument(e,t,n,r){return new Tc(e,1,t,gl.min(),n,r,0)}static newNoDocument(e,t){return new Tc(e,2,t,gl.min(),gl.min(),Nc.empty(),0)}static newUnknownDocument(e,t){return new Tc(e,3,t,gl.min(),gl.min(),Nc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Cc{constructor(e,t){this.position=e,this.inclusive=t}}function Ic(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?xl.comparator(xl.fromName(a.referenceValue),n.key):dc(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function jc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cc(e.position[n],t.position[n]))return!1;return!0}class Ac{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Rc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Oc{}class Pc extends Oc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new zc(e,t,n):"array-contains"===t?new Kc(e,n):"in"===t?new Gc(e,n):"not-in"===t?new Qc(e,n):"array-contains-any"===t?new Yc(e,n):new Pc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new qc(e,n):new Wc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dc(t,this.value)):null!==t&&lc(this.value)===lc(t)&&this.matchesComparison(dc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jo()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dc extends Oc{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Dc(e,t)}matches(e){return Lc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Lc(e){return"and"===e.op}function Mc(e){return Uc(e)&&Lc(e)}function Uc(e){for(const t of e.filters)if(t instanceof Dc)return!1;return!0}function Fc(e){if(e instanceof Pc)return e.field.canonicalString()+e.op.toString()+pc(e.value);if(Mc(e))return e.filters.map(e=>Fc(e)).join(",");{const t=e.filters.map(e=>Fc(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Vc(e,t){return e instanceof Pc?function(e,t){return t instanceof Pc&&e.op===t.op&&e.field.isEqual(t.field)&&cc(e.value,t.value)}(e,t):e instanceof Dc?function(e,t){return t instanceof Dc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Vc(n,t.filters[r]),!0)}(e,t):void Jo()}function Bc(e){return e instanceof Pc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(pc(e.value))}(e):e instanceof Dc?function(e){return e.op.toString()+" {"+e.getFilters().map(Bc).join(" ,")+"}"}(e):"Filter"}class zc extends Pc{constructor(e,t,n){super(e,t,n),this.key=xl.fromName(n.referenceValue)}matches(e){const t=xl.comparator(e.key,this.key);return this.matchesComparison(t)}}class qc extends Pc{constructor(e,t){super(e,"in",t),this.keys=Hc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Wc extends Pc{constructor(e,t){super(e,"not-in",t),this.keys=Hc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Hc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>xl.fromName(e.referenceValue))}class Kc extends Pc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vc(t)&&uc(t.arrayValue,this.value)}}class Gc extends Pc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uc(this.value.arrayValue,t)}}class Qc extends Pc{constructor(e,t){super(e,"not-in",t)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uc(this.value.arrayValue,t)}}class Yc extends Pc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>uc(this.value.arrayValue,e))}}class $c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function Jc(e){return new $c(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xc(e){const t=Zo(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Fc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Pl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>pc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>pc(e)).join(",")),t.ue=e}return t.ue}function Zc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Rc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Vc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jc(e.startAt,t.startAt)&&jc(e.endAt,t.endAt)}function eu(e){return xl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class tu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nu(e,t,n,r,i,s,a,o){return new tu(e,t,n,r,i,s,a,o)}function ru(e){return new tu(e)}function iu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function su(e){return null!==e.collectionGroup}function au(e){const t=Zo(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Gl(wl.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Ac(r,n))}),e.has(wl.keyField().canonicalString())||t.ce.push(new Ac(wl.keyField(),n))}return t.ce}function ou(e){const t=Zo(e);return t.le||(t.le=lu(t,au(e))),t.le}function lu(e,t){if("F"===e.limitType)return Jc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ac(e.field,t)});const n=e.endAt?new Cc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Cc(e.startAt.position,e.startAt.inclusive):null;return Jc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function cu(e,t){const n=e.filters.concat([t]);return new tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function uu(e,t,n){return new tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function du(e,t){return Zc(ou(e),ou(t))&&e.limitType===t.limitType}function hu(e){return"".concat(Xc(ou(e)),"|lt:").concat(e.limitType)}function fu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Bc(e)).join(", "),"]")),Pl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>pc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>pc(e)).join(",")),"Target(".concat(t,")")}(ou(e)),"; limitType=").concat(e.limitType,")")}function pu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of au(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ic(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,au(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ic(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,au(e),t))}(e,t)}function mu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gu(e){return(t,n)=>{let r=!1;for(const i of au(e)){const e=yu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function yu(e,t,n){const r=e.field.isKeyField()?xl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dc(r,i):Jo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Jo()}}class vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zl(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ql(this.inner)}size(){return this.innerSize}}const bu=new Wl(xl.comparator);function wu(){return bu}const xu=new Wl(xl.comparator);function _u(){let e=xu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Eu(e){let t=xu;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ku(){return Su()}function Nu(){return Su()}function Su(){return new vu(e=>e.toString(),(e,t)=>e.isEqual(t))}const Tu=new Wl(xl.comparator),Cu=new Gl(xl.comparator);function Iu(){let e=Cu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ju=new Gl(fl);function Au(){return ju}function Ru(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dl(t)?"-0":t}}function Ou(e){return{integerValue:""+e}}function Pu(e,t){return Ll(t)?Ou(t):Ru(e,t)}class Du{constructor(){this._=void 0}}function Lu(e,t,n){return e instanceof Fu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&nc(t)&&(t=rc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vu?Bu(e,t):e instanceof zu?qu(e,t):function(e,t){const n=Uu(e,t),r=Hu(n)+Hu(e.Pe);return yc(n)&&yc(e.Pe)?Ou(r):Ru(e.serializer,r)}(e,t)}function Mu(e,t,n){return e instanceof Vu?Bu(e,t):e instanceof zu?qu(e,t):n}function Uu(e,t){return e instanceof Wu?function(e){return yc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Fu extends Du{}class Vu extends Du{constructor(e){super(),this.elements=e}}function Bu(e,t){const n=Ku(t);for(const r of e.elements)n.some(e=>cc(e,r))||n.push(r);return{arrayValue:{values:n}}}class zu extends Du{constructor(e){super(),this.elements=e}}function qu(e,t){let n=Ku(t);for(const r of e.elements)n=n.filter(e=>!cc(e,r));return{arrayValue:{values:n}}}class Wu extends Du{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Hu(e){return ec(e.integerValue||e.doubleValue)}function Ku(e){return vc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Gu{constructor(e,t){this.field=e,this.transform=t}}class Qu{constructor(e,t){this.version=e,this.transformResults=t}}class Yu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yu}static exists(e){return new Yu(void 0,e)}static updateTime(e){return new Yu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ju{}function Xu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ld(e.key,Yu.none()):new rd(e.key,e.data,Yu.none());{const n=e.data,r=Nc.empty();let i=new Gl(wl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new id(e.key,r,new Yl(i.toArray()),Yu.none())}}function Zu(e,t,n){e instanceof rd?function(e,t,n){const r=e.value.clone(),i=ad(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof id?function(e,t,n){if(!$u(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ad(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ed(e,t,n,r){return e instanceof rd?function(e,t,n,r){if(!$u(e.precondition,t))return n;const i=e.value.clone(),s=od(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof id?function(e,t,n,r){if(!$u(e.precondition,t))return n;const i=od(e.fieldTransforms,r,t),s=t.data;return s.setAll(sd(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return $u(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function td(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Uu(r.transform,e||null);null!=i&&(null===n&&(n=Nc.empty()),n.set(r.field,i))}return n||null}function nd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pl(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vu&&t instanceof Vu||e instanceof zu&&t instanceof zu?pl(e.elements,t.elements,cc):e instanceof Wu&&t instanceof Wu?cc(e.Pe,t.Pe):e instanceof Fu&&t instanceof Fu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rd extends Ju{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class id extends Ju{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ad(e,t,n){const r=new Map;Xo(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Mu(a,o,n[i]))}return r}function od(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Lu(e,s,t))}return r}class ld extends Ju{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cd extends Ju{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ud{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Zu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ed(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ed(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Nu();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Xu(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(gl.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Iu())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(e,t)=>nd(e,t))&&pl(this.baseMutations,e.baseMutations,(e,t)=>nd(e,t))}}class dd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xo(e.mutations.length===n.length);let r=Tu;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new dd(e,t,n,r)}}class hd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class fd{constructor(e,t){this.count=e,this.unchangedNames=t}}var pd,md;function gd(e){switch(e){default:return Jo();case el.CANCELLED:case el.UNKNOWN:case el.DEADLINE_EXCEEDED:case el.RESOURCE_EXHAUSTED:case el.INTERNAL:case el.UNAVAILABLE:case el.UNAUTHENTICATED:return!1;case el.INVALID_ARGUMENT:case el.NOT_FOUND:case el.ALREADY_EXISTS:case el.PERMISSION_DENIED:case el.FAILED_PRECONDITION:case el.ABORTED:case el.OUT_OF_RANGE:case el.UNIMPLEMENTED:case el.DATA_LOSS:return!0}}function yd(e){if(void 0===e)return Qo("GRPC error has no .code"),el.UNKNOWN;switch(e){case pd.OK:return el.OK;case pd.CANCELLED:return el.CANCELLED;case pd.UNKNOWN:return el.UNKNOWN;case pd.DEADLINE_EXCEEDED:return el.DEADLINE_EXCEEDED;case pd.RESOURCE_EXHAUSTED:return el.RESOURCE_EXHAUSTED;case pd.INTERNAL:return el.INTERNAL;case pd.UNAVAILABLE:return el.UNAVAILABLE;case pd.UNAUTHENTICATED:return el.UNAUTHENTICATED;case pd.INVALID_ARGUMENT:return el.INVALID_ARGUMENT;case pd.NOT_FOUND:return el.NOT_FOUND;case pd.ALREADY_EXISTS:return el.ALREADY_EXISTS;case pd.PERMISSION_DENIED:return el.PERMISSION_DENIED;case pd.FAILED_PRECONDITION:return el.FAILED_PRECONDITION;case pd.ABORTED:return el.ABORTED;case pd.OUT_OF_RANGE:return el.OUT_OF_RANGE;case pd.UNIMPLEMENTED:return el.UNIMPLEMENTED;case pd.DATA_LOSS:return el.DATA_LOSS;default:return Jo()}}(md=pd||(pd={}))[md.OK=0]="OK",md[md.CANCELLED=1]="CANCELLED",md[md.UNKNOWN=2]="UNKNOWN",md[md.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",md[md.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",md[md.NOT_FOUND=5]="NOT_FOUND",md[md.ALREADY_EXISTS=6]="ALREADY_EXISTS",md[md.PERMISSION_DENIED=7]="PERMISSION_DENIED",md[md.UNAUTHENTICATED=16]="UNAUTHENTICATED",md[md.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",md[md.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",md[md.ABORTED=10]="ABORTED",md[md.OUT_OF_RANGE=11]="OUT_OF_RANGE",md[md.UNIMPLEMENTED=12]="UNIMPLEMENTED",md[md.INTERNAL=13]="INTERNAL",md[md.UNAVAILABLE=14]="UNAVAILABLE",md[md.DATA_LOSS=15]="DATA_LOSS";let vd=null;function bd(){return new TextEncoder}const wd=new Co([4294967295,4294967295],0);function xd(e){const t=bd().encode(e),n=new Io;return n.update(t),new Uint8Array(n.digest())}function _d(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Co([n,r],0),new Co([i,s],0)]}class Ed{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new kd("Invalid padding: ".concat(t));if(n<0)throw new kd("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new kd("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new kd("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Co.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Co.fromNumber(n)));return 1===r.compare(wd)&&(r=new Co([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=xd(e),[n,r]=_d(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ed(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=xd(e),[n,r]=_d(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Nd(gl.min(),r,new Wl(fl),wu(),Iu())}}class Sd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Sd(n,t,Iu(),Iu(),Iu())}}class Td{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Cd{constructor(e,t){this.targetId=e,this.me=t}}class Id{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class jd{constructor(){this.fe=0,this.ge=Od(),this.pe=Jl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Iu(),t=Iu(),n=Iu();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Jo()}}),new Sd(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Od()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xo(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ad{constructor(e){this.Le=e,this.Be=new Map,this.ke=wu(),this.qe=Rd(),this.Qe=new Wl(fl)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Jo()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(eu(i))if(0===n){const e=new xl(i.path);this.Ue(t,e,Tc.newNoDocument(e,gl.min()))}else Xo(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==vd||vd.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=tc(n).toUint8Array()}catch(e){if(e instanceof $l)return Yo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Ed(s,r,i)}catch(e){return Yo(e instanceof kd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&eu(i.target)){const t=new xl(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Tc.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=Iu();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new Nd(e,t,this.Qe,this.ke,n);return this.ke=wu(),this.qe=Rd(),this.Qe=new Wl(fl),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new jd,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Gl(fl),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Go("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new jd),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Rd(){return new Wl(xl.comparator)}function Od(){return new Wl(xl.comparator)}const Pd={asc:"ASCENDING",desc:"DESCENDING"},Dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ld={and:"AND",or:"OR"};class Md{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ud(e,t){return e.useProto3Json||Pl(t)?t:{value:t}}function Fd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bd(e,t){return Fd(e,t.toTimestamp())}function zd(e){return Xo(!!e),gl.fromTimestamp(function(e){const t=Zl(e);return new ml(t.seconds,t.nanos)}(e))}function qd(e,t){return Wd(e,t).canonicalString()}function Wd(e,t){const n=function(e){return new vl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Hd(e){const t=vl.fromString(e);return Xo(dh(t)),t}function Kd(e,t){return qd(e.databaseId,t.path)}function Gd(e,t){const n=Hd(t);if(n.get(1)!==e.databaseId.projectId)throw new tl(el.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tl(el.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xl(Jd(n))}function Qd(e,t){return qd(e.databaseId,t)}function Yd(e){const t=Hd(e);return 4===t.length?vl.emptyPath():Jd(t)}function $d(e){return new vl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jd(e){return Xo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xd(e,t,n){return{name:Kd(e,t),fields:n.value.mapValue.fields}}function Zd(e,t){let n;if(t instanceof rd)n={update:Xd(e,t.key,t.value)};else if(t instanceof ld)n={delete:Kd(e,t.key)};else if(t instanceof id)n={update:Xd(e,t.key,t.data),updateMask:uh(t.fieldMask)};else{if(!(t instanceof cd))return Jo();n={verify:Kd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Fu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wu)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Jo()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Jo()}(e,t.precondition)),n}function eh(e,t){return{documents:[Qd(e,t.path)]}}function th(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Qd(e,i);const s=function(e){if(0!==e.length)return ch(Dc.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:oh(e.field),direction:ih(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Ud(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function nh(e){let t=Yd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xo(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=rh(e);return t instanceof Dc&&Mc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Ac(lh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Pl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Cc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Cc(n,t)}(n.endAt)),nu(t,i,a,s,o,"F",l,c)}function rh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=lh(e.unaryFilter.field);return Pc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=lh(e.unaryFilter.field);return Pc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lh(e.unaryFilter.field);return Pc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=lh(e.unaryFilter.field);return Pc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jo()}}(e):void 0!==e.fieldFilter?function(e){return Pc.create(lh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jo()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Dc.create(e.compositeFilter.filters.map(e=>rh(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Jo()}}(e.compositeFilter.op))}(e):Jo()}function ih(e){return Pd[e]}function sh(e){return Dd[e]}function ah(e){return Ld[e]}function oh(e){return{fieldPath:e.canonicalString()}}function lh(e){return wl.fromServerFormat(e.fieldPath)}function ch(e){return e instanceof Pc?function(e){if("=="===e.op){if(wc(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NAN"}};if(bc(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wc(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NAN"}};if(bc(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oh(e.field),op:sh(e.op),value:e.value}}}(e):e instanceof Dc?function(e){const t=e.getFilters().map(e=>ch(e));return 1===t.length?t[0]:{compositeFilter:{op:ah(e.op),filters:t}}}(e):Jo()}function uh(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function dh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class hh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gl.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gl.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jl.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new hh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fh{constructor(e){this.ct=e}}function ph(e){const t=nh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uu(t,t.limit,"L"):t}class mh{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ec(e.integerValue));else if("doubleValue"in e){const n=ec(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Dl(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Zl(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(tc(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?kc(e)?this.dt(t,Number.MAX_SAFE_INTEGER):_c(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Jo()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(ec(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),xl.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}mh.vt=new mh;class gh{constructor(){this.un=new yh}addToCollectionParentIndex(e,t){return this.un.add(t),jl.resolve()}getCollectionParents(e,t){return jl.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return jl.resolve()}deleteFieldIndex(e,t){return jl.resolve()}deleteAllFieldIndexes(e){return jl.resolve()}createTargetIndexes(e,t){return jl.resolve()}getDocumentsMatchingTarget(e,t){return jl.resolve(null)}getIndexType(e,t){return jl.resolve(0)}getFieldIndexes(e,t){return jl.resolve([])}getNextCollectionGroupToUpdate(e){return jl.resolve(null)}getMinOffset(e,t){return jl.resolve(Nl.min())}getMinOffsetFromCollectionGroup(e,t){return jl.resolve(Nl.min())}updateCollectionGroup(e,t,n){return jl.resolve()}updateIndexEntries(e,t){return jl.resolve()}}class yh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gl(vl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gl(vl.comparator)).toArray()}}new Uint8Array(0);class vh{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vh(e,vh.DEFAULT_COLLECTION_PERCENTILE,vh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vh.DEFAULT_COLLECTION_PERCENTILE=10,vh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vh.DEFAULT=new vh(41943040,vh.DEFAULT_COLLECTION_PERCENTILE,vh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vh.DISABLED=new vh(-1,0,0);class bh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new bh(0)}static kn(){return new bh(-1)}}class wh{constructor(){this.changes=new vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?jl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _h{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&ed(n.mutation,e,Yl.empty(),ml.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Iu()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Iu();const r=ku();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=_u();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ku();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Iu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=wu();const s=Su(),a=Su();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof id)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),ed(a.mutation,t,a.mutation.getFieldMask(),ml.now())):s.set(t.key,Yl.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new xh(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Su();let r=new Wl((e,t)=>e-t),i=Iu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Yl.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Iu()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Nu();l.forEach(e=>{if(!i.has(e)){const r=Xu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return jl.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return xl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):su(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):jl.resolve(ku());let a=-1,o=i;return s.next(t=>jl.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?jl.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Iu())).next(e=>({batchId:a,changes:Eu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xl(t)).next(e=>{let t=_u();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=_u();return this.indexManager.getCollectionParents(e,i).next(a=>jl.forEach(a,a=>{const o=function(e,t){return new tu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Tc.newInvalidDocument(r)))});let n=_u();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&ed(s.mutation,r,Yl.empty(),ml.now()),pu(t,r)&&(n=n.insert(e,r))}),n})}}class Eh{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return jl.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:zd(e.createTime)}}(t)),jl.resolve()}getNamedQuery(e,t){return jl.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:ph(e.bundledQuery),readTime:zd(e.readTime)}}(t)),jl.resolve()}}class kh{constructor(){this.overlays=new Wl(xl.comparator),this.Ir=new Map}getOverlay(e,t){return jl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ku();return jl.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),jl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),jl.resolve()}getOverlaysForCollection(e,t,n){const r=ku(),i=t.length+1,s=new xl(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return jl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Wl((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ku(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ku(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return jl.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new hd(t,n));let i=this.Ir.get(t);void 0===i&&(i=Iu(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Nh{constructor(){this.sessionToken=Jl.EMPTY_BYTE_STRING}getSessionToken(e){return jl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,jl.resolve()}}class Sh{constructor(){this.Tr=new Gl(Th.Er),this.dr=new Gl(Th.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Th(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new Th(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new xl(new vl([])),n=new Th(t,e),r=new Th(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new xl(new vl([])),n=new Th(t,e),r=new Th(t,e+1);let i=Iu();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Th(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Th{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return xl.comparator(e.key,t.key)||fl(e.wr,t.wr)}static Ar(e,t){return fl(e.wr,t.wr)||xl.comparator(e.key,t.key)}}class Ch{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Gl(Th.Er)}checkEmpty(e){return jl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ud(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Th(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return jl.resolve(s)}lookupMutationBatch(e,t){return jl.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return jl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return jl.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return jl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Th(t,0),r=new Th(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),jl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gl(fl);return t.forEach(e=>{const t=new Th(e,0),r=new Th(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),jl.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;xl.isDocumentKey(i)||(i=i.child(""));const s=new Th(new xl(i),0);let a=new Gl(fl);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},s),jl.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Xo(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return jl.forEach(t.mutations,r=>{const i=new Th(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new Th(t,0),r=this.br.firstAfterOrEqual(n);return jl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,jl.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ih{constructor(e){this.Mr=e,this.docs=new Wl(xl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return jl.resolve(n?n.document.mutableCopy():Tc.newInvalidDocument(t))}getEntries(e,t){let n=wu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Tc.newInvalidDocument(e))}),jl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=wu();const s=t.path,a=new xl(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Sl(kl(a),n)<=0||(r.has(a.key)||pu(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return jl.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Jo()}Or(e,t){return jl.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new jh(this)}getSize(e){return jl.resolve(this.size)}}class jh extends wh{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),jl.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Ah{constructor(e){this.persistence=e,this.Nr=new vu(e=>Xc(e),Zc),this.lastRemoteSnapshotVersion=gl.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sh,this.targetCount=0,this.kr=bh.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),jl.resolve()}getLastRemoteSnapshotVersion(e){return jl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return jl.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),jl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),jl.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new bh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,jl.resolve()}updateTargetData(e,t){return this.Kn(t),jl.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,jl.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),jl.waitFor(i).next(()=>r)}getTargetCount(e){return jl.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return jl.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),jl.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),jl.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),jl.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return jl.resolve(n)}containsKey(e,t){return jl.resolve(this.Br.containsKey(t))}}class Rh{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ol(0),this.Kr=!1,this.Kr=!0,this.$r=new Nh,this.referenceDelegate=e(this),this.Ur=new Ah(this),this.indexManager=new gh,this.remoteDocumentCache=function(e){return new Ih(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new fh(t),this.Gr=new Eh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Ch(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Go("MemoryPersistence","Starting transaction:",e);const r=new Oh(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return jl.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Oh extends Cl{constructor(e){super(),this.currentSequenceNumber=e}}class Ph{constructor(e){this.persistence=e,this.Jr=new Sh,this.Yr=null}static Zr(e){return new Ph(e)}get Xr(){if(this.Yr)return this.Yr;throw Jo()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),jl.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),jl.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),jl.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jl.forEach(this.Xr,n=>{const r=xl.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,gl.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return jl.or([()=>jl.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Dh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Iu(),r=Iu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Dh(e,t.fromCache,n,r)}}class Lh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Mh{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=gn()?8:Al(pn())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Lh;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(Ko()<=Ln.DEBUG&&Go("QueryEngine","SDK will not create cache indexes for query:",fu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),jl.resolve()):(Ko()<=Ln.DEBUG&&Go("QueryEngine","Query:",fu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Ko()<=Ln.DEBUG&&Go("QueryEngine","The SDK decides to create cache indexes for query:",fu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ou(t))):jl.resolve())}Yi(e,t){if(iu(t))return jl.resolve(null);let n=ou(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=uu(t,null,"F"),n=ou(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Iu(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,uu(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return iu(t)||r.isEqual(gl.min())?jl.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?jl.resolve(null):(Ko()<=Ln.DEBUG&&Go("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fu(t)),this.rs(e,s,t,El(r,-1)).next(e=>e))})}ts(e,t){let n=new Gl(gu(e));return t.forEach((t,r)=>{pu(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Ko()<=Ln.DEBUG&&Go("QueryEngine","Using full collection scan to execute query:",fu(t)),this.Ji.getDocumentsMatchingQuery(e,t,Nl.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Uh{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Wl(fl),this._s=new vu(e=>Xc(e),Zc),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _h(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Fh(e,t,n,r){return new Uh(e,t,n,r)}async function Vh(e,t){const n=Zo(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Iu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:s}))})})}function Bh(e){const t=Zo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function zh(e,t,n){let r=Iu(),i=Iu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=wu();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(gl.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Go("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ps:r,Is:i}})}function qh(e,t){const n=Zo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Wh(e,t){const n=Zo(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,jl.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new hh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function Hh(e,t,n){const r=Zo(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Rl(e))throw e;Go("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function Kh(e,t,n){const r=Zo(e);let i=gl.min(),s=Iu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Zo(e),i=r._s.get(n);return void 0!==i?jl.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,ou(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:gl.min(),n?s:Iu())).next(e=>(Gh(r,mu(t),e),{documents:e,Ts:s})))}function Gh(e,t,n){let r=e.us.get(t)||gl.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class Qh{constructor(){this.activeTargetIds=Au()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yh{constructor(){this.so=new Qh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Qh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $h{_o(e){}shutdown(){}}class Jh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Go("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Go("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xh=null;function Zh(){return null===Xh?Xh=268435456+Math.round(2147483648*Math.random()):Xh++,"0x"+Xh.toString(16)}const ef={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tf{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const nf="WebChannelConnection";class rf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const s=Zh(),a=this.xo(e,t.toUriEncodedString());Go("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then(t=>(Go("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw Yo("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=ef[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Zh();return new Promise((s,a)=>{const o=new Ro;o.setWithCredentials(!0),o.listenOnce(Po.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Do.NO_ERROR:const t=o.getResponseJson();Go(nf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Do.TIMEOUT:Go(nf,"RPC '".concat(e,"' ").concat(i," timed out")),a(new tl(el.DEADLINE_EXCEEDED,"Request time out"));break;case Do.HTTP_ERROR:const n=o.getStatus();if(Go(nf,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(el).indexOf(t)>=0?t:el.UNKNOWN}(t.status);a(new tl(e,t.message))}else a(new tl(el.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new tl(el.UNAVAILABLE,"Connection failed."));break;default:Jo()}}finally{Go(nf,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Go(nf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=Zh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Fo(),a=Uo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Go(nf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new tf({Io:t=>{h?Go(nf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Go(nf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Go(nf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Oo.EventType.OPEN,()=>{h||(Go(nf,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),p(u,Oo.EventType.CLOSE,()=>{h||(h=!0,Go(nf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),p(u,Oo.EventType.ERROR,t=>{h||(h=!0,Yo(nf,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new tl(el.UNAVAILABLE,"The operation could not be completed")))}),p(u,Oo.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];Xo(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Go(nf,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=pd[e];if(void 0!==t)return yd(t)}(t),i=a.message;void 0===n&&(n=el.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new tl(n,i)),u.close()}else Go(nf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}}),p(a,Mo.STAT_EVENT,t=>{t.stat===Lo.PROXY?Go(nf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Lo.NOPROXY&&Go(nf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function sf(){return"undefined"!=typeof document?document:null}function af(e){return new Md(e,!0)}class of{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Go("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class lf{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new of(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===el.RESOURCE_EXHAUSTED?(Qo(t.toString()),Qo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===el.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new tl(el.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Go("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Go("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cf extends lf{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Jo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Xo(void 0===t||"string"==typeof t),Jl.fromBase64String(t||"")):(Xo(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Jl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?el.UNKNOWN:yd(e.code);return new tl(t,e.message||"")}(a);n=new Id(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gd(e,r.document.name),s=zd(r.document.updateTime),a=r.document.createTime?zd(r.document.createTime):gl.min(),o=new Nc({mapValue:{fields:r.document.fields}}),l=Tc.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Td(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gd(e,r.document),s=r.readTime?zd(r.readTime):gl.min(),a=Tc.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Td([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gd(e,r.document),s=r.removedTargetIds||[];n=new Td([],s,i,null)}else{if(!("filter"in t))return Jo();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new fd(r,i),a=e.targetId;n=new Cd(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return gl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?gl.min():t.readTime?zd(t.readTime):gl.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=$d(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=eu(r)?{documents:eh(e,r)}:{query:th(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Vd(e,t.resumeToken);const r=Ud(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(gl.min())>0){n.readTime=Fd(e,t.snapshotVersion.toTimestamp());const r=Ud(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jo()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=$d(this.serializer),t.removeTarget=e,this.a_(t)}}class uf extends lf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Xo(!!e.streamToken),this.lastStreamToken=e.streamToken,Xo(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Xo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Xo(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?zd(e.updateTime):zd(t);return n.isEqual(gl.min())&&(n=zd(t)),new Qu(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=zd(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=$d(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Zd(this.serializer,e))};this.a_(t)}}class df extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new tl(el.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Mo(e,Wd(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===el.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tl(el.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Lo(e,Wd(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===el.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tl(el.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class hf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(Qo(t),this.D_=!1):Go("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class ff{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{_f(this)&&(Go("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Zo(e);t.L_.add(4),await mf(t),t.q_.set("Unknown"),t.L_.delete(4),await pf(t)}(this))})}),this.q_=new hf(n,r)}}async function pf(e){if(_f(e))for(const t of e.B_)await t(!0)}async function mf(e){for(const t of e.B_)await t(!1)}function gf(e,t){const n=Zo(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),xf(n)?wf(n):Bf(n).r_()&&vf(n,t))}function yf(e,t){const n=Zo(e),r=Bf(n);n.N_.delete(t),r.r_()&&bf(n,t),0===n.N_.size&&(r.r_()?r.o_():_f(n)&&n.q_.set("Unknown"))}function vf(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bf(e).A_(t)}function bf(e,t){e.Q_.xe(t),Bf(e).R_(t)}function wf(e){e.Q_=new Ad({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Bf(e).start(),e.q_.v_()}function xf(e){return _f(e)&&!Bf(e).n_()&&e.N_.size>0}function _f(e){return 0===Zo(e).L_.size}function Ef(e){e.Q_=void 0}async function kf(e){e.q_.set("Online")}async function Nf(e){e.N_.forEach((t,n)=>{vf(e,t)})}async function Sf(e,t){Ef(e),xf(e)?(e.q_.M_(t),wf(e)):e.q_.set("Unknown")}async function Tf(e,t,n){if(e.q_.set("Online"),t instanceof Id&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Go("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Cf(e,n)}else if(t instanceof Td?e.Q_.Ke(t):t instanceof Cd?e.Q_.He(t):e.Q_.We(t),!n.isEqual(gl.min()))try{const t=await Bh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Jl.EMPTY_BYTE_STRING,r.snapshotVersion)),bf(e,t);const i=new hh(r.target,t,n,r.sequenceNumber);vf(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Go("RemoteStore","Failed to raise snapshot:",t),await Cf(e,t)}}async function Cf(e,t,n){if(!Rl(t))throw t;e.L_.add(1),await mf(e),e.q_.set("Offline"),n||(n=()=>Bh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Go("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await pf(e)})}function If(e,t){return t().catch(n=>Cf(e,n,t))}async function jf(e){const t=Zo(e),n=zf(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Af(t);)try{const e=await qh(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Rf(t,e)}catch(e){await Cf(t,e)}Of(t)&&Pf(t)}function Af(e){return _f(e)&&e.O_.length<10}function Rf(e,t){e.O_.push(t);const n=zf(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Of(e){return _f(e)&&!zf(e).n_()&&e.O_.length>0}function Pf(e){zf(e).start()}async function Df(e){zf(e).p_()}async function Lf(e){const t=zf(e);for(const n of e.O_)t.m_(n.mutations)}async function Mf(e,t,n){const r=e.O_.shift(),i=dd.from(r,t,n);await If(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await jf(e)}async function Uf(e,t){t&&zf(e).V_&&await async function(e,t){if(function(e){return gd(e)&&e!==el.ABORTED}(t.code)){const n=e.O_.shift();zf(e).s_(),await If(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await jf(e)}}(e,t),Of(e)&&Pf(e)}async function Ff(e,t){const n=Zo(e);n.asyncQueue.verifyOperationInProgress(),Go("RemoteStore","RemoteStore received new credentials");const r=_f(n);n.L_.add(3),await mf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await pf(n)}async function Vf(e,t){const n=Zo(e);t?(n.L_.delete(2),await pf(n)):t||(n.L_.add(2),await mf(n),n.q_.set("Unknown"))}function Bf(e){return e.K_||(e.K_=function(e,t,n){const r=Zo(e);return r.w_(),new cf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:kf.bind(null,e),Ro:Nf.bind(null,e),mo:Sf.bind(null,e),d_:Tf.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),xf(e)?wf(e):e.q_.set("Unknown")):(await e.K_.stop(),Ef(e))})),e.K_}function zf(e){return e.U_||(e.U_=function(e,t,n){const r=Zo(e);return r.w_(),new uf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Df.bind(null,e),mo:Uf.bind(null,e),f_:Lf.bind(null,e),g_:Mf.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await jf(e)):(await e.U_.stop(),e.O_.length>0&&(Go("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class qf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new qf(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tl(el.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wf(e,t){if(Qo("AsyncQueue","".concat(t,": ").concat(e)),Rl(e))return new tl(el.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Hf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||xl.comparator(t.key,n.key):(e,t)=>xl.comparator(e.key,t.key),this.keyedMap=_u(),this.sortedSet=new Wl(this.comparator)}static emptySet(e){return new Hf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Hf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Kf{constructor(){this.W_=new Wl(xl.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Jo():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Gf{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Gf(e,t,Hf.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&du(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Qf{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Yf{constructor(){this.queries=$f(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Zo(e),r=n.queries;n.queries=$f(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new tl(el.ABORTED,"Firestore shutting down"))}}function $f(){return new vu(e=>hu(e),du)}async function Jf(e,t){const n=Zo(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new Qf,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Wf(e,"Initialization of query '".concat(fu(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&tp(n)}async function Xf(e,t){const n=Zo(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Zf(e,t){const n=Zo(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&tp(n)}function ep(e,t,n){const r=Zo(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function tp(e){e.Y_.forEach(e=>{e.next()})}var np,rp;(rp=np||(np={})).ea="default",rp.Cache="cache";class ip{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Gf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==np.Cache}}class sp{constructor(e){this.key=e}}class ap{constructor(e){this.key=e}}class op{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Iu(),this.mutatedKeys=Iu(),this.Aa=gu(e),this.Ra=new Hf(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Kf,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=pu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jo()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new Gf(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Kf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Iu(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new ap(e))}),this.da.forEach(n=>{e.has(n)||t.push(new sp(n))}),t}ba(e){this.Ta=e.Ts,this.da=Iu();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Gf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class lp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class cp{constructor(e){this.key=e,this.va=!1}}class up{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new vu(e=>hu(e),du),this.Ma=new Map,this.xa=new Set,this.Oa=new Wl(xl.comparator),this.Na=new Map,this.La=new Sh,this.Ba={},this.ka=new Map,this.qa=bh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function dp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Rp(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await fp(r,t,n,!0),i}async function hp(e,t){const n=Rp(e);await fp(n,t,!0,!1)}async function fp(e,t,n,r){const i=await Wh(e.localStore,ou(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await pp(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&gf(e.remoteStore,i),o}async function pp(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await Kh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Sp(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await Kh(e.localStore,t,!0),a=new op(t,s.Ts),o=a.ma(s.documents),l=Sd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Sp(e,n,c.wa);const u=new lp(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function mp(e,t,n){const r=Zo(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(e=>!du(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yf(r.remoteStore,i.targetId),kp(r,i.targetId)}).catch(Il)):(kp(r,i.targetId),await Hh(r.localStore,i.targetId,!0))}async function gp(e,t){const n=Zo(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yf(n.remoteStore,r.targetId))}async function yp(e,t){const n=Zo(e);try{const e=await function(e,t){const n=Zo(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Jl.EMPTY_BYTE_STRING,gl.min()).withLastLimboFreeSnapshotVersion(gl.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Ur.updateTargetData(e,c))});let o=wu(),l=Iu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(zh(e,s,t.documentUpdates).next(e=>{o=e.Ps,l=e.Is})),!r.isEqual(gl.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return jl.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.os=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(Xo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Xo(r.va):e.removedDocuments.size>0&&(Xo(r.va),r.va=!1))}),await Ip(n,e,t)}catch(e){await Il(e)}}function vp(e,t,n){const r=Zo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Zo(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&tp(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bp(e,t,n){const r=Zo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new Wl(xl.comparator);e=e.insert(s,Tc.newNoDocument(s,gl.min()));const n=Iu().add(s),i=new Nd(gl.min(),new Map,new Wl(fl),e,n);await yp(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),Cp(r)}else await Hh(r.localStore,t,!1).then(()=>kp(r,t,n)).catch(Il)}async function wp(e,t){const n=Zo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Zo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=jl.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Xo(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Iu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Ep(n,r,null),_p(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ip(n,e)}catch(e){await Il(e)}}async function xp(e,t,n){const r=Zo(e);try{const e=await function(e,t){const n=Zo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Xo(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Ep(r,t,n),_p(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ip(r,e)}catch(n){await Il(n)}}function _p(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function Ep(e,t,n){const r=Zo(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function kp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||Np(e,t)})}function Np(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(yf(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Cp(e))}function Sp(e,t,n){for(const r of n)r instanceof sp?(e.La.addReference(r.key,t),Tp(e,r)):r instanceof ap?(Go("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Np(e,r.key)):Jo()}function Tp(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Go("SyncEngine","New document in limbo: "+n),e.xa.add(r),Cp(e))}function Cp(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new xl(vl.fromString(t)),r=e.qa.next();e.Na.set(r,new cp(n)),e.Oa=e.Oa.insert(n,r),gf(e.remoteStore,new hh(ou(ru(n.path)),r,"TargetPurposeLimboResolution",Ol.oe))}}async function Ip(e,t,n){const r=Zo(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,o)=>{a.push(r.Ka(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Dh.Wi(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=Zo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>jl.forEach(t,t=>jl.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>jl.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Rl(e))throw e;Go("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function jp(e,t){const n=Zo(e);if(!n.currentUser.isEqual(t)){Go("SyncEngine","User change. New user:",t.toKey());const e=await Vh(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new tl(el.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ip(n,e.hs)}}function Ap(e,t){const n=Zo(e),r=n.Na.get(t);if(r&&r.va)return Iu().add(r.key);{let e=Iu();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Rp(e){const t=Zo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ap.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bp.bind(null,t),t.Ca.d_=Zf.bind(null,t.eventManager),t.Ca.$a=ep.bind(null,t.eventManager),t}function Op(e){const t=Zo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xp.bind(null,t),t}class Pp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Fh(this.persistence,new Mh,e.initialUser,this.serializer)}Ga(e){return new Rh(Ph.Zr,this.serializer)}Wa(e){return new Yh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pp.provider={build:()=>new Pp};class Dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>vp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=jp.bind(null,this.syncEngine),await Vf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Yf}createDatastore(e){const t=af(e.databaseInfo.databaseId),n=function(e){return new rf(e)}(e.databaseInfo);return function(e,t,n,r){return new df(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ff(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>vp(this.syncEngine,e,0),Jh.D()?new Jh:new $h)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new up(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Zo(e);Go("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await mf(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Dp.provider={build:()=>new Dp};class Lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Mp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new tl(el.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Zo(e),r={documents:t.map(e=>Kd(n.serializer,e))},i=await n.Lo("BatchGetDocuments",n.serializer.databaseId,vl.emptyPath(),r,t.length),s=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Xo(!!t.found),t.found.name,t.found.updateTime;const n=Gd(e,t.found.name),r=zd(t.found.updateTime),i=t.found.createTime?zd(t.found.createTime):gl.min(),s=new Nc({mapValue:{fields:t.found.fields}});return Tc.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Xo(!!t.missing),Xo(!!t.readTime);const n=Gd(e,t.missing),r=zd(t.readTime);return Tc.newNoDocument(n,r)}(e,t):Jo()}(n.serializer,e);s.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=s.get(e.toString());Xo(!!t),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ld(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=xl.fromPath(t);this.mutations.push(new cd(n,this.precondition(n)))}),await async function(e,t){const n=Zo(e),r={writes:t.map(e=>Zd(n.serializer,e))};await n.Mo("Commit",n.serializer.databaseId,vl.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jo();t=gl.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new tl(el.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(gl.min())?Yu.exists(!1):Yu.updateTime(t):Yu.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gl.min()))throw new tl(el.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yu.updateTime(t)}return Yu.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Up{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this._u=n.maxAttempts,this.t_=new of(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new Mp(this.datastore),t=this.cu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.lu(e)}))}).catch(e=>{this.lu(e)})})}cu(e){try{const t=this.updateFunction(e);return!Pl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!gd(t)}return!1}}class Fp{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=qo.UNAUTHENTICATED,this.clientId=hl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Go("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Go("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Ve){const n=Wf(Ve,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Vp(e,t){e.asyncQueue.verifyOperationInProgress(),Go("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Vh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Bp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zp(e);Go("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Ff(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ff(t.remoteStore,n)),e._onlineComponents=t}async function zp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Go("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vp(e,e._uninitializedComponentsProvider._offline)}catch(Ve){const n=Ve;if(!function(e){return"FirebaseError"===e.name?e.code===el.FAILED_PRECONDITION||e.code===el.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await Vp(e,new Pp)}}else Go("FirestoreClient","Using default OfflineComponentProvider"),await Vp(e,new Pp);return e._offlineComponents}async function qp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Go("FirestoreClient","Using user provided OnlineComponentProvider"),await Bp(e,e._uninitializedComponentsProvider._online)):(Go("FirestoreClient","Using default OnlineComponentProvider"),await Bp(e,new Dp))),e._onlineComponents}function Wp(e){return qp(e).then(e=>e.syncEngine)}function Hp(e){return qp(e).then(e=>e.datastore)}async function Kp(e){const t=await qp(e),n=t.eventManager;return n.onListen=dp.bind(null,t.syncEngine),n.onUnlisten=mp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=hp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gp.bind(null,t.syncEngine),n}function Gp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new nl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Lp({next:o=>{s.Za(),t.enqueueAndForget(()=>Xf(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new tl(el.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new tl(el.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new ip(ru(n.path),s,{includeMetadataChanges:!0,_a:!0});return Jf(e,a)}(await Kp(e),e.asyncQueue,t,n,r)),r.promise}function Qp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new nl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Lp({next:n=>{s.Za(),t.enqueueAndForget(()=>Xf(e,a)),n.fromCache&&"server"===r.source?i.reject(new tl(el.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new ip(n,s,{includeMetadataChanges:!0,_a:!0});return Jf(e,a)}(await Kp(e),e.asyncQueue,t,n,r)),r.promise}function Yp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const $p=new Map;function Jp(e,t,n){if(!n)throw new tl(el.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xp(e){if(!xl.isDocumentKey(e))throw new tl(el.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zp(e){if(xl.isDocumentKey(e))throw new tl(el.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function em(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Jo()}function tm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tl(el.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=em(e);throw new tl(el.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function nm(e,t){if(t<=0)throw new tl(el.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class rm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new tl(el.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tl(el.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new tl(el.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new tl(el.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new tl(el.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new tl(el.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tl(el.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tl(el.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new il;switch(e.type){case"firstParty":return new ll(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new tl(el.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$p.get(e);t&&(Go("ComponentProvider","Removing Datastore"),$p.delete(e),t.terminate())}(this),Promise.resolve()}}class sm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sm(this.firestore,e,this._query)}}class am{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new om(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new am(this.firestore,e,this._key)}}class om extends sm{constructor(e,t,n){super(e,t,ru(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new am(this.firestore,null,new xl(e))}withConverter(e){return new om(this.firestore,e,this._path)}}function lm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jn(e),Jp("collection","path",t),e instanceof im){const n=vl.fromString(t,...r);return Zp(n),new om(e,null,n)}{if(!(e instanceof am||e instanceof om))throw new tl(el.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vl.fromString(t,...r));return Zp(n),new om(e.firestore,null,n)}}function cm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jn(e),1===arguments.length&&(t=hl.newId()),Jp("doc","path",t),e instanceof im){const n=vl.fromString(t,...r);return Xp(n),new am(e,null,new xl(n))}{if(!(e instanceof am||e instanceof om))throw new tl(el.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vl.fromString(t,...r));return Xp(n),new am(e.firestore,e instanceof om?e.converter:null,new xl(n))}}class um{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new of(this,"async_queue_retry"),this.Vu=()=>{const e=sf();e&&Go("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=sf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=sf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new nl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(Fe){if(!Rl(Fe))throw Fe;Go("AsyncQueue","Operation failed with retryable error: "+Fe)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Qo("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=qf.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&Jo()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class dm extends im{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new um,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new um(e),this._firestoreClient=void 0,await e}}}function hm(e){if(e._terminated)throw new tl(el.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||fm(e),e._firestoreClient}function fm(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new sc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Yp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Fp(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class pm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pm(Jl.fromBase64String(e))}catch(e){throw new tl(el.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new pm(Jl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new tl(el.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gm{constructor(e){this._methodName=e}}class ym{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tl(el.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tl(el.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fl(this._lat,e._lat)||fl(this._long,e._long)}}class vm{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const bm=/^__.*__$/;class wm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new id(e,this.data,this.fieldMask,t,this.fieldTransforms):new rd(e,this.data,t,this.fieldTransforms)}}class xm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new id(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _m(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jo()}}class Em{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Em(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(_m(this.Cu)&&bm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class km{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||af(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Em({Cu:e,methodName:t,qu:n,path:wl.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nm(e){const t=e._freezeSettings(),n=af(e._databaseId);return new km(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Lm("Data must be an object, but it was:",a,r);const o=Pm(r,a);let l,c;if(s.merge)l=new Yl(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Mm(t,r,n);if(!a.contains(i))throw new tl(el.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Bm(e,i)||e.push(i)}l=new Yl(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new wm(new Nc(o),l,c)}class Tm extends gm{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tm}}class Cm extends gm{_toFieldTransform(e){return new Gu(e.path,new Fu)}isEqual(e){return e instanceof Cm}}class Im extends gm{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new Wu(e.serializer,Pu(e.serializer,this.$u));return new Gu(e.path,t)}isEqual(e){return e instanceof Im&&this.$u===e.$u}}function jm(e,t,n,r){const i=e.Qu(1,t,n);Lm("Data must be an object, but it was:",i,r);const s=[],a=Nc.empty();zl(r,(e,r)=>{const o=Fm(t,e,n);r=jn(r);const l=i.Nu(o);if(r instanceof Tm)s.push(o);else{const e=Om(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new Yl(s);return new xm(a,o,i.fieldTransforms)}function Am(e,t,n,r,i,s){const a=e.Qu(1,t,n),o=[Mm(t,r,n)],l=[i];if(s.length%2!=0)throw new tl(el.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Mm(t,s[h])),l.push(s[h+1]);const c=[],u=Nc.empty();for(let h=o.length-1;h>=0;--h)if(!Bm(c,o[h])){const e=o[h];let t=l[h];t=jn(t);const n=a.Nu(e);if(t instanceof Tm)c.push(e);else{const r=Om(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Yl(c);return new xm(u,d,a.fieldTransforms)}function Rm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Om(n,e.Qu(r?4:3,t))}function Om(e,t){if(Dm(e=jn(e)))return Lm("Unsupported field value:",t,e),Pm(e,t);if(e instanceof gm)return function(e,t){if(!_m(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Om(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=jn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Pu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ml.fromDate(e);return{timestampValue:Fd(t.serializer,n)}}if(e instanceof ml){const n=new ml(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fd(t.serializer,n)}}if(e instanceof ym)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof pm)return{bytesValue:Vd(t.serializer,e._byteString)};if(e instanceof am){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:qd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof vm)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return Ru(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(em(e)))}(e,t)}function Pm(e,t){const n={};return ql(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zl(e,(e,r)=>{const i=Om(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Dm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ml||e instanceof ym||e instanceof pm||e instanceof am||e instanceof gm||e instanceof vm)}function Lm(e,t,n){if(!Dm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=em(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Mm(e,t,n){if((t=jn(t))instanceof mm)return t._internalPath;if("string"==typeof t)return Fm(e,t);throw Vm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Um=new RegExp("[~\\*/\\[\\]]");function Fm(e,t,n){if(t.search(Um)>=0)throw Vm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new mm(...t.split("."))._internalPath}catch(r){throw Vm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Vm(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new tl(el.INVALID_ARGUMENT,o+e+l)}function Bm(e,t){return e.some(e=>e.isEqual(t))}class zm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new am(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qm extends zm{data(){return super.data()}}function Wm(e,t){return"string"==typeof t?Fm(e,t):t instanceof mm?t._internalPath:t._delegate._internalPath}function Hm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new tl(el.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Km{}class Gm extends Km{}function Qm(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Km&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Jm).length,n=e.filter(e=>e instanceof Ym).length;if(t>1||t>0&&n>0)throw new tl(el.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Ym extends Gm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ym(e,t,n)}_apply(e){const t=this._parse(e);return ig(e._query,t),new sm(e.firestore,e.converter,cu(e._query,t))}_parse(e){const t=Nm(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new tl(el.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){rg(a,s);const t=[];for(const n of a)t.push(ng(r,e,n));o={arrayValue:{values:t}}}else o=ng(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||rg(a,s),o=Rm(n,t,a,"in"===s||"not-in"===s);return Pc.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function $m(e,t,n){const r=t,i=Wm("where",e);return Ym._create(i,r,n)}class Jm extends Km{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jm(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Dc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ig(n,i),n=cu(n,i)}(e._query,t),new sm(e.firestore,e.converter,cu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Xm extends Gm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new tl(el.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new tl(el.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(t,n)}(e._query,this._field,this._direction);return new sm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new tu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Zm(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Wm("orderBy",e);return Xm._create(n,t)}class eg extends Gm{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new eg(e,t,n)}_apply(e){return new sm(e.firestore,e.converter,uu(e._query,this._limit,this._limitType))}}function tg(e){return nm("limit",e),eg._create("limit",e,"F")}function ng(e,t,n){if("string"==typeof(n=jn(n))){if(""===n)throw new tl(el.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!su(t)&&-1!==n.indexOf("/"))throw new tl(el.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(vl.fromString(n));if(!xl.isDocumentKey(r))throw new tl(el.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gc(e,new xl(r))}if(n instanceof am)return gc(e,n._key);throw new tl(el.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(em(n),"."))}function rg(e,t){if(!Array.isArray(e)||0===e.length)throw new tl(el.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ig(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new tl(el.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new tl(el.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function sg(e,t){if(!(t instanceof Ym||t instanceof Jm))throw new tl(el.INVALID_ARGUMENT,"Function ".concat(e,"() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'."))}class ag{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ec(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Jo()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return zl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>ec(e.doubleValue));return new vm(i)}convertGeoPoint(e){return new ym(ec(e.latitude),ec(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=rc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const t=Zl(e);return new ml(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=vl.fromString(e);Xo(dh(n));const r=new ac(n.get(1),n.get(3)),i=new xl(n.popFirst(5));return r.isEqual(t)||Qo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function og(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class lg extends ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new pm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new am(this.firestore,null,t)}}class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ug extends zm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Wm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class dg extends ug{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class hg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new cg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new dg(this._firestore,this._userDataWriter,n.key,n,new cg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new tl(el.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new dg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new cg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new dg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:fg(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function fg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jo()}}function pg(e){e=tm(e,am);const t=tm(e.firestore,dm);return Gp(hm(t),e._key).then(n=>xg(t,e,n))}class mg extends ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new pm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new am(this.firestore,null,t)}}function gg(e){e=tm(e,sm);const t=tm(e.firestore,dm),n=hm(t),r=new mg(t);return Hm(e._query),Qp(n,e._query).then(n=>new hg(t,r,e,n))}function yg(e,t,n){e=tm(e,am);const r=tm(e.firestore,dm),i=og(e.converter,t,n);return wg(r,[Sm(Nm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Yu.none())])}function vg(e,t,n){e=tm(e,am);const r=tm(e.firestore,dm),i=Nm(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=jn(t))||t instanceof mm?Am(i,"updateDoc",e._key,t,n,o):jm(i,"updateDoc",e._key,t),wg(r,[s.toMutation(e._key,Yu.exists(!0))])}function bg(e,t){const n=tm(e.firestore,dm),r=cm(e),i=og(e.converter,t);return wg(n,[Sm(Nm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Yu.exists(!1))]).then(()=>r)}function wg(e,t){return function(e,t){const n=new nl;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Op(e);try{const e=await function(e,t){const n=Zo(e),r=ml.now(),i=t.reduce((e,t)=>e.add(t.key),Iu());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=wu(),l=Iu();return n.cs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=td(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new id(e.key,t,Sc(t.value.mapValue),Yu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Eu(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Wl(fl)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ip(r,e.changes),await jf(r.remoteStore)}catch(e){const t=Wf(e,"Failed to persist write");n.reject(t)}}(await Wp(e),t,n)),n.promise}(hm(e),t)}function xg(e,t,n){const r=n.docs.get(t._key),i=new mg(e);return new ug(e,i,t._key,r,new cg(n.hasPendingWrites,n.fromCache),t.converter)}const _g={maxAttempts:5};function Eg(e,t){if((e=jn(e)).firestore!==t)throw new tl(el.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class kg extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nm(e)}get(e){const t=Eg(e,this._firestore),n=new lg(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Jo();const r=e[0];if(r.isFoundDocument())return new zm(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new zm(this._firestore,n,t._key,null,t.converter);throw Jo()})}set(e,t,n){const r=Eg(e,this._firestore),i=og(r.converter,t,n),s=Sm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Eg(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=jn(t))||t instanceof mm?Am(this._dataReader,"Transaction.update",r._key,t,n,a):jm(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Eg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Eg(e,this._firestore),n=new mg(this._firestore);return super.get(e).then(e=>new ug(this._firestore,n,t._key,e._document,new cg(!1,!1),t.converter))}}function Ng(){return new Cm("serverTimestamp")}function Sg(e){return new Im("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wo=e}(Kr),Br(new An("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new dm(new al(e.getProvider("auth-internal")),new ul(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tl(el.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),$r(zo,"4.7.3",e),$r(zo,"4.7.3","esm2017")}();$r("firebase","10.14.1","app");const Tg="firebasestorage.googleapis.com",Cg="storageBucket";class Ig extends bn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Rg(e),"Firebase Storage: ".concat(t," (").concat(Rg(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ig.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var jg,Ag;function Rg(e){return"storage/"+e}function Og(){return new Ig(jg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Pg(){return new Ig(jg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dg(){return new Ig(jg.CANCELED,"User canceled the upload/download.")}function Lg(){return new Ig(jg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Mg(e){return new Ig(jg.INVALID_ARGUMENT,e)}function Ug(){return new Ig(jg.APP_DELETED,"The Firebase app was deleted.")}function Fg(e,t){return new Ig(jg.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Vg(e){throw new Ig(jg.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(jg||(jg={}));class Bg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Bg.makeFromUrl(e,t)}catch(Fe){return new Bg(e,"")}if(""===n.path)return n;throw r=e,new Ig(jg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Tg?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Bg(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Ig(jg.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class zg{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function qg(e){return"string"===typeof e||e instanceof String}function Wg(e){return Hg()&&e instanceof Blob}function Hg(){return"undefined"!==typeof Blob}function Kg(e,t,n,r){if(r<t)throw Mg("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Mg("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Gg(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Qg(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Yg(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ag||(Ag={}));class $g{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Jg(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Ag.NO_ERROR,i=n.getStatus();if(!t||Yg(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Ag.ABORT;return void e(!1,new Jg(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Jg(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Fe){r(Fe)}else if(null!==i){const e=Og();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Ug():Dg())}else{r(Pg())}};this.canceled_?t(0,new Jg(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jg{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Xg(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Zg(){const e=Xg();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Hg())return new Blob(n);throw new Ig(jg.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function ey(e){if("undefined"===typeof atob)throw t="base-64",new Ig(jg.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const ty="raw",ny="base64",ry="base64url",iy="data_url";class sy{constructor(e,t){this.data=e,this.contentType=t||null}}function ay(e,t){switch(e){case ty:return new sy(oy(t));case ny:case ry:return new sy(ly(e,t));case iy:return new sy(function(e){const t=new cy(e);return t.base64?ly(ny,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Fe){throw Fg(iy,"Malformed data URL.")}return oy(t)}(t.rest)}(t),new cy(t).contentType)}throw Og()}function oy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ly(e,t){switch(e){case ny:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Fg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case ry:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Fg(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ey(t)}catch(Fe){if(Fe.message.includes("polyfill"))throw Fe;throw Fg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class cy{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Fg(iy,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class uy{constructor(e,t){let n=0,r="";Wg(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Wg(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new uy(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new uy(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Hg()){const e=t.map(e=>e instanceof uy?e.data_:e);return new uy(Zg.apply(null,e))}{const e=t.map(e=>qg(e)?ay(ty,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new uy(r,!0)}}uploadData(){return this.data_}}function dy(e){let t;try{t=JSON.parse(e)}catch(Fe){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function hy(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function fy(e,t){return t}class py{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||fy}}let my=null;function gy(){if(my)return my;const e=[];e.push(new py("bucket")),e.push(new py("generation")),e.push(new py("metageneration")),e.push(new py("name","fullPath",!0));const t=new py("name");t.xform=function(e,t){return function(e){return!qg(e)||e.length<2?e:hy(e)}(t)},e.push(t);const n=new py("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new py("timeCreated")),e.push(new py("updated")),e.push(new py("md5Hash",null,!0)),e.push(new py("cacheControl",null,!0)),e.push(new py("contentDisposition",null,!0)),e.push(new py("contentEncoding",null,!0)),e.push(new py("contentLanguage",null,!0)),e.push(new py("contentType",null,!0)),e.push(new py("metadata","customMetadata",!0)),my=e,my}function yy(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Bg(n,r);return t._makeStorageReference(i)}})}(r,e),r}function vy(e,t,n){const r=dy(t);if(null===r)return null;return yy(e,r,n)}function by(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class wy{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xy(e){if(!e)throw Og()}function _y(e,t){return function(n,r){const i=vy(e,r,t);return xy(null!==i),i}}function Ey(e,t){return function(n,r){const i=vy(e,r,t);return xy(null!==i),function(e,t,n,r){const i=dy(t);if(null===i)return null;if(!qg(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(t=>{const i=e.bucket,s=e.fullPath;return Gg("/b/"+a(i)+"/o/"+a(s),n,r)+Qg({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function ky(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ig(jg.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Ig(jg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Ig(jg.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ig(jg.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Ny(e){const t=ky(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Ig(jg.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Sy(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Ty(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=Sy(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+by(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=uy.getBlob(c,r,u);if(null===d)throw Lg();const h={name:l.fullPath},f=Gg(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new wy(f,"POST",_y(e,n),p);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=ky(t),m}class Cy{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ag.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ag.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ag.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw Vg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Fe){return-1}}getResponse(){if(!this.sent_)throw Vg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Iy extends Cy{initXhr(){this.xhr_.responseType="text"}}function jy(){return new Iy}class Ay{constructor(e,t){this._service=e,this._location=t instanceof Bg?t:Bg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ay(e,t)}get root(){const e=new Bg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hy(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Bg(this._location.bucket,e);return new Ay(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Ig(jg.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Ry(e,t,n){e._throwIfRoot("uploadBytes");const r=Ty(e.storage,e._location,gy(),new uy(t,!0),n);return e.storage.makeRequestWithTokens(r,jy).then(t=>({metadata:t,ref:e}))}function Oy(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Gg(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new wy(r,"GET",Ey(e,n),i);return s.errorHandler=Ny(t),s}(e.storage,e._location,gy());return e.storage.makeRequestWithTokens(t,jy).then(e=>{if(null===e)throw new Ig(jg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function Py(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Bg(e._location.bucket,n);return new Ay(e.storage,r)}function Dy(e,t){if(e instanceof Uy){const n=e;if(null==n._bucket)throw new Ig(jg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Cg+"' property when initializing the app?");const r=new Ay(n,n._bucket);return null!=t?Dy(r,t):r}return void 0!==t?Py(e,t):e}function Ly(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Uy)return new Ay(e,t);throw Mg("To use ref(service, url), the first argument must be a Storage instance.")}return Dy(e,t)}function My(e,t){const n=null===t||void 0===t?void 0:t[Cg];return null==n?null:Bg.makeFromBucketSpec(n,e)}class Uy{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Tg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Bg.makeFromBucketSpec(r,this._host):My(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Bg.makeFromBucketSpec(this._url,e):this._bucket=My(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Kg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Kg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ay(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new zg(Ug());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Qg(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new $g(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Fy="@firebase/storage",Vy="0.13.2",By="storage";function zy(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Uy(r,i,s,n,Kr)}Br(new An(By,zy,"PUBLIC").setMultipleInstances(!0)),$r(Fy,Vy,""),$r(Fy,Vy,"esm2017");const qy="@firebase/installations",Wy="0.6.9",Hy=1e4,Ky="w:".concat(Wy),Gy="FIS_v2",Qy=36e5,Yy=new wn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $y(e){return e instanceof bn&&e.code.includes("request-failed")}function Jy(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Xy(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Zy(e,t){const n=(await t.json()).error;return Yy.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ev(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function tv(e,t){let{refreshToken:n}=t;const r=ev(e);return r.append("Authorization",function(e){return"".concat(Gy," ").concat(e)}(n)),r}async function nv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function rv(e){return new Promise(t=>{setTimeout(t,e)})}const iv=/^[cdef][\w-]{21}$/;function sv(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return iv.test(t)?t:""}catch(e){return""}}function av(e){return"".concat(e.appName,"!").concat(e.appId)}const ov=new Map;function lv(e,t){const n=av(e);cv(n,t),function(e,t){const n=dv();n&&n.postMessage({key:e,fid:t});hv()}(n,t)}function cv(e,t){const n=ov.get(e);if(n)for(const r of n)r(t)}let uv=null;function dv(){return!uv&&"BroadcastChannel"in self&&(uv=new BroadcastChannel("[Firebase] FID Change"),uv.onmessage=e=>{cv(e.data.key,e.data.fid)}),uv}function hv(){0===ov.size&&uv&&(uv.close(),uv=null)}const fv="firebase-installations-store";let pv=null;function mv(){return pv||(pv=er("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(fv)}})),pv}async function gv(e,t){const n=av(e),r=(await mv()).transaction(fv,"readwrite"),i=r.objectStore(fv),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||lv(e,t.fid),t}async function yv(e){const t=av(e),n=(await mv()).transaction(fv,"readwrite");await n.objectStore(fv).delete(t),await n.done}async function vv(e,t){const n=av(e),r=(await mv()).transaction(fv,"readwrite"),i=r.objectStore(fv),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||lv(e,a.fid),a}async function bv(e){let t;const n=await vv(e.appConfig,n=>{const r=function(e){const t=e||{fid:sv(),registrationStatus:0};return _v(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Yy.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=Jy(n),a=ev(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:Gy,appId:n.appId,sdkVersion:Ky},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await nv(()=>fetch(s,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Xy(e.authToken)}}throw await Zy("Create Installation",u)}(e,t);return gv(e.appConfig,n)}catch(Fe){throw $y(Fe)&&409===Fe.customData.serverCode?await yv(e.appConfig):await gv(e.appConfig,{fid:t.fid,registrationStatus:0}),Fe}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:wv(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function wv(e){let t=await xv(e.appConfig);for(;1===t.registrationStatus;)await rv(100),t=await xv(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await bv(e);return n||t}return t}function xv(e){return vv(e,e=>{if(!e)throw Yy.create("installation-not-found");return _v(e)})}function _v(e){return 1===(t=e).registrationStatus&&t.registrationTime+Hy<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Ev(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Jy(e),"/").concat(n,"/authTokens:generate")}(n,t),s=tv(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:Ky,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await nv(()=>fetch(i,l));if(c.ok){return Xy(await c.json())}throw await Zy("Generate Auth Token",c)}async function kv(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await vv(e.appConfig,r=>{if(!Sv(r))throw Yy.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Qy}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Nv(e.appConfig);for(;1===n.authToken.requestStatus;)await rv(100),n=await Nv(e.appConfig);const r=n.authToken;return 0===r.requestStatus?kv(e,t):r}(e,n),r;{if(!navigator.onLine)throw Yy.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Ev(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await gv(e.appConfig,r),n}catch(Fe){if(!$y(Fe)||401!==Fe.customData.serverCode&&404!==Fe.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await gv(e.appConfig,n)}else await yv(e.appConfig);throw Fe}}(e,n),n}});return t?await t:r.authToken}function Nv(e){return vv(e,e=>{if(!Sv(e))throw Yy.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Hy<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function Sv(e){return void 0!==e&&2===e.registrationStatus}async function Tv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await bv(e);t&&await t}(n);return(await kv(n,t)).token}function Cv(e){return Yy.create("missing-app-config-values",{valueName:e})}const Iv="installations",jv=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Cv("App Configuration");if(!e.name)throw Cv("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Cv(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:zr(t,"heartbeat"),_delete:()=>Promise.resolve()}},Av=e=>{const t=zr(e.getProvider("app").getImmediate(),Iv).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await bv(t);return r?r.catch(console.error):kv(t).catch(console.error),n.fid}(t),getToken:e=>Tv(t,e)}};Br(new An(Iv,jv,"PUBLIC")),Br(new An("installations-internal",Av,"PRIVATE")),$r(qy,Wy),$r(qy,Wy,"esm2017");const Rv="analytics",Ov="https://www.googletagmanager.com/gtag/js",Pv=new Bn("@firebase/analytics"),Dv=new wn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Lv(e){if(!e.startsWith(Ov)){const t=Dv.create("invalid-gtag-resource",{gtagURL:e});return Pv.warn(t.message),""}return e}function Mv(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Uv(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Lv}),r=document.createElement("script"),i="".concat(Ov,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Fv(e,t,n,r){return async function(i){try{for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Mv(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(Fe){Pv.error(Fe)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=a;await async function(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const e=(await Mv(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(Fe){Pv.error(Fe)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(Fe){Pv.error(Fe)}}}const Vv=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Bv(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function zv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vv,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Dv.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Dv.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Wv;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),qv({appId:r,apiKey:i,measurementId:s},a,o,t)}async function qv(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Vv;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Dv.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(Fe){if(l)return Pv.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===Fe||void 0===Fe?void 0:Fe.message,"]")),{appId:o,measurementId:l};throw Fe}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Bv(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(s,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw Dv.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return s.deleteThrottleMetadata(o),t}catch(Fe){const r=Fe;if(!function(e){if(!(e instanceof bn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(o),l)return Pv.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:o,measurementId:l};throw Fe}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?In(i,s.intervalMillis,30):In(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(o,u),Pv.debug("Calling attemptFetch again in ".concat(c," millis")),qv(e,u,n,s)}}class Wv{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Hv,Kv;function Gv(e){Kv=e}function Qv(e){Hv=e}async function Yv(e,t,n,r,i,s,a){var o;const l=zv(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Pv.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>Pv.error(e)),t.push(l);const c=async function(){if(!yn())return Pv.warn(Dv.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await vn()}catch(Fe){return Pv.warn(Dv.create("indexeddb-unavailable",{errorInfo:null===Fe||void 0===Fe?void 0:Fe.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ov)&&n.src.includes(e))return n;return null})(s)||Uv(s,u.measurementId),Kv&&(i("consent","default",Kv),Gv(void 0)),i("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),Hv&&(i("set",Hv),Qv(void 0)),u.measurementId}class $v{constructor(e){this.app=e}_delete(){return delete Jv[this.app.options.appId],Promise.resolve()}}let Jv={},Xv=[];const Zv={};let eb,tb,nb="dataLayer",rb="gtag",ib=!1;function sb(){const e=[];if(mn()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=Dv.create("invalid-analytics-context",{errorInfo:t});Pv.warn(n.message)}}function ab(e,t,n){sb();const r=e.options.appId;if(!r)throw Dv.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Dv.create("no-api-key");Pv.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Jv[r])throw Dv.create("already-exists",{id:r});if(!ib){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(nb);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=Fv(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Jv,Xv,Zv,nb,rb);tb=e,eb=t,ib=!0}Jv[r]=Yv(e,Xv,Zv,t,eb,nb,n);return new $v(e)}function ob(e,t,n,r){e=jn(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(tb,Jv[e.app.options.appId],t,n,r).catch(e=>Pv.error(e))}const lb="@firebase/analytics",cb="0.10.8";Br(new An(Rv,(e,t)=>{let{options:n}=t;return ab(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Br(new An("analytics-internal",function(e){try{const t=e.getProvider(Rv).getImmediate();return{logEvent:(e,n,r)=>ob(t,e,n,r)}}catch(Fe){throw Dv.create("interop-component-reg-failed",{reason:Fe})}},"PRIVATE")),$r(lb,cb),$r(lb,cb,"esm2017");const ub=Gr({apiKey:"AIzaSyDt3ilVFm5BryPqb2DeXPF0mCXiWbvU7H8",authDomain:"skillwagers.firebaseapp.com",projectId:"skillwagers",storageBucket:"skillwagers.appspot.com",messagingSenderId:"624853863549",appId:"1:624853863549:web:b5c22a8c65db67d5949a6a",measurementId:"G-7YFELE6P82"}),db=So(ub),hb=function(e,t){const n="string"==typeof e?e:t||"(default)",r=zr("object"==typeof e?e:Qr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=cn("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=tm(e,im))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=qo.MOCK_USER;else{t=fn(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new tl(el.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new qo(s)}e._authCredentials=new sl(new rl(t,n))}}(r,...e)}return r}(ub),fb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr(),t=arguments.length>1?arguments[1]:void 0;e=jn(e);const n=zr(e,By).getImmediate({identifier:t}),r=cn("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:fn(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(ub);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();e=jn(e);const t=zr(e,Rv);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=zr(e,Rv);if(n.isInitialized()){const e=n.getImmediate();if(_n(t,n.getOptions()))return e;throw Dv.create("already-initialized")}const r=n.initialize({options:t})}(e)}(ub);var pb=n(579);const mb=(0,s.createContext)(),gb=()=>{const e=(0,s.useContext)(mb);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},yb=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(null),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null),d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;const n=cm(hb,"users",e.uid),r=await pg(n);if(r.exists()){const i=Ue({lastLoginAt:Ng(),email:e.email,displayName:e.displayName||r.data().displayName,photoURL:null!==e.photoURL?e.photoURL:r.data().photoURL},t);return await vg(n,i),Ue(Ue({},r.data()),i)}{const r=Ue({uid:e.uid,email:e.email,displayName:e.displayName||t.displayName||"",photoURL:e.photoURL||null,createdAt:Ng(),lastLoginAt:Ng(),betaBalance:100,stats:{wins:0,losses:0,totalChallenges:0}},t);return await yg(n,r),r}},h=async e=>{try{const t=cm(hb,"users",e),n=await pg(t);return n.exists()?n.data():null}catch(t){return console.error("Error fetching user profile:",t),null}};(0,s.useEffect)(()=>{const e=la(db,async e=>{if(r(e),e)try{const t=await d(e);a(t)}catch(t){console.error("Error handling user auth state:",t);const n=await h(e.uid);a(n)}else a(null);l(!1)});return e},[]);const f=async()=>{try{if(!n)throw new Error("No authenticated user");const e=await h(n);return a(e),e}catch(e){throw console.error("Error refreshing profile:",e),e}},p={currentUser:n,userProfile:i,token:c,login:async(e,t)=>{const n=await function(e,t,n){return qr(e.app)?Promise.reject(gi(e)):ia(jn(e),qs.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&aa(e),t})}(db,e,t);return n.user},register:async(e,t,n,r)=>{const i=await async function(e,t,n){if(qr(e.app))return Promise.reject(gi(e));const r=xs(e),i=Cs(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$s),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&aa(e),t}),a=await Js._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(db,e,t),s=i.user;await oa(s,{displayName:n});const o=await d(s,{displayName:n,dateOfBirth:r,betaUser:!0});return a(o),s},googleSignIn:async()=>{const e=new Gs,t=(await Ba(db,e)).user,n=await d(t,{betaUser:!0,provider:"google"});return a(n),t},logout:async()=>{await ca(db),r(null),a(null),u(null)},updateUserProfile:async e=>{try{if(!n)throw new Error("No authenticated user");const t=cm(hb,"users",n.uid);await vg(t,Ue(Ue({},e),{},{updatedAt:new Date}));const r=await h(n);return a(r),r}catch(t){throw console.error("Error updating profile:",t),t}},verifyAge:async e=>{try{if(!n)throw new Error("No authenticated user");const t=new Date(e),r=new Date,i=r.getFullYear()-t.getFullYear(),s=r.getMonth()-t.getMonth();if(!(i>18||18===i&&s>0||18===i&&0===s&&r.getDate()>=t.getDate()))throw new Error("Must be 18 years or older to use this platform");const o=cm(hb,"users",n.uid);return await vg(o,{ageVerified:!0,dateOfBirth:e,ageVerifiedAt:new Date}),a(t=>Ue(Ue({},t),{},{ageVerified:!0,dateOfBirth:e})),{success:!0,ageVerified:!0}}catch(t){throw console.error("Error verifying age:",t),t}},refreshProfile:f,claimDevFunds:async()=>{try{if(!n)throw new Error("No authenticated user");const e=cm(hb,"users",n.uid);return await vg(e,{betaBalance:Sg(100),lastDevFundsClaim:new Date,"stats.totalFundsClaimed":Sg(100)}),await f(),{success:!0,amount:100}}catch(e){throw console.error("Error claiming dev funds:",e),e}},loading:o};return(0,pb.jsx)(mb.Provider,{value:p,children:!o&&t})},vb=e=>{let{size:t="sm",className:n=""}=e;return(0,pb.jsx)("span",{className:"inline-flex items-center ".concat({xs:"px-1 py-0.5 text-xs",sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base"}[t]," font-semibold bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-full shadow-sm animate-pulse ").concat(n),children:"BETA"})};function bb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const wb=["title","titleId"];function xb(e,t){let{title:n,titleId:r}=e,i=bb(e,wb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const _b=s.forwardRef(xb),Eb=e=>{let{showLabel:t=!0,className:n=""}=e;const{userProfile:r}=gb();if(!r)return null;const i=r.balance||0,s=r.currency||"fake";return(0,pb.jsxs)("div",{className:"flex items-center space-x-2 ".concat(n),children:[t&&(0,pb.jsx)("span",{className:"text-sm text-gray-500 font-medium",children:"Beta Balance:"}),(0,pb.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,pb.jsx)(_b,{className:"h-4 w-4 text-green-500"}),(0,pb.jsxs)("span",{className:"font-semibold text-green-600",children:["$",i.toFixed(2)]}),"fake"===s&&(0,pb.jsx)("span",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"(FAKE)"})]}),(0,pb.jsx)(vb,{size:"xs"})]})},kb=So(Yr().length?Yr()[0]:Gr({apiKey:"AIzaSyDt3ilVFm5BryPqb2DeXPF0mCXiWbvU7H8",authDomain:"skillwagers.firebaseapp.com",projectId:"skillwagers",storageBucket:"skillwagers.appspot.com",messagingSenderId:"624853863549",appId:"1:624853863549:web:b5c22a8c65db67d5949a6a",measurementId:"G-7YFELE6P82"})),Nb=(new Gs,["title","titleId"]);function Sb(e,t){let{title:n,titleId:r}=e,i=bb(e,Nb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Tb=s.forwardRef(Sb),Cb=e=>{let{src:t,alt:n="User avatar",size:r="md",className:i="",fallbackInitials:a=""}=e;const[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!0),d={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16","2xl":"h-20 w-20"},h={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-7 w-7",xl:"h-10 w-10","2xl":"h-12 w-12"},f={sm:"text-xs",md:"text-sm",lg:"text-base",xl:"text-lg","2xl":"text-xl"};return!t||o?a?(0,pb.jsx)("div",{className:"".concat(d[r]," ").concat(i," rounded-full bg-blue-500 flex items-center justify-center text-white font-medium ").concat(f[r]),children:a.slice(0,2).toUpperCase()}):(0,pb.jsx)("div",{className:"".concat(d[r]," ").concat(i," rounded-full bg-gray-300 flex items-center justify-center text-gray-600"),children:(0,pb.jsx)(Tb,{className:h[r]})}):(0,pb.jsxs)("div",{className:"".concat(d[r]," ").concat(i," rounded-full overflow-hidden border border-gray-300 bg-gray-100"),children:[c&&(0,pb.jsx)("div",{className:"h-full w-full bg-gray-200 animate-pulse rounded-full flex items-center justify-center",children:(0,pb.jsx)(Tb,{className:"".concat(h[r]," text-gray-400")})}),(0,pb.jsx)("img",{src:t,alt:n,className:"h-full w-full object-cover ".concat(c?"hidden":"block"),onLoad:()=>{u(!1)},onError:()=>{l(!0),u(!1)},loading:"lazy"})]})},Ib=()=>{var e;const[t,n]=(0,s.useState)(null),[r,i]=(0,s.useState)(!1),a=re();(0,s.useEffect)(()=>{const e=la(kb,e=>{n(e)});return()=>e()},[]);return t?(0,pb.jsxs)("button",{onClick:()=>a("/profile"),className:"flex items-center gap-3 hover:bg-gray-800 p-2 rounded-lg transition-colors",children:[(0,pb.jsx)(Cb,{src:t.photoURL,alt:t.displayName||"User",size:"md",fallbackInitials:t.displayName?t.displayName.charAt(0):(null===(e=t.email)||void 0===e?void 0:e.charAt(0))||"U"}),(0,pb.jsx)("span",{className:"text-sm text-gray-300 hidden sm:block",children:t.displayName||t.email})]}):(0,pb.jsx)(je,{to:"/login",className:"rounded-xl border border-orange-600 text-orange-600 px-4 py-2 hover:bg-orange-600 hover:text-white transition-colors text-sm font-medium",children:"Login/Register"})},jb=["title","titleId"];function Ab(e,t){let{title:n,titleId:r}=e,i=bb(e,jb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Rb=s.forwardRef(Ab),Ob=["title","titleId"];function Pb(e,t){let{title:n,titleId:r}=e,i=bb(e,Ob);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Db=s.forwardRef(Pb),Lb=["title","titleId"];function Mb(e,t){let{title:n,titleId:r}=e,i=bb(e,Lb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Ub=s.forwardRef(Mb),Fb=["title","titleId"];function Vb(e,t){let{title:n,titleId:r}=e,i=bb(e,Fb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Bb=s.forwardRef(Vb),zb=["title","titleId"];function qb(e,t){let{title:n,titleId:r}=e,i=bb(e,zb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Wb=s.forwardRef(qb),Hb=()=>{const{currentUser:e,userProfile:t}=gb(),n=te(),[r,i]=(0,s.useState)(!1),a=t=>t===(e?"/home":"/")?"/"===n.pathname||"/home"===n.pathname:n.pathname===t,o=[{path:e?"/home":"/",label:"Home",icon:Rb},{path:"/wagering",label:"Wagering",icon:Db},{path:"/marketplace",label:"Marketplace",icon:Ub},...e?[{path:"/wagers",label:"My Wagers",icon:Db}]:[]];return(0,pb.jsx)("nav",{className:"fixed top-0 w-full z-50 backdrop-blur-gaming border-b border-gray-700",children:(0,pb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,pb.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,pb.jsxs)(je,{to:"/",className:"flex items-center space-x-2",children:[(0,pb.jsx)("span",{className:"gaming-text text-xl font-bold",children:"SkillWagers"}),(0,pb.jsx)(vb,{size:"xs",className:"ml-2"})]}),(0,pb.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:o.map(e=>{let{path:t,label:n,icon:r}=e;return(0,pb.jsxs)(je,{to:t,className:"flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 ".concat(a(t)?"nav-link-active":"nav-link"),children:[(0,pb.jsx)(r,{className:"w-4 h-4"}),(0,pb.jsx)("span",{children:n})]},t)})}),(0,pb.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:(0,pb.jsx)(Ib,{})}),(0,pb.jsx)("div",{className:"md:hidden",children:(0,pb.jsx)("button",{onClick:()=>i(!r),className:"text-gray-300 hover:text-white p-2",children:r?(0,pb.jsx)(Bb,{className:"w-6 h-6"}):(0,pb.jsx)(Wb,{className:"w-6 h-6"})})})]}),r&&(0,pb.jsx)("div",{className:"md:hidden",children:(0,pb.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-dark-800 rounded-lg mt-2",children:[o.map(e=>{let{path:t,label:n,icon:r}=e;return(0,pb.jsxs)(je,{to:t,onClick:()=>i(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-base font-medium ".concat(a(t)?"bg-dark-700 text-primary-400":"text-gray-300 hover:text-white hover:bg-dark-700"),children:[(0,pb.jsx)(r,{className:"w-5 h-5"}),(0,pb.jsx)("span",{children:n})]},t)}),(0,pb.jsx)("div",{className:"border-t border-gray-600 pt-2 mt-2",children:(0,pb.jsx)("div",{className:"px-3 py-2",children:(0,pb.jsx)(Ib,{})})})]})})]})})},Kb=e=>{let{children:t,adminOnly:n=!1}=e;const{currentUser:r,userProfile:i,loading:s}=gb(),a=te();return s?(0,pb.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center",children:[(0,pb.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,pb.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:(0,pb.jsx)("span",{className:"text-white font-bold text-sm",children:"SW"})}),(0,pb.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"SkillWagers"}),(0,pb.jsx)(vb,{size:"xs"})]}),(0,pb.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"}),(0,pb.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Loading..."})]}):r?!n||i&&i.isAdmin?t:(0,pb.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center",children:(0,pb.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[(0,pb.jsxs)("div",{className:"flex justify-center items-center space-x-2 mb-4",children:[(0,pb.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:(0,pb.jsx)("span",{className:"text-white font-bold text-sm",children:"SW"})}),(0,pb.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"SkillWagers"}),(0,pb.jsx)(vb,{size:"xs"})]}),(0,pb.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),(0,pb.jsx)("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page. Admin privileges required."}),(0,pb.jsx)("button",{onClick:()=>window.history.back(),className:"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition-colors",children:"Go Back"})]})}):(0,pb.jsx)(ve,{to:"/login",state:{from:a},replace:!0})},Gb=()=>{const[e,t]=(0,s.useState)(!1);(0,s.useEffect)(()=>{localStorage.getItem("hasSeenBetaModel")||t(!0)},[]);return e?(0,pb.jsx)("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:(0,pb.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-xl",children:[(0,pb.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to SkillWagers (Beta)"}),(0,pb.jsx)("p",{className:"text-gray-600 mb-4",children:"You're in early access. All currency is fake for testing. Let's run through a quick demo."}),(0,pb.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4 mb-4",children:[(0,pb.jsx)("h4",{className:"text-sm font-semibold text-orange-800 mb-2",children:"Beta Features:"}),(0,pb.jsxs)("ul",{className:"text-xs text-orange-700 space-y-1",children:[(0,pb.jsx)("li",{children:"\u2022 $100 free starting balance (fake currency)"}),(0,pb.jsx)("li",{children:"\u2022 Test challenges and wagers"}),(0,pb.jsx)("li",{children:"\u2022 Limited marketplace functionality"}),(0,pb.jsx)("li",{children:"\u2022 Development features for testing"})]})]}),(0,pb.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 mb-6",children:[(0,pb.jsx)("h4",{className:"text-sm font-semibold text-gray-800 mb-1",children:"Important:"}),(0,pb.jsx)("p",{className:"text-xs text-gray-600",children:"This is not real money. All transactions are simulated for testing purposes. Data may be reset during development."})]}),(0,pb.jsx)("button",{className:"w-full rounded-xl px-4 py-3 bg-orange-600 text-white font-semibold hover:bg-orange-700 transition-colors",onClick:()=>{t(!1),localStorage.setItem("hasSeenBetaModel","true")},children:"Got it, let's test"})]})}):null},Qb=["title","titleId"];function Yb(e,t){let{title:n,titleId:r}=e,i=bb(e,Qb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const $b=s.forwardRef(Yb),Jb=["title","titleId"];function Xb(e,t){let{title:n,titleId:r}=e,i=bb(e,Jb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Zb=s.forwardRef(Xb),ew=["title","titleId"];function tw(e,t){let{title:n,titleId:r}=e,i=bb(e,ew);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const nw=s.forwardRef(tw),rw=["title","titleId"];function iw(e,t){let{title:n,titleId:r}=e,i=bb(e,rw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const sw=s.forwardRef(iw),aw=["title","titleId"];function ow(e,t){let{title:n,titleId:r}=e,i=bb(e,aw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const lw=s.forwardRef(ow),cw=()=>{const{currentUser:e}=gb(),t=re();(0,s.useEffect)(()=>{e&&t("/home")},[e,t]);const n=[{icon:$b,title:"Any Skill-Based Challenge",description:"Create competitions for gaming, sports, fitness, art, trivia, or any measurable skill where outcomes depend on ability, not chance."},{icon:Zb,title:"Secure Escrow",description:"Your stakes are safely held in escrow until challenges are completed and verified."},{icon:_b,title:"Fair Competition Rewards",description:"Win by demonstrating superior skills in transparent, fair competitions with secure payouts."},{icon:nw,title:"Transparent Matching",description:"Challenge specific opponents or find matches based on skill level and competition type."},{icon:sw,title:"Quick Resolution",description:"Fast challenge resolution with proof submission and automated settlement when both parties confirm results."},{icon:lw,title:"Dispute Resolution",description:"Fair and transparent dispute resolution system managed by our admin team."}];return(0,pb.jsxs)("div",{className:"min-h-screen",children:[(0,pb.jsx)("section",{className:"relative overflow-hidden bg-gradient-gaming py-20",children:(0,pb.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,pb.jsxs)("div",{className:"text-center",children:[(0,pb.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Create and Compete in ",(0,pb.jsx)("span",{className:"gaming-text",children:"Any Skill-Based Challenge"})]}),(0,pb.jsx)("p",{className:"text-xl md:text-2xl text-gray-200 mb-8 max-w-4xl mx-auto",children:"Turn any skill into a fair, wager-based competition. Whether it's gaming mastery, athletic prowess, artistic talent, trivia knowledge, or any other measurable ability\u2014challenge others and prove your expertise."}),(0,pb.jsxs)("div",{className:"bg-dark-700 rounded-lg p-6 mb-8 max-w-3xl mx-auto border border-gray-600",children:[(0,pb.jsx)("p",{className:"text-gray-300 text-lg italic mb-2",children:"Example Challenge:"}),(0,pb.jsx)("p",{className:"text-white text-base",children:'"Challenge someone to a push-up contest for $5 each. Both players record unedited video proof, submit their performance, and the winner takes the pot. SkillWagers ensures fair play and secure handling of every match."'})]}),(0,pb.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e?(0,pb.jsxs)(pb.Fragment,{children:[(0,pb.jsx)(je,{to:"/wagers",className:"btn-primary text-lg px-8 py-4",children:"Browse Challenges"}),(0,pb.jsx)(je,{to:"/create-challenge",className:"btn-outline text-lg px-8 py-4",children:"Create Challenge"})]}):(0,pb.jsx)(je,{to:"/login",className:"btn-accent text-lg px-8 py-4 inline-block",children:"Start a Challenge"})})]})})}),(0,pb.jsx)("section",{className:"py-16 bg-dark-800",children:(0,pb.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,pb.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{value:"Beta",label:"Current Status"},{value:"Early Access",label:"Platform Stage"},{value:"Skill-Based",label:"Competition Type"},{value:"18+",label:"Age Requirement"}].map((e,t)=>(0,pb.jsxs)("div",{className:"text-center",children:[(0,pb.jsx)("div",{className:"text-3xl md:text-4xl font-bold gaming-text mb-2",children:e.value}),(0,pb.jsx)("div",{className:"text-gray-300 text-sm md:text-base font-medium",children:e.label})]},t))})})}),(0,pb.jsx)("section",{className:"py-20",children:(0,pb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,pb.jsxs)("div",{className:"text-center mb-16",children:[(0,pb.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["Why Choose ",(0,pb.jsx)("span",{className:"gaming-text",children:"SkillWagers"}),"?"]}),(0,pb.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"The secure, fair, and transparent platform for any skill-based competition you can imagine."})]}),(0,pb.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((e,t)=>(0,pb.jsxs)("div",{className:"card-gradient group transition-colors duration-300",children:[(0,pb.jsxs)("div",{className:"flex items-center mb-4",children:[(0,pb.jsx)("div",{className:"p-3 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg",children:(0,pb.jsx)(e.icon,{className:"w-6 h-6 text-white"})}),(0,pb.jsx)("h3",{className:"text-xl font-semibold text-white ml-4",children:e.title})]}),(0,pb.jsx)("p",{className:"text-gray-300 leading-relaxed",children:e.description})]},t))})]})}),(0,pb.jsx)("section",{className:"py-20 bg-dark-800",children:(0,pb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,pb.jsxs)("div",{className:"text-center mb-12",children:[(0,pb.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["Challenge ",(0,pb.jsx)("span",{className:"gaming-text",children:"Categories"})]}),(0,pb.jsx)("p",{className:"text-xl text-gray-300",children:"Compete in any skill-based category where talent and practice determine the winner"})]}),(0,pb.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:["Gaming","Fitness","Sports","Trivia","Art & Design","Programming","Music","Languages","Speed Skills","Strategy Games"].map((e,t)=>(0,pb.jsx)("div",{className:"card text-center transition-colors duration-300",children:(0,pb.jsx)("div",{className:"text-lg font-semibold text-white",children:e})},t))})]})}),(0,pb.jsx)("section",{className:"py-20",children:(0,pb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,pb.jsxs)("div",{className:"text-center mb-16",children:[(0,pb.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["How It ",(0,pb.jsx)("span",{className:"gaming-text",children:"Works"})]}),(0,pb.jsx)("p",{className:"text-xl text-gray-300",children:"Simple steps to start competing and earning"})]}),(0,pb.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,pb.jsxs)("div",{className:"text-center",children:[(0,pb.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,pb.jsx)("span",{className:"text-2xl font-bold text-white",children:"1"})}),(0,pb.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Create a Challenge"}),(0,pb.jsx)("p",{className:"text-gray-300",children:"Set up a skill-based challenge and choose your wager amount. Define clear rules and proof requirements."})]}),(0,pb.jsxs)("div",{className:"text-center",children:[(0,pb.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-secondary-500 to-secondary-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,pb.jsx)("span",{className:"text-2xl font-bold text-white",children:"2"})}),(0,pb.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Find an Opponent"}),(0,pb.jsx)("p",{className:"text-gray-300",children:"Invite specific opponents or accept open challenges. Stakes are securely held in escrow."})]}),(0,pb.jsxs)("div",{className:"text-center",children:[(0,pb.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-accent-500 to-accent-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,pb.jsx)("span",{className:"text-2xl font-bold text-white",children:"3"})}),(0,pb.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Submit Proof"}),(0,pb.jsx)("p",{className:"text-gray-300",children:"Complete your challenge and submit evidence (recordings, screenshots, or other proof as required)."})]}),(0,pb.jsxs)("div",{className:"text-center",children:[(0,pb.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,pb.jsx)("span",{className:"text-2xl font-bold text-white",children:"4"})}),(0,pb.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Automatic Settlement"}),(0,pb.jsx)("p",{className:"text-gray-300",children:"Once both players confirm results, wagers are settled automatically and winnings distributed."})]})]})]})}),(0,pb.jsx)("section",{className:"py-20 bg-gradient-gaming",children:(0,pb.jsxs)("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[(0,pb.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:["Ready to Join Our ",(0,pb.jsx)("span",{className:"gaming-text",children:"Beta"}),"?"]}),(0,pb.jsx)("p",{className:"text-xl text-gray-200 mb-8",children:"Be among the first to test our skill-based competition platform and help shape its future."}),!e&&(0,pb.jsx)(je,{to:"/login",className:"btn-accent text-lg px-8 py-4 inline-block",children:"Join SkillWagers Today"}),(0,pb.jsx)("div",{className:"mt-8 p-4 bg-dark-700 rounded-lg border border-yellow-500 max-w-2xl mx-auto",children:(0,pb.jsx)("p",{className:"text-yellow-300 text-sm font-medium",children:"\u26a0\ufe0f Beta Notice: SkillWagers is currently in Beta. All currency used in this version is simulated and has no real-world value."})})]})})]})},uw=["title","titleId"];function dw(e,t){let{title:n,titleId:r}=e,i=bb(e,uw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const hw=s.forwardRef(dw),fw=["title","titleId"];function pw(e,t){let{title:n,titleId:r}=e,i=bb(e,fw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const mw=s.forwardRef(pw),gw=()=>{const{currentUser:e,userProfile:t}=gb(),[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{e&&d()},[e]);const d=async()=>{try{l(!0);const n=cm(hb,"dailyRewards",e.uid),i=await pg(n);if(i.exists()){var t;const e=null===(t=i.data().lastClaimTime)||void 0===t?void 0:t.toDate();if(e){const t=new Date;if((t-e)/36e5>=24)r(!0),a(null);else{r(!1);const t=new Date(e.getTime()+864e5);a(t)}}else r(!0)}else r(!0)}catch(n){console.error("Error checking claim status:",n),Zt.error("Failed to check daily reward status")}finally{l(!1)}};return!e||o?null:(0,pb.jsxs)("div",{className:"bg-gradient-to-r from-yellow-900 via-orange-900 to-red-900 bg-opacity-30 border border-yellow-600 rounded-xl p-4 mb-6",children:[(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,pb.jsx)("div",{className:"p-2 bg-yellow-500 bg-opacity-20 rounded-lg",children:(0,pb.jsx)(hw,{className:"h-6 w-6 text-yellow-400"})}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("h3",{className:"text-lg font-semibold text-yellow-300",children:"Daily Free Coins"}),(0,pb.jsx)("p",{className:"text-sm text-yellow-200",children:n?"Claim your daily 100 SIM!":"Come back tomorrow for more coins!"})]})]}),(0,pb.jsx)("div",{className:"text-right",children:n?(0,pb.jsxs)("button",{onClick:async()=>{if(n&&!c)try{u(!0);const n=new Date,i=cm(hb,"users",e.uid),s=((null===t||void 0===t?void 0:t.betaBalance)||0)+100;await vg(i,{betaBalance:s});const o=cm(hb,"dailyRewards",e.uid);await yg(o,{lastClaimTime:n,totalClaimed:((null===t||void 0===t?void 0:t.totalDailyClaimed)||0)+100,claimCount:((null===t||void 0===t?void 0:t.dailyClaimCount)||0)+1},{merge:!0}),await vg(i,{totalDailyClaimed:((null===t||void 0===t?void 0:t.totalDailyClaimed)||0)+100,dailyClaimCount:((null===t||void 0===t?void 0:t.dailyClaimCount)||0)+1}),r(!1);const l=new Date(n.getTime()+864e5);a(l),Zt.success("\ud83c\udf89 Claimed 100 SIM! Come back in 24 hours for more!",{duration:4e3})}catch(i){console.error("Error claiming daily coins:",i),Zt.error("Failed to claim daily coins. Please try again.")}finally{u(!1)}},disabled:c,className:"bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",children:[(0,pb.jsx)(hw,{className:"h-4 w-4"}),(0,pb.jsx)("span",{children:c?"Claiming...":"Claim 100 SIM"})]}):(0,pb.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-200",children:[(0,pb.jsx)(mw,{className:"h-4 w-4"}),(0,pb.jsx)("span",{className:"text-sm",children:i?(e=>{const t=e-new Date;if(t<=0)return d(),null;const n=Math.floor(t/36e5),r=Math.floor(t%36e5/6e4);return"".concat(n,"h ").concat(r,"m")})(i):"Loading..."})]})})]}),(0,pb.jsx)("div",{className:"mt-3 pt-3 border-t border-yellow-600 border-opacity-50",children:(0,pb.jsxs)("div",{className:"flex justify-between text-xs text-yellow-200",children:[(0,pb.jsxs)("span",{children:["Total Daily Claims: ",(null===t||void 0===t?void 0:t.dailyClaimCount)||0]}),(0,pb.jsxs)("span",{children:["Total Daily SIM: ",(null===t||void 0===t?void 0:t.totalDailyClaimed)||0]})]})})]})},yw=["title","titleId"];function vw(e,t){let{title:n,titleId:r}=e,i=bb(e,yw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const bw=s.forwardRef(vw),ww=["title","titleId"];function xw(e,t){let{title:n,titleId:r}=e,i=bb(e,ww);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const _w=s.forwardRef(xw),Ew=["title","titleId"];function kw(e,t){let{title:n,titleId:r}=e,i=bb(e,Ew);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const Nw=s.forwardRef(kw),Sw=()=>{var e;const{currentUser:t,userProfile:n}=gb(),[r,i]=(0,s.useState)({totalWagers:0,winRate:0,totalEarnings:0,activeWagers:0,completedWagers:0,rank:"Unranked"}),[a,o]=(0,s.useState)(!0),l=async()=>{if(t)try{o(!0);const e=Qm(lm(hb,"challenges"),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(e=>sg("or",e)),Jm._create("or",t)}($m("createdBy","==",t.uid),$m("acceptedBy","==",t.uid))),n=(await gg(e)).docs.map(e=>Ue({id:e.id},e.data())),r=n.length,s=n.filter(e=>["open","pending_proof","disputed"].includes(e.status)).length,a=n.filter(e=>["won","lost","completed"].includes(e.status)).length,l=n.filter(e=>("completed"===e.status||"won"===e.status)&&(e.createdBy===t.uid&&e.winner===e.createdBy||e.acceptedBy===t.uid&&e.winner===e.acceptedBy)),c=a>0?l.length/a*100:0,u=l.reduce((e,t)=>e+(t.wagerAmount||0),0);let d="Unranked";u>=500?d="Gold":u>=200?d="Silver":u>=50&&(d="Bronze"),i({totalWagers:r,winRate:Math.round(10*c)/10,totalEarnings:u,activeWagers:s,completedWagers:a,rank:d})}catch(e){console.error("Error fetching user stats:",e)}finally{o(!1)}};(0,s.useEffect)(()=>{l()},[t]);const c=[{id:1,type:"wager_won",title:"Push-up Challenge Won",amount:"+$25.00",time:"2 hours ago",icon:$b,color:"text-green-500"},{id:2,type:"wager_created",title:"Running Challenge Created",amount:"-$15.00",time:"1 day ago",icon:bw,color:"text-blue-500"},{id:3,type:"wager_joined",title:"Meditation Challenge Joined",amount:"-$10.00",time:"2 days ago",icon:nw,color:"text-purple-500"}];return t?(0,pb.jsxs)("div",{children:[(0,pb.jsx)("div",{className:"bg-gray-800 shadow-sm border-b border-gray-700 mb-8",children:(0,pb.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsxs)("div",{children:[(0,pb.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center space-x-3",children:["Welcome back, ",(null===n||void 0===n?void 0:n.displayName)||(null===(e=t.email)||void 0===e?void 0:e.split("@")[0]),(0,pb.jsx)(vb,{size:"sm"})]}),(0,pb.jsx)("p",{className:"text-gray-300 mt-1",children:"Ready to take on some challenges?"})]}),(0,pb.jsx)(Eb,{className:"bg-gray-700 px-4 py-2 rounded-lg"})]})})}),(0,pb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,pb.jsx)(gw,{}),(0,pb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,pb.jsx)("div",{className:"bg-gray-800 rounded-lg shadow p-6 border border-gray-700",children:(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsxs)("div",{children:[(0,pb.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Total Wagers"}),(0,pb.jsx)("p",{className:"text-2xl font-bold text-white",children:a?"...":r.totalWagers})]}),(0,pb.jsx)(_w,{className:"h-8 w-8 text-blue-500"})]})}),(0,pb.jsx)("div",{className:"bg-gray-800 rounded-lg shadow p-6 border border-gray-700",children:(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsxs)("div",{children:[(0,pb.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Win Rate"}),(0,pb.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[a?"...":r.winRate,"%"]})]}),(0,pb.jsx)($b,{className:"h-8 w-8 text-yellow-500"})]})}),(0,pb.jsx)("div",{className:"bg-gray-800 rounded-lg shadow p-6 border border-gray-700",children:(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsxs)("div",{children:[(0,pb.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Total Earnings"}),(0,pb.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[a?"...":r.totalEarnings," SIM"]}),(0,pb.jsx)("p",{className:"text-xs text-gray-500",children:"(FAKE CURRENCY)"})]}),(0,pb.jsx)(_b,{className:"h-8 w-8 text-green-500"})]})}),(0,pb.jsx)("div",{className:"bg-gray-800 rounded-lg shadow p-6 border border-gray-700",children:(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsxs)("div",{children:[(0,pb.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Current Rank"}),(0,pb.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:a?"...":r.rank})]}),(0,pb.jsx)(Nw,{className:"h-8 w-8 text-orange-500"})]})})]}),(0,pb.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,pb.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow border border-gray-700",children:[(0,pb.jsx)("div",{className:"p-6 border-b border-gray-600",children:(0,pb.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Quick Actions"})}),(0,pb.jsx)("div",{className:"p-6",children:(0,pb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,pb.jsxs)(je,{to:"/wagers",className:"flex flex-col items-center p-4 border border-gray-600 rounded-lg hover:border-orange-300 transition-colors",children:[(0,pb.jsx)(_w,{className:"h-8 w-8 text-blue-500 mb-2"}),(0,pb.jsx)("span",{className:"text-sm font-medium text-white",children:"My Wagers"}),(0,pb.jsxs)("span",{className:"text-xs text-gray-500",children:[a?"...":r.activeWagers," active"]})]}),(0,pb.jsxs)(je,{to:"/create-challenge",className:"flex flex-col items-center p-4 border border-gray-600 rounded-lg hover:border-orange-300 transition-colors",children:[(0,pb.jsx)(bw,{className:"h-8 w-8 text-green-500 mb-2"}),(0,pb.jsx)("span",{className:"text-sm font-medium text-white",children:"Create Wager"}),(0,pb.jsx)("span",{className:"text-xs text-gray-500",children:"Start earning"})]}),(0,pb.jsxs)(je,{to:"/wagering",className:"flex flex-col items-center p-4 border border-gray-600 rounded-lg hover:border-orange-300 transition-colors",children:[(0,pb.jsx)(Ub,{className:"h-8 w-8 text-purple-500 mb-2"}),(0,pb.jsx)("span",{className:"text-sm font-medium text-white",children:"View Challenges"}),(0,pb.jsx)("span",{className:"text-xs text-gray-500",children:"Browse wagers"})]}),(0,pb.jsxs)(je,{to:"/profile",className:"flex flex-col items-center p-4 border border-gray-600 rounded-lg hover:border-orange-300 transition-colors",children:[(0,pb.jsx)(nw,{className:"h-8 w-8 text-orange-500 mb-2"}),(0,pb.jsx)("span",{className:"text-sm font-medium text-white",children:"Profile"}),(0,pb.jsx)("span",{className:"text-xs text-gray-500",children:"View progress"})]})]})})]}),(0,pb.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow border border-gray-700",children:[(0,pb.jsx)("div",{className:"p-6 border-b border-gray-600",children:(0,pb.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Recent Activity"})}),(0,pb.jsxs)("div",{className:"p-6",children:[(0,pb.jsx)("div",{className:"space-y-4",children:c.map(e=>{const t=e.icon;return(0,pb.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,pb.jsx)("div",{className:"p-2 rounded-full bg-gray-700",children:(0,pb.jsx)(t,{className:"h-4 w-4 ".concat(e.color)})}),(0,pb.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,pb.jsx)("p",{className:"text-sm font-medium text-white",children:e.title}),(0,pb.jsxs)("p",{className:"text-xs text-gray-500 flex items-center",children:[(0,pb.jsx)(mw,{className:"h-3 w-3 mr-1"}),e.time]})]}),(0,pb.jsxs)("div",{className:"text-sm font-semibold",children:[(0,pb.jsx)("span",{className:e.amount.startsWith("+")?"text-green-600":"text-red-600",children:e.amount}),(0,pb.jsx)("div",{className:"text-xs text-gray-500",children:"(FAKE)"})]})]},e.id)})}),(0,pb.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-600",children:(0,pb.jsx)(je,{to:"/wagers",className:"text-sm text-orange-600 hover:text-orange-500 font-medium",children:"View all activity \u2192"})})]})]})]}),(0,pb.jsxs)("div",{className:"bg-orange-900 bg-opacity-30 border border-orange-600 rounded-lg p-6",children:[(0,pb.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,pb.jsx)(vb,{size:"sm"}),(0,pb.jsx)("h3",{className:"text-lg font-semibold text-orange-300",children:"Beta Testing Mode"})]}),(0,pb.jsx)("p",{className:"text-sm text-orange-200",children:"You're using SkillWagers Beta with fake currency for testing purposes. All wagers, earnings, and statistics are simulated. Help us improve by reporting any issues you encounter!"})]})]})]}):null},Tw=()=>{const{currentUser:e}=gb();return e?(0,pb.jsx)("div",{className:"min-h-screen bg-gray-900",children:(0,pb.jsx)(Sw,{})}):(0,pb.jsx)("div",{className:"min-h-screen bg-gray-900 flex flex-col justify-center items-center",children:(0,pb.jsxs)("div",{className:"max-w-md w-full bg-gray-800 rounded-lg shadow-md p-6 text-center border border-gray-700",children:[(0,pb.jsxs)("div",{className:"flex justify-center items-center space-x-2 mb-4",children:[(0,pb.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:(0,pb.jsx)("span",{className:"text-white font-bold text-sm",children:"S"})}),(0,pb.jsx)("span",{className:"text-xl font-bold text-white",children:"SkillWagers"}),(0,pb.jsx)(vb,{size:"xs"})]}),(0,pb.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Welcome to SkillWagers Beta"}),(0,pb.jsx)("p",{className:"text-gray-400 mb-4",children:"Please sign in to access your dashboard and start wagering with fake currency."}),(0,pb.jsxs)("div",{className:"space-y-2",children:[(0,pb.jsx)(je,{to:"/auth",className:"block w-full bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700",children:"Sign In"}),(0,pb.jsx)(je,{to:"/auth",className:"block w-full border border-orange-600 text-orange-600 px-4 py-2 rounded-md hover:bg-orange-900 hover:bg-opacity-20",children:"Join Beta"})]})]})})};function Cw(){return(0,pb.jsx)("div",{className:"min-h-screen bg-gray-900",children:(0,pb.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,pb.jsxs)("div",{className:"text-center py-12",children:[(0,pb.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:"My Challenges"}),(0,pb.jsx)("p",{className:"text-gray-400 mb-8",children:"Coming soon! For now, browse and create challenges from other pages."}),(0,pb.jsxs)(je,{to:"/create-challenge",className:"inline-flex items-center px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-lg transition-colors",children:[(0,pb.jsx)(bw,{className:"h-4 w-4 mr-2"}),"Create Challenge"]})]})})})}const Iw=["title","titleId"];function jw(e,t){let{title:n,titleId:r}=e,i=bb(e,Iw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Aw=s.forwardRef(jw),Rw=()=>{const{currentUser:e}=gb(),[t,n]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[a,o]=(0,s.useState)({category:"all",skillLevel:"all",wagerRange:"all"}),[l,c]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{try{i(!0);let e=Qm(lm(hb,"challenges"),$m("status","==","open"),Zm("createdAt","desc"),tg(20));const t=(await gg(e)).docs.map(e=>{var t;return Ue(Ue({id:e.id},e.data()),{},{createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date})});n(t)}catch(e){console.error("Error fetching challenges:",e)}finally{i(!1)}})()},[a]);const u=e=>{const t={beginner:"bg-green-900 bg-opacity-30 text-green-300 border border-green-600",intermediate:"bg-yellow-900 bg-opacity-30 text-yellow-300 border border-yellow-600",advanced:"bg-red-900 bg-opacity-30 text-red-300 border border-red-600"};return"".concat(t[e]||t.beginner," px-2 py-1 rounded-full text-xs font-medium")},d=t.filter(e=>{var t,n;const r=(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(l.toLowerCase())),i="all"===a.category||e.category===a.category,s="all"===a.skillLevel||e.skillLevel===a.skillLevel;let o=!0;if("all"!==a.wagerRange){const t=e.wagerAmount||0;switch(a.wagerRange){case"low":o=t<=10;break;case"medium":o=t>10&&t<=50;break;case"high":o=t>50;break;default:o=!0}}return r&&i&&s&&o});return(0,pb.jsx)("main",{className:"min-h-screen bg-gray-900 py-8",children:(0,pb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,pb.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,pb.jsxs)("div",{children:[(0,pb.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Available Challenges"}),(0,pb.jsx)("p",{className:"text-gray-400",children:"Browse and join skill-based challenges. Test your abilities and compete with others!"})]}),e&&(0,pb.jsxs)(je,{to:"/create-challenge",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[(0,pb.jsx)(bw,{className:"h-4 w-4 mr-2"}),"Create Challenge"]})]}),(0,pb.jsx)("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 mb-8",children:(0,pb.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,pb.jsx)("div",{className:"flex-1",children:(0,pb.jsxs)("div",{className:"relative",children:[(0,pb.jsx)(Aw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,pb.jsx)("input",{type:"text",placeholder:"Search challenges...",value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})}),(0,pb.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,pb.jsxs)("select",{value:a.category,onChange:e=>o(t=>Ue(Ue({},t),{},{category:e.target.value})),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[(0,pb.jsx)("option",{value:"all",children:"All Categories"}),(0,pb.jsx)("option",{value:"gaming",children:"Gaming"}),(0,pb.jsx)("option",{value:"trivia",children:"Trivia"}),(0,pb.jsx)("option",{value:"sports",children:"Sports Knowledge"}),(0,pb.jsx)("option",{value:"puzzle",children:"Puzzle Solving"}),(0,pb.jsx)("option",{value:"creative",children:"Creative"})]}),(0,pb.jsxs)("select",{value:a.skillLevel,onChange:e=>o(t=>Ue(Ue({},t),{},{skillLevel:e.target.value})),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[(0,pb.jsx)("option",{value:"all",children:"All Skill Levels"}),(0,pb.jsx)("option",{value:"beginner",children:"Beginner"}),(0,pb.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,pb.jsx)("option",{value:"advanced",children:"Advanced"})]}),(0,pb.jsxs)("select",{value:a.wagerRange,onChange:e=>o(t=>Ue(Ue({},t),{},{wagerRange:e.target.value})),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[(0,pb.jsx)("option",{value:"all",children:"All Wager Amounts"}),(0,pb.jsx)("option",{value:"low",children:"1-10 SIM"}),(0,pb.jsx)("option",{value:"medium",children:"11-50 SIM"}),(0,pb.jsx)("option",{value:"high",children:"50+ SIM"})]})]})]})}),(0,pb.jsx)("div",{className:"space-y-6",children:r?(0,pb.jsxs)("div",{className:"text-center py-12",children:[(0,pb.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto"}),(0,pb.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading challenges..."})]}):0===d.length?(0,pb.jsxs)("div",{className:"text-center py-12",children:[(0,pb.jsx)($b,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,pb.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No challenges found"}),(0,pb.jsx)("p",{className:"text-gray-400 mb-6",children:l||"all"!==a.category||"all"!==a.skillLevel||"all"!==a.wagerRange?"Try adjusting your search or filters.":"No challenges are currently available. Check back later!"}),(0,pb.jsx)(je,{to:"/create-challenge",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Create the First Challenge"})]}):(0,pb.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:d.map(e=>{return(0,pb.jsxs)(je,{to:"/challenge/".concat(e.id),className:"bg-gray-800 rounded-xl border border-gray-700 p-6 hover:bg-gray-750 transition-colors duration-200",children:[(0,pb.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,pb.jsxs)("div",{className:"flex-1",children:[(0,pb.jsx)("h3",{className:"text-lg font-semibold text-white mb-2 line-clamp-2",children:e.title}),(0,pb.jsx)("p",{className:"text-gray-400 text-sm line-clamp-3 mb-3",children:e.description})]})}),(0,pb.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,pb.jsx)("span",{className:u(e.skillLevel),children:e.skillLevel||"Beginner"}),(0,pb.jsxs)("div",{className:"flex items-center text-orange-500 font-semibold",children:[(0,pb.jsx)(_b,{className:"h-4 w-4 mr-1"}),(n=e.wagerAmount||0,"".concat(n," SIM"))]})]}),(0,pb.jsxs)("div",{className:"text-xs text-gray-500 flex items-center",children:[(0,pb.jsx)(mw,{className:"h-3 w-3 mr-1"}),(0,pb.jsxs)("span",{children:["Created ",(t=e.createdAt,t?new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.ceil((t-new Date)/864e5),"day"):"Unknown")]})]})]},e.id);var t,n})})}),(0,pb.jsxs)("div",{className:"bg-orange-900 bg-opacity-30 border border-orange-600 rounded-xl p-6 mt-8",children:[(0,pb.jsx)("h3",{className:"text-lg font-semibold text-orange-300 mb-2",children:"Beta Testing Notice"}),(0,pb.jsx)("p",{className:"text-orange-200",children:"All challenges in this beta use fake SIM currency. You start with 100 SIM in test funds to experiment with the platform. No real money transactions occur during beta testing."})]})]})})},Ow=["title","titleId"];function Pw(e,t){let{title:n,titleId:r}=e,i=bb(e,Ow);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Dw=s.forwardRef(Pw),Lw=e=>{let{message:t,position:n="top"}=e;const[r,i]=(0,s.useState)(!1);if(!t)return null;return(0,pb.jsxs)("div",{className:"relative inline-flex",children:[(0,pb.jsx)(Dw,{className:"w-5 h-5 text-red-500 cursor-help",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)}),r&&(0,pb.jsxs)("div",{className:"absolute z-50 px-3 py-2 text-sm text-white bg-red-600 rounded-lg shadow-lg whitespace-nowrap ".concat({top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2"}[n]),children:[t,(0,pb.jsx)("div",{className:"absolute w-2 h-2 bg-red-600 transform rotate-45 -translate-x-1/2 left-1/2 top-full"})]})]})},Mw=["label","name","error"],Uw=e=>{let{label:t="Password",name:n,error:r=""}=e,i=bb(e,Mw);const[a,o]=(0,s.useState)(!1);return(0,pb.jsxs)("div",{className:"w-full",children:[(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:n,style:{color:"white"},children:t}),r&&(0,pb.jsx)(Lw,{message:r})]}),(0,pb.jsxs)("div",{className:"relative",children:[(0,pb.jsx)("input",Ue({id:n,name:n,type:a?"text":"password",style:{backgroundColor:"white",color:"black",border:r?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 48px 12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=r?"#ef4444":"#f59e0b",e.target.style.boxShadow=r?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=r?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"},autoComplete:"current-password"},i)),(0,pb.jsx)("button",{type:"button",onClick:()=>o(!a),style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",padding:"8px",border:"none",background:"transparent",color:"#6b7280",cursor:"pointer",outline:"none"},onMouseEnter:e=>{e.target.style.color="#374151"},onMouseLeave:e=>{e.target.style.color="#6b7280"},"aria-label":a?"Hide password":"Show password",children:a?(0,pb.jsxs)("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,pb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,pb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):(0,pb.jsx)("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,pb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L12 12m0 0l3.122 3.122M12 12l-3.122-3.122"})})})]})]})},Fw=["title","titleId"];function Vw(e,t){let{title:n,titleId:r}=e,i=bb(e,Fw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Bw=s.forwardRef(Vw),zw=()=>{var e,t;const[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)({email:"",password:""}),[o,l]=(0,s.useState)({}),{login:c,googleSignIn:u,currentUser:d}=gb(),h=re(),f=(null===(e=te().state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";(0,s.useEffect)(()=>{d&&h(f,{replace:!0})},[d,h,f]);const p=e=>{const{name:t,value:n}=e.target;a(e=>Ue(Ue({},e),{},{[t]:n})),o[t]&&l(e=>Ue(Ue({},e),{},{[t]:""})),"email"===t&&n&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)&&l(e=>Ue(Ue({},e),{},{email:"Please enter a valid email address"}))};return(0,pb.jsxs)("div",{className:"min-h-screen bg-dark-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,pb.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,pb.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,pb.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:(0,pb.jsx)("span",{className:"font-bold",style:{color:"white"},children:"S"})}),(0,pb.jsx)("h1",{className:"text-2xl font-bold",style:{color:"white"},children:"SkillWagers"}),(0,pb.jsx)(vb,{size:"sm"})]}),(0,pb.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold",style:{color:"white"},children:"Welcome back"}),(0,pb.jsx)("p",{className:"mt-2 text-center text-sm text-gray-400",children:"Sign in to your Beta account"})]}),(0,pb.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,pb.jsxs)("div",{className:"bg-dark-800 py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-700",children:[(0,pb.jsx)("div",{className:"mb-6",children:(0,pb.jsxs)("button",{type:"button",onClick:async()=>{r(!0);try{await u(),h(f,{replace:!0})}catch(e){console.error("Google sign in error:",e),l({password:"Google sign in failed. Please try again."})}finally{r(!1)}},disabled:n,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-dark-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50",children:[(0,pb.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,pb.jsx)("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,pb.jsx)("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,pb.jsx)("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,pb.jsx)("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),(0,pb.jsxs)("div",{className:"relative",children:[(0,pb.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,pb.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,pb.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,pb.jsx)("span",{className:"px-2 bg-dark-800",style:{color:"white"},children:"Or sign in with email"})})]}),(0,pb.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(e.email="Please enter a valid email address"):e.email="Email address is required",i.password||(e.password="Password is required"),l(e),0===Object.keys(e).length})()){r(!0);try{await c(i.email,i.password),h(f,{replace:!0})}catch(t){console.error("Login error:",t),"auth/user-not-found"===t.code?l({email:"No account found with this email address"}):"auth/wrong-password"===t.code?l({password:"Incorrect password"}):"auth/invalid-email"===t.code?l({email:"Invalid email address"}):"auth/user-disabled"===t.code?l({email:"This account has been disabled"}):"auth/too-many-requests"===t.code?l({password:"Too many failed attempts. Please try again later"}):l({password:t.message||"Login failed"})}finally{r(!1)}}},children:[(0,pb.jsxs)("div",{children:[(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"white"},children:"Email address"}),o.email&&(0,pb.jsx)(Lw,{message:o.email})]}),(0,pb.jsx)("div",{className:"mt-1",children:(0,pb.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i.email,onChange:p,style:{backgroundColor:"white",color:"black",border:o.email?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=o.email?"#ef4444":"#f59e0b",e.target.style.boxShadow=o.email?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=o.email?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"},placeholder:"Enter your email"})})]}),(0,pb.jsx)(Uw,{name:"password",label:"Password",required:!0,value:i.password,onChange:p,error:o.password,placeholder:"Enter your password"}),(0,pb.jsx)("div",{className:"flex items-center justify-between",children:(0,pb.jsx)("div",{className:"text-sm",children:(0,pb.jsx)("button",{type:"button",className:"font-medium text-orange-600 hover:text-orange-500 underline bg-transparent border-none cursor-pointer",onClick:()=>console.log("Open Forgot Password"),children:"Forgot your password?"})})}),(0,pb.jsx)("div",{children:(0,pb.jsxs)("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50",style:{color:"white"},children:[(0,pb.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,pb.jsx)(Bw,{className:"h-5 w-5 text-orange-500 group-hover:text-orange-400"})}),n?"Signing in...":"Sign in"]})})]}),(0,pb.jsx)("div",{className:"mt-6",children:(0,pb.jsxs)("div",{className:"relative",children:[(0,pb.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,pb.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,pb.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,pb.jsxs)("span",{className:"px-2 bg-dark-800",style:{color:"white"},children:["Don't have an account?"," ",(0,pb.jsx)(je,{to:"/signup",className:"font-medium text-orange-600 hover:text-orange-500",children:"Sign up for Beta"})]})})]})})]})})]})},qw=["title","titleId"];function Ww(e,t){let{title:n,titleId:r}=e,i=bb(e,qw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Hw=s.forwardRef(Ww),Kw=["title","titleId"];function Gw(e,t){let{title:n,titleId:r}=e,i=bb(e,Kw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Qw=s.forwardRef(Gw),Yw=["title","titleId"];function $w(e,t){let{title:n,titleId:r}=e,i=bb(e,Yw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const Jw=s.forwardRef($w),Xw=()=>{const[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)({email:"",password:"",confirmPassword:"",displayName:"",dateOfBirth:"",agreeToTerms:!1}),[c,u]=(0,s.useState)({}),{register:d,googleSignIn:h,currentUser:f}=gb(),p=re();(0,s.useEffect)(()=>{f&&p("/",{replace:!0})},[f,p]);const m=e=>{const{name:t,value:n,type:r,checked:i}=e.target,s="checkbox"===r?i:n;l(e=>Ue(Ue({},e),{},{[t]:s})),c[t]&&u(e=>Ue(Ue({},e),{},{[t]:""})),g(t,s)},g=(e,t)=>{let n="";switch(e){case"email":t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&(n="Please enter a valid email address");break;case"password":t&&t.length<6&&(n="Password must be at least 6 characters");break;case"confirmPassword":t&&t!==o.password&&(n="Passwords do not match");break;case"dateOfBirth":if(t){const e=new Date(t),r=new Date,i=e.getFullYear();if(i<1930)n="Please enter a valid birth year";else if(e>r)n="Birth date cannot be in the future";else{r.getFullYear()-i-(r.getMonth()<e.getMonth()||r.getMonth()===e.getMonth()&&r.getDate()<e.getDate()?1:0)<18&&(n="You must be 18 or older to register")}}break;case"displayName":t&&t.length<2&&(n="Display name must be at least 2 characters")}n&&u(t=>Ue(Ue({},t),{},{[e]:n}))};return(0,pb.jsxs)("div",{className:"min-h-screen bg-dark-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,pb.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,pb.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,pb.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:(0,pb.jsx)("span",{className:"font-bold",style:{color:"white"},children:"S"})}),(0,pb.jsx)("h1",{className:"text-2xl font-bold",style:{color:"white"},children:"SkillWagers"}),(0,pb.jsx)(vb,{size:"sm"})]}),(0,pb.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold",style:{color:"white"},children:"Create your account"}),(0,pb.jsx)("p",{className:"mt-2 text-center text-sm",style:{color:"white"},children:"Join the Beta and start with $100 fake currency"})]}),(0,pb.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,pb.jsxs)("div",{className:"bg-dark-800 py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-700",children:[(0,pb.jsx)("div",{className:"mb-6",children:(0,pb.jsxs)("button",{type:"button",onClick:async()=>{t(!0);try{await h(),p("/")}catch(e){console.error("Google sign up error:",e),u({password:"Google sign up failed. Please try again."})}finally{t(!1)}},disabled:e,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-600 rounded-md shadow-sm text-sm font-medium bg-dark-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50",style:{color:"white"},children:[(0,pb.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,pb.jsx)("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,pb.jsx)("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,pb.jsx)("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,pb.jsx)("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]})}),(0,pb.jsxs)("div",{className:"relative",children:[(0,pb.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,pb.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,pb.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,pb.jsx)("span",{className:"px-2 bg-dark-800",style:{color:"white"},children:"Or sign up with email"})})]}),(0,pb.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};if(o.displayName.trim()?o.displayName.length<2&&(e.displayName="Display name must be at least 2 characters"):e.displayName="Display name is required",o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(e.email="Please enter a valid email address"):e.email="Email address is required",o.password?o.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",o.confirmPassword?o.password!==o.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",o.dateOfBirth){const t=new Date(o.dateOfBirth),n=new Date,r=n.getFullYear(),i=t.getFullYear();i<1930?e.dateOfBirth="Please enter a valid birth year":i>r?e.dateOfBirth="Birth year cannot be in the future":t>n?e.dateOfBirth="Birth date cannot be in the future":r-i-(n.getMonth()<t.getMonth()||n.getMonth()===t.getMonth()&&n.getDate()<t.getDate()?1:0)<18&&(e.dateOfBirth="You must be 18 or older to register")}else e.dateOfBirth="Date of birth is required";return o.agreeToTerms||(e.agreeToTerms="You must agree to the terms and conditions"),u(e),0===Object.keys(e).length})()){t(!0);try{await d(o.email,o.password,o.displayName,o.dateOfBirth),p("/")}catch(n){console.error("Registration error:",n),"auth/email-already-in-use"===n.code?u({email:"This email address is already in use"}):"auth/weak-password"===n.code?u({password:"Password is too weak. Please choose a stronger password"}):"auth/invalid-email"===n.code?u({email:"Invalid email address format"}):u({password:n.message||"Registration failed. Please try again"})}finally{t(!1)}}},children:[(0,pb.jsxs)("div",{children:[(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium",style:{color:"white"},children:"Display Name *"}),c.displayName&&(0,pb.jsx)(Lw,{message:c.displayName})]}),(0,pb.jsx)("div",{className:"mt-1",children:(0,pb.jsx)("input",{id:"displayName",name:"displayName",type:"text",required:!0,value:o.displayName,onChange:m,style:{backgroundColor:"white",color:"black",border:c.displayName?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=c.displayName?"#ef4444":"#f59e0b",e.target.style.boxShadow=c.displayName?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=c.displayName?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"},placeholder:"Your display name"})})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"white"},children:"Email address *"}),c.email&&(0,pb.jsx)(Lw,{message:c.email})]}),(0,pb.jsx)("div",{className:"mt-1",children:(0,pb.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:m,style:{backgroundColor:"white",color:"black",border:c.email?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=c.email?"#ef4444":"#f59e0b",e.target.style.boxShadow=c.email?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=c.email?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"},placeholder:"Enter your email"})})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsx)("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium",style:{color:"white"},children:"Date of Birth * (18+ required)"}),c.dateOfBirth&&(0,pb.jsx)(Lw,{message:c.dateOfBirth})]}),(0,pb.jsx)("div",{className:"mt-1",children:(0,pb.jsx)("input",{id:"dateOfBirth",name:"dateOfBirth",type:"date",required:!0,min:"1930-01-01",max:(new Date).toISOString().split("T")[0],value:o.dateOfBirth,onChange:m,style:{backgroundColor:"white",color:"black",border:c.dateOfBirth?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=c.dateOfBirth?"#ef4444":"#f59e0b",e.target.style.boxShadow=c.dateOfBirth?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=c.dateOfBirth?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"}})})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium",style:{color:"white"},children:"Password *"}),c.password&&(0,pb.jsx)(Lw,{message:c.password})]}),(0,pb.jsxs)("div",{className:"mt-1 relative",children:[(0,pb.jsx)("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",required:!0,value:o.password,onChange:m,style:{backgroundColor:"white",color:"black",border:c.password?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 48px 12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=c.password?"#ef4444":"#f59e0b",e.target.style.boxShadow=c.password?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=c.password?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"},placeholder:"Create a password (6+ characters)"}),(0,pb.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!n),children:n?(0,pb.jsx)(Hw,{className:"h-5 w-5 text-gray-400 hover:text-gray-200"}):(0,pb.jsx)(Qw,{className:"h-5 w-5 text-gray-400 hover:text-gray-200"})})]})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium",style:{color:"white"},children:"Confirm Password *"}),c.confirmPassword&&(0,pb.jsx)(Lw,{message:c.confirmPassword})]}),(0,pb.jsxs)("div",{className:"mt-1 relative",children:[(0,pb.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",autoComplete:"new-password",required:!0,value:o.confirmPassword,onChange:m,style:{backgroundColor:"white",color:"black",border:c.confirmPassword?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 48px 12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=c.confirmPassword?"#ef4444":"#f59e0b",e.target.style.boxShadow=c.confirmPassword?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=c.confirmPassword?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"},placeholder:"Confirm your password"}),(0,pb.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!i),children:i?(0,pb.jsx)(Hw,{className:"h-5 w-5 text-gray-400 hover:text-gray-200"}):(0,pb.jsx)(Qw,{className:"h-5 w-5 text-gray-400 hover:text-gray-200"})})]})]}),(0,pb.jsx)("div",{children:(0,pb.jsxs)("div",{className:"flex items-center",children:[(0,pb.jsx)("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",required:!0,checked:o.agreeToTerms,onChange:m,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border rounded bg-dark-700 ".concat(c.agreeToTerms?"border-red-500":"border-gray-600")}),(0,pb.jsxs)("label",{htmlFor:"agreeToTerms",className:"ml-2 block text-sm",style:{color:"white"},children:["I agree to the"," ",(0,pb.jsx)("button",{type:"button",className:"text-orange-600 hover:text-orange-500 underline bg-transparent border-none cursor-pointer",onClick:()=>console.log("Open Terms and Conditions"),children:"Terms and Conditions"})," ","and"," ",(0,pb.jsx)("button",{type:"button",className:"text-orange-600 hover:text-orange-500 underline bg-transparent border-none cursor-pointer",onClick:()=>console.log("Open Privacy Policy"),children:"Privacy Policy"})]}),c.agreeToTerms&&(0,pb.jsx)(Lw,{message:c.agreeToTerms})]})}),(0,pb.jsx)("div",{children:(0,pb.jsxs)("button",{type:"submit",disabled:e,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50",style:{color:"white"},children:[(0,pb.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,pb.jsx)(Jw,{className:"h-5 w-5 text-orange-500 group-hover:text-orange-400"})}),e?"Creating account...":"Create account"]})})]}),(0,pb.jsx)("div",{className:"mt-6",children:(0,pb.jsxs)("div",{className:"relative",children:[(0,pb.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,pb.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,pb.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,pb.jsxs)("span",{className:"px-2 bg-dark-800",style:{color:"white"},children:["Already have an account?"," ",(0,pb.jsx)(je,{to:"/login",className:"font-medium text-orange-600 hover:text-orange-500",children:"Sign in"})]})})]})})]})})]})},Zw=()=>{var e,t;const[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)({email:"",password:"",confirmPassword:"",displayName:"",dateOfBirth:"",agreeToTerms:!1}),{login:c,register:u,currentUser:d}=gb(),h=re(),f=(null===(e=te().state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";(0,s.useEffect)(()=>{d&&h(f,{replace:!0})},[d,h,f]);const p=e=>{const{name:t,value:n,type:r,checked:i}=e.target;l(e=>Ue(Ue({},e),{},{[t]:"checkbox"===r?i:n}))};return(0,pb.jsx)("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,pb.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,pb.jsxs)("div",{className:"text-center",children:[(0,pb.jsx)("h2",{className:"text-3xl font-bold gaming-text",children:n?"Welcome Back":"Join SkillWagers"}),(0,pb.jsx)("p",{className:"mt-2 text-gray-300",children:n?"Sign in to your account to start competing":"Create your account and start earning"})]}),(0,pb.jsxs)("div",{className:"card-gradient",children:[(0,pb.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{if(e.preventDefault(),(()=>{if(!o.email||!o.password)return Zt.error("Email and password are required"),!1;if(!n){if(!o.displayName)return Zt.error("Display name is required"),!1;if(o.password!==o.confirmPassword)return Zt.error("Passwords do not match"),!1;if(o.password.length<6)return Zt.error("Password must be at least 6 characters"),!1;if(!o.dateOfBirth)return Zt.error("Date of birth is required"),!1;const e=new Date(o.dateOfBirth),t=new Date;let n=t.getFullYear()-e.getFullYear();const r=t.getMonth()-e.getMonth();if((r<0||0===r&&t.getDate()<e.getDate())&&n--,n<18)return Zt.error("You must be 18 or older to register"),!1;if(!o.agreeToTerms)return Zt.error("You must agree to the terms and conditions"),!1}return!0})()){a(!0);try{n?(await c(o.email,o.password),Zt.success("Successfully logged in!")):(await u(o.email,o.password,o.displayName,o.dateOfBirth),Zt.success("Account created successfully!")),h(f,{replace:!0})}catch(t){console.error("Auth error:",t),"auth/user-not-found"===t.code?Zt.error("No account found with this email"):"auth/wrong-password"===t.code?Zt.error("Incorrect password"):"auth/email-already-in-use"===t.code?Zt.error("Email already in use"):"auth/weak-password"===t.code?Zt.error("Password is too weak"):"auth/invalid-email"===t.code?Zt.error("Invalid email address"):Zt.error(t.message||"Authentication failed")}finally{a(!1)}}},children:[!n&&(0,pb.jsxs)("div",{children:[(0,pb.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),(0,pb.jsx)("input",{id:"displayName",name:"displayName",type:"text",required:!0,value:o.displayName,onChange:p,className:"input-field",placeholder:"Enter your display name"})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,pb.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:o.email,onChange:p,className:"input-field",placeholder:"Enter your email"})]}),(0,pb.jsx)(Uw,{name:"password",label:"Password",required:!0,value:o.password,onChange:p,className:"input-field",placeholder:"Enter your password"}),!n&&(0,pb.jsxs)(pb.Fragment,{children:[(0,pb.jsx)(Uw,{name:"confirmPassword",label:"Confirm Password",required:!0,value:o.confirmPassword,onChange:p,className:"input-field",placeholder:"Confirm your password"}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-300 mb-2",children:"Date of Birth (Must be 18+)"}),(0,pb.jsx)("input",{id:"dateOfBirth",name:"dateOfBirth",type:"date",required:!0,value:o.dateOfBirth,onChange:p,className:"input-field"})]}),(0,pb.jsxs)("div",{className:"flex items-center",children:[(0,pb.jsx)("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",required:!0,checked:o.agreeToTerms,onChange:p,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,pb.jsxs)("label",{htmlFor:"agreeToTerms",className:"ml-2 block text-sm text-gray-300",children:["I agree to the"," ",(0,pb.jsx)("button",{type:"button",className:"text-primary-400 hover:text-primary-300 underline bg-transparent border-none cursor-pointer",onClick:()=>Zt.info("Terms and Conditions page coming soon!"),children:"Terms and Conditions"})," ","and"," ",(0,pb.jsx)("button",{type:"button",className:"text-primary-400 hover:text-primary-300 underline bg-transparent border-none cursor-pointer",onClick:()=>Zt.info("Privacy Policy page coming soon!"),children:"Privacy Policy"})]})]})]}),(0,pb.jsx)("button",{type:"submit",disabled:i,className:"w-full btn-primary relative",children:i?(0,pb.jsxs)("div",{className:"flex items-center justify-center",children:[(0,pb.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),n?"Signing In...":"Creating Account..."]}):n?"Sign In":"Create Account"})]}),(0,pb.jsx)("div",{className:"mt-6 text-center",children:(0,pb.jsx)("button",{onClick:()=>r(!n),className:"text-sm text-primary-400 hover:text-primary-300",children:n?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),!n&&(0,pb.jsx)("div",{className:"bg-accent-500 bg-opacity-20 border border-accent-500 rounded-lg p-4",children:(0,pb.jsxs)("div",{className:"flex",children:[(0,pb.jsx)("div",{className:"flex-shrink-0",children:(0,pb.jsx)("svg",{className:"h-5 w-5 text-accent-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,pb.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,pb.jsxs)("div",{className:"ml-3",children:[(0,pb.jsx)("h3",{className:"text-sm font-medium text-accent-400",children:"Age Verification Required"}),(0,pb.jsx)("div",{className:"mt-2 text-sm text-accent-300",children:(0,pb.jsx)("p",{children:"You must be 18 years or older to use SkillWagers. This is required by law for real money gaming platforms."})})]})]})})]})})},ex=["title","titleId"];function tx(e,t){let{title:n,titleId:r}=e,i=bb(e,ex);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const nx=s.forwardRef(tx),rx=e=>{let{currentUser:t,userProfile:n,refreshProfile:r}=e;const[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{n&&(a(n.displayName||(null===t||void 0===t?void 0:t.displayName)||""),l(n.displayNameLocked||!1))},[n,t]);return o&&!d?(0,pb.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsxs)("div",{children:[(0,pb.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Display Name"}),(0,pb.jsx)("p",{className:"text-white",children:i}),(0,pb.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Display name can be changed once"})]}),(0,pb.jsx)("span",{className:"text-xs text-gray-500 bg-gray-700 px-2 py-1 rounded",children:"Locked"})]})}):(0,pb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,pb.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,pb.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Display Name"}),!d&&(0,pb.jsx)("button",{onClick:()=>h(!0),className:"text-orange-500 hover:text-orange-400 p-1",children:(0,pb.jsx)(nx,{className:"h-4 w-4"})})]}),d?(0,pb.jsxs)("div",{className:"space-y-3",children:[(0,pb.jsx)("input",{type:"text",value:i,onChange:e=>a(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400",placeholder:"Enter display name",maxLength:50}),(0,pb.jsx)("p",{className:"text-xs text-yellow-400",children:"\u26a0\ufe0f Display name can only be changed once"}),(0,pb.jsxs)("div",{className:"flex gap-2",children:[(0,pb.jsx)("button",{onClick:async()=>{if(i.trim()){u(!0);try{await oa(t,{displayName:i.trim()});const e=cm(hb,"users",t.uid);await vg(e,{displayName:i.trim(),displayNameLocked:!0}),await r(),l(!0),h(!1),Zt.success("Display name updated successfully")}catch(e){console.error("Error updating display name:",e),Zt.error("Failed to update display name")}finally{u(!1)}}else Zt.error("Display name cannot be empty")},disabled:c,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 disabled:opacity-50",children:c?"Saving...":"Save"}),(0,pb.jsx)("button",{onClick:()=>{h(!1),a((null===n||void 0===n?void 0:n.displayName)||(null===t||void 0===t?void 0:t.displayName)||"")},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Cancel"})]})]}):(0,pb.jsx)("p",{className:"text-white",children:i||"No display name set"})]})},ix=["title","titleId"];function sx(e,t){let{title:n,titleId:r}=e,i=bb(e,ix);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const ax=s.forwardRef(sx),ox=e=>{let{currentUser:t}=e;const[n,r]=(0,s.useState)(!1);return(0,pb.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsxs)("div",{children:[(0,pb.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Password"}),(0,pb.jsx)("p",{className:"text-white",children:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,pb.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Reset via email verification"})]}),(0,pb.jsxs)("button",{onClick:async()=>{if(null!==t&&void 0!==t&&t.email){r(!0);try{await async function(e,t,n){const r=xs(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&sa(r,i,n),await Cs(r,i,"getOobCode",Ls)}(db,t.email),Zt.success("Password reset email sent! Check your inbox.")}catch(e){console.error("Error sending password reset email:",e);let t="Failed to send password reset email";"auth/user-not-found"===e.code?t="No account found with this email address":"auth/too-many-requests"===e.code&&(t="Too many requests. Please try again later."),Zt.error(t)}finally{r(!1)}}else Zt.error("No email address found")},disabled:n,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,pb.jsx)(ax,{className:"h-4 w-4"}),n?"Sending...":"Reset Password"]})]})})},lx=["title","titleId"];function cx(e,t){let{title:n,titleId:r}=e,i=bb(e,lx);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const ux=s.forwardRef(cx),dx=e=>{let{currentUser:t,userProfile:n,refreshProfile:r}=e;const[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),c=(0,s.useRef)(null),u=async e=>{a(!0);try{const s=(n=fb,i="profilePictures/".concat(t.uid,".jpg"),Ly(n=jn(n),i)),a=await function(e,t,n){return Ry(e=jn(e),t,n)}(s,e),o=await function(e){return Oy(e=jn(e))}(a.ref);await oa(t,{photoURL:o});const l=cm(hb,"users",t.uid);await vg(l,{photoURL:o}),await r(),Zt.success("Profile picture updated successfully")}catch(s){console.error("Error uploading profile picture:",s),Zt.error("Failed to upload profile picture"),l(null)}finally{a(!1)}var n,i},d=o||(null===n||void 0===n?void 0:n.photoURL)||(null===t||void 0===t?void 0:t.photoURL);return(0,pb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,pb.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Profile Picture"}),(0,pb.jsxs)("div",{className:"flex items-center gap-4",children:[(0,pb.jsxs)("div",{className:"relative",children:[(0,pb.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-700 overflow-hidden flex items-center justify-center",children:d?(0,pb.jsx)("img",{src:d,alt:"Profile",className:"w-full h-full object-cover"}):(0,pb.jsx)(ux,{className:"h-8 w-8 text-gray-400"})}),i&&(0,pb.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-50 flex items-center justify-center",children:(0,pb.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-600"})})]}),(0,pb.jsxs)("div",{className:"flex-1",children:[(0,pb.jsx)("button",{onClick:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.click()},disabled:i,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 disabled:opacity-50 transition-colors",children:i?"Uploading...":"Change Picture"}),(0,pb.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF. Max size 5MB."})]})]}),(0,pb.jsx)("input",{ref:c,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(t.size>5242880)return void Zt.error("File size must be less than 5MB");if(!t.type.startsWith("image/"))return void Zt.error("Please select an image file");const n=new FileReader;n.onload=e=>l(e.target.result),n.readAsDataURL(t),u(t)},className:"hidden"})]})},hx=["title","titleId"];function fx(e,t){let{title:n,titleId:r}=e,i=bb(e,hx);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const px=s.forwardRef(fx),mx=()=>{const[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(!1),i=re();return(0,pb.jsxs)(pb.Fragment,{children:[(0,pb.jsxs)("button",{onClick:()=>t(!0),className:"flex items-center gap-2 bg-red-600 text-white font-bold px-8 py-3 rounded-lg hover:bg-red-700 transition-colors mx-auto",children:[(0,pb.jsx)(px,{className:"h-5 w-5"}),"Sign Out"]}),e&&(0,pb.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,pb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700",children:[(0,pb.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,pb.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Confirm Sign Out"}),(0,pb.jsx)("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-300",children:(0,pb.jsx)(Bb,{className:"h-6 w-6"})})]}),(0,pb.jsx)("p",{className:"text-gray-300 mb-6",children:"Are you sure you want to sign out? You'll need to sign in again to access your account."}),(0,pb.jsxs)("div",{className:"flex gap-3",children:[(0,pb.jsx)("button",{onClick:async()=>{r(!0);try{await ca(db),i("/"),Zt.success("Signed out successfully")}catch(e){console.error("Error signing out:",e),Zt.error("Failed to sign out")}finally{r(!1),t(!1)}},disabled:n,className:"flex-1 px-4 py-2 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:n?"Signing Out...":"Yes, Sign Out"}),(0,pb.jsx)("button",{onClick:()=>t(!1),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})})]})},gx=e=>{let{currentUser:t,userProfile:n,refreshProfile:r}=e;const[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(null!==n&&void 0!==n&&n.lastDailyClaim){const e=new Date,t=n.lastDailyClaim.toDate(),r=new Date(t.getTime()+864e5);if(e>=r)u(!0),l("");else{u(!1);const t=r-e,n=Math.floor(t/36e5),i=Math.floor(t%36e5/6e4);l("".concat(n,"h ").concat(i,"m"))}}else u(!0)},[n]);const d=(null===n||void 0===n?void 0:n.balanceCoins)||0;return(0,pb.jsxs)("div",{className:"bg-gradient-to-r from-yellow-900 via-orange-900 to-red-900 bg-opacity-30 border border-yellow-600 rounded-xl p-4",children:[(0,pb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pb.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,pb.jsx)("div",{className:"p-2 bg-yellow-500 bg-opacity-20 rounded-lg",children:(0,pb.jsx)(hw,{className:"h-6 w-6 text-yellow-400"})}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("h3",{className:"text-lg font-semibold text-yellow-300",children:"Daily Free Coins"}),(0,pb.jsxs)("p",{className:"text-sm text-yellow-200",children:["Current Balance: ",d," SIM"]})]})]}),(0,pb.jsx)("div",{className:"text-right",children:c?(0,pb.jsxs)("button",{onClick:async()=>{if(c){a(!0);try{await function(e,t,n){e=tm(e,dm);const r=Object.assign(Object.assign({},_g),n);return function(e){if(e.maxAttempts<1)throw new tl(el.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new nl;return e.asyncQueue.enqueueAndForget(async()=>{const i=await Hp(e);new Up(e.asyncQueue,i,n,t,r).au()}),r.promise}(hm(e),n=>t(new kg(e,n)),r)}(hb,async e=>{const n=cm(hb,"users",t.uid),r=await e.get(n);if(!r.exists())throw new Error("User document not found");const i=r.data(),s=new Date;if(i.lastDailyClaim){if((s-i.lastDailyClaim.toDate())/36e5<24)throw new Error("Must wait 24 hours between claims")}e.update(n,{balanceCoins:(i.balanceCoins||0)+100,lastDailyClaim:Ng()})}),await r(),u(!1),Zt.success("100 coins claimed successfully!")}catch(e){console.error("Error claiming daily coins:",e),Zt.error(e.message||"Failed to claim coins")}finally{a(!1)}}},disabled:i,className:"bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",children:[(0,pb.jsx)(hw,{className:"h-4 w-4"}),(0,pb.jsx)("span",{children:i?"Claiming...":"Claim 100 Coins"})]}):(0,pb.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-200",children:[(0,pb.jsx)(mw,{className:"h-4 w-4"}),(0,pb.jsxs)("span",{className:"text-sm",children:["Available in ",o]})]})})]}),(0,pb.jsx)("div",{className:"mt-3 pt-3 border-t border-yellow-600 border-opacity-50",children:(0,pb.jsxs)("div",{className:"flex justify-between text-xs text-yellow-200",children:[(0,pb.jsx)("span",{children:"24-hour cooldown"}),(0,pb.jsx)("span",{children:"Beta currency - no real value"})]})})]})},yx=()=>{var e;const{userProfile:t,currentUser:n,refreshProfile:r}=gb(),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)({totalChallenges:0,wins:0,losses:0,winRate:0}),[c,u]=(0,s.useState)([]),[d,h]=(0,s.useState)(!1),f=re();(0,s.useEffect)(()=>{const e=setTimeout(()=>{a(!1)},1e3);return()=>clearTimeout(e)},[n]),(0,s.useEffect)(()=>{n&&t&&(p(),m())},[n,t]);const p=async()=>{try{const e=lm(hb,"challenges"),t=Qm(e,$m("createdBy","==",n.uid)),r=Qm(e,$m("participants","array-contains",n.uid)),[i,s]=await Promise.all([gg(t),gg(r)]);let a=0,o=0,c=0;i.forEach(e=>{const t=e.data();a++,"completed"===t.status&&(t.winner===n.uid?o++:c++)}),s.forEach(e=>{const t=e.data();t.createdBy!==n.uid&&(a++,"completed"===t.status&&(t.winner===n.uid?o++:c++))});l({totalChallenges:a,wins:o,losses:c,winRate:a>0?o/a*100:0})}catch(e){console.error("Error fetching user stats:",e)}},m=async()=>{try{const e=Qm(lm(hb,"challenges"),$m("participants","array-contains",n.uid),Zm("createdAt","desc"),tg(5)),t=(await gg(e)).docs.map(e=>Ue({id:e.id},e.data()));u(t)}catch(e){console.error("Error fetching recent activity:",e)}};return i?(0,pb.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,pb.jsx)("div",{className:"text-white text-xl",children:"Loading profile..."})}):n?(0,pb.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,pb.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,pb.jsxs)("div",{className:"mb-8",children:[(0,pb.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Profile"}),(0,pb.jsx)("p",{className:"text-gray-400",children:"Manage your account and view your stats"})]}),(0,pb.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,pb.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,pb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,pb.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Profile Picture"}),(0,pb.jsx)(dx,{})]}),(0,pb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,pb.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Display Name"}),(0,pb.jsx)(rx,{})]}),(0,pb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,pb.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Daily Reward"}),(0,pb.jsx)(gx,{})]}),(0,pb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,pb.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Account"}),(0,pb.jsxs)("div",{className:"space-y-4",children:[(0,pb.jsx)(ox,{}),(0,pb.jsx)("button",{onClick:()=>h(!0),className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition duration-200",children:"Sign Out"})]})]})]}),(0,pb.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,pb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,pb.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,pb.jsxs)("div",{className:"flex items-center",children:[(0,pb.jsx)($b,{className:"h-8 w-8 text-yellow-500 mr-3"}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("p",{className:"text-sm text-gray-400",children:"Challenges"}),(0,pb.jsx)("p",{className:"text-2xl font-bold",children:o.totalChallenges})]})]})}),(0,pb.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,pb.jsxs)("div",{className:"flex items-center",children:[(0,pb.jsx)(_w,{className:"h-8 w-8 text-green-500 mr-3"}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("p",{className:"text-sm text-gray-400",children:"Wins"}),(0,pb.jsx)("p",{className:"text-2xl font-bold text-green-500",children:o.wins})]})]})}),(0,pb.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,pb.jsxs)("div",{className:"flex items-center",children:[(0,pb.jsx)(_w,{className:"h-8 w-8 text-red-500 mr-3"}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("p",{className:"text-sm text-gray-400",children:"Losses"}),(0,pb.jsx)("p",{className:"text-2xl font-bold text-red-500",children:o.losses})]})]})}),(0,pb.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,pb.jsxs)("div",{className:"flex items-center",children:[(0,pb.jsx)(Tb,{className:"h-8 w-8 text-blue-500 mr-3"}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("p",{className:"text-sm text-gray-400",children:"Win Rate"}),(0,pb.jsxs)("p",{className:"text-2xl font-bold text-blue-500",children:[o.winRate.toFixed(1),"%"]})]})]})})]}),(0,pb.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,pb.jsx)("div",{className:"flex items-center justify-between",children:(0,pb.jsxs)("div",{className:"flex items-center",children:[(0,pb.jsx)(_b,{className:"h-8 w-8 text-green-500 mr-3"}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("p",{className:"text-sm text-gray-400",children:"Current Balance"}),(0,pb.jsxs)("p",{className:"text-3xl font-bold text-green-500",children:["$",(null===t||void 0===t||null===(e=t.balance)||void 0===e?void 0:e.toLocaleString())||"0"]})]})]})})}),(0,pb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,pb.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),c.length>0?(0,pb.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,pb.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[(0,pb.jsx)("h3",{className:"font-medium",children:e.title}),(0,pb.jsxs)("p",{className:"text-sm text-gray-400",children:["Status: ",(0,pb.jsx)("span",{className:"capitalize",children:e.status})]}),(0,pb.jsxs)("p",{className:"text-sm text-gray-400",children:["Stake: $",e.stake]})]},e.id))}):(0,pb.jsx)("p",{className:"text-gray-400",children:"No recent activity"})]})]})]})]}),d&&(0,pb.jsx)(mx,{onClose:()=>h(!1)})]}):(f("/login"),null)},vx=()=>{const{currentUser:e,userProfile:t}=gb(),n=re(),[r,i]=(0,s.useState)({title:"",description:"",game:"",stakeAmount:"",rules:"",proofRequirements:"",category:"gaming"}),[a,o]=(0,s.useState)(!1),l=e=>{const{name:t,value:n}=e.target;i(e=>Ue(Ue({},e),{},{[t]:n}))};return e?(0,pb.jsx)("div",{className:"min-h-screen bg-gray-900 py-8",children:(0,pb.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,pb.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,pb.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Create Challenge"}),(0,pb.jsxs)("div",{className:"bg-blue-900 bg-opacity-30 border border-blue-600 rounded-lg p-4 mb-6",children:[(0,pb.jsxs)("h3",{className:"text-lg font-semibold text-blue-300 mb-2 flex items-center",children:[(0,pb.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,pb.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Skill-Based Challenge Policy"]}),(0,pb.jsxs)("div",{className:"text-sm text-blue-200 space-y-2",children:[(0,pb.jsxs)("p",{children:["SkillWagers only allows ",(0,pb.jsx)("strong",{children:"skill-based challenges"}),". Your challenge must:"]}),(0,pb.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[(0,pb.jsx)("li",{children:"Test a specific skill, ability, or knowledge"}),(0,pb.jsx)("li",{children:"Have clear, measurable success criteria"}),(0,pb.jsx)("li",{children:"Require practice or expertise to complete"}),(0,pb.jsx)("li",{children:"Include detailed proof requirements"})]}),(0,pb.jsxs)("p",{className:"text-xs text-blue-300 mt-2",children:[(0,pb.jsx)("strong",{children:"Prohibited:"})," Gambling, games of chance, luck-based activities, coin flips, dice rolls, or any random outcome challenges."]})]})]}),(0,pb.jsxs)("form",{onSubmit:async i=>{if(i.preventDefault(),!e)return void Zt.error("You must be logged in to create a challenge");if(null===t||void 0===t||!t.ageVerified)return void Zt.error("You must verify your age before creating challenges");const s=(()=>{const e=[],t="".concat(r.title," ").concat(r.description," ").concat(r.rules).toLowerCase(),n=["gambling","casino","luck","random","chance","lottery","dice","coin flip","roulette","slot","bet on","pure chance"].find(e=>t.includes(e));return n&&e.push('Challenge contains prohibited term "'.concat(n,'". SkillWagers only allows skill-based challenges.')),(!r.proofRequirements||r.proofRequirements.length<20)&&e.push("Proof requirements must be detailed (minimum 20 characters) to demonstrate skill was required."),(!r.rules||r.rules.length<30)&&e.push("Rules must be detailed (minimum 30 characters) to clearly define the skill being tested."),["skill","ability","performance","achieve","demonstrate","complete","master","practice","learn","improve","technique","strategy"].some(e=>t.includes(e))||e.push('Challenge should clearly demonstrate skill. Consider including words like "skill", "ability", "performance", or "demonstrate".'),e})();if(s.length>0)return void s.forEach(e=>Zt.error(e));const a=parseFloat(r.stakeAmount);if(a<=0)Zt.error("Stake amount must be greater than 0");else if(a>((null===t||void 0===t?void 0:t.betaBalance)||0))Zt.error("Insufficient balance for this stake amount");else try{o(!0);const i=Ue(Ue({},r),{},{stakeAmount:a,creatorId:e.uid,creatorName:t.displayName||e.displayName,creatorEmail:e.email,status:"open",acceptorId:null,acceptorName:null,proofSubmitted:!1,disputeRaised:!1,winner:null,createdAt:Ng(),updatedAt:Ng()}),s=await bg(lm(hb,"challenges"),i);Zt.success("Challenge created successfully!"),n("/challenge/".concat(s.id))}catch(l){console.error("Error creating challenge:",l),Zt.error("Failed to create challenge")}finally{o(!1)}},className:"space-y-6",children:[(0,pb.jsxs)("div",{children:[(0,pb.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Challenge Title"}),(0,pb.jsx)("input",{type:"text",name:"title",value:r.title,onChange:l,required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter challenge title"})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Game"}),(0,pb.jsxs)("select",{name:"game",value:r.game,onChange:l,required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,pb.jsx)("option",{value:"",children:"Select a game"}),["League of Legends","Counter-Strike 2","Valorant","Fortnite","Apex Legends","Call of Duty","Rocket League","Chess","Other"].map(e=>(0,pb.jsx)("option",{value:e,children:e},e))]})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Stake Amount (SIM)"}),(0,pb.jsx)("input",{type:"number",name:"stakeAmount",value:r.stakeAmount,onChange:l,required:!0,min:"1",step:"1",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter stake amount"}),(0,pb.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Your balance: ",(null===t||void 0===t?void 0:t.betaBalance)||0," SIM"]})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Description"}),(0,pb.jsx)("textarea",{name:"description",value:r.description,onChange:l,required:!0,rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 resize-vertical",placeholder:"Describe your challenge"})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Rules"}),(0,pb.jsx)("textarea",{name:"rules",value:r.rules,onChange:l,required:!0,rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 resize-vertical",placeholder:"Define the rules and conditions for winning"}),(0,pb.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Be specific about what skill is being tested and how success is measured. Minimum 30 characters required."})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Proof Requirements"}),(0,pb.jsx)("textarea",{name:"proofRequirements",value:r.proofRequirements,onChange:l,required:!0,rows:2,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 resize-vertical",placeholder:"What proof is required to validate the win?"}),(0,pb.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Describe what evidence is needed to verify skill demonstration. Screenshots, videos, or other documentation. Minimum 20 characters required."})]}),(0,pb.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-colors",children:a?"Creating Challenge...":"Create Challenge"})]})]})})}):(0,pb.jsx)("div",{className:"min-h-screen py-8",children:(0,pb.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,pb.jsxs)("div",{className:"card-gradient",children:[(0,pb.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-6",children:"Create Challenge"}),(0,pb.jsx)("p",{className:"text-gray-300",children:"Please log in to create a challenge."})]})})})},bx=["title","titleId"];function wx(e,t){let{title:n,titleId:r}=e,i=bb(e,bx);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const xx=s.forwardRef(wx),_x=["title","titleId"];function Ex(e,t){let{title:n,titleId:r}=e,i=bb(e,_x);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const kx=s.forwardRef(Ex),Nx=()=>{const e=[{icon:Ub,title:"Gift Card Trading",description:"Buy and sell gift cards for coins with other users",timeline:"Phase 2"},{icon:$b,title:"Verified Sellers",description:"Trusted seller badges and reputation system for safe trading",timeline:"Phase 2"},{icon:xx,title:"Trade Notifications",description:"Real-time alerts for new gift card listings and trades",timeline:"Phase 3"},{icon:kx,title:"Auto-Matching",description:"Automatic matching for gift card buyers and sellers",timeline:"Phase 3"}];return(0,pb.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,pb.jsx)("div",{className:"bg-gray-800 shadow-sm border-b border-gray-700",children:(0,pb.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,pb.jsxs)("div",{className:"text-center",children:[(0,pb.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center justify-center space-x-3",children:[(0,pb.jsx)(Ub,{className:"h-8 w-8"}),"Gift Card Marketplace",(0,pb.jsx)(vb,{size:"sm"})]}),(0,pb.jsx)("p",{className:"text-gray-300 mt-2",children:"Buy and sell gift cards for coins - Coming Soon in Beta Phase 2"})]})})}),(0,pb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,pb.jsxs)("div",{className:"text-center mb-12",children:[(0,pb.jsx)("div",{className:"mx-auto w-24 h-24 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mb-6",children:(0,pb.jsx)(mw,{className:"h-12 w-12 text-white"})}),(0,pb.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Gift Card Marketplace Coming Soon!"}),(0,pb.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:"We're building an amazing marketplace where you can buy and sell gift cards for coins with other users. Trade your gift cards safely and securely within our community!"}),(0,pb.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[(0,pb.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-600"}),(0,pb.jsx)("span",{className:"text-sm text-gray-500",children:"Currently in development..."})]})]}),(0,pb.jsxs)("div",{className:"mb-12",children:[(0,pb.jsx)("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-8",children:"Planned Gift Card Trading Features"}),(0,pb.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((e,t)=>{const n=e.icon;return(0,pb.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-sm border border-gray-700 p-6",children:(0,pb.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,pb.jsx)("div",{className:"p-3 bg-orange-900 bg-opacity-30 rounded-lg",children:(0,pb.jsx)(n,{className:"h-6 w-6 text-orange-500"})}),(0,pb.jsxs)("div",{className:"flex-1",children:[(0,pb.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,pb.jsx)("h4",{className:"text-lg font-semibold text-white",children:e.title}),(0,pb.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-900 bg-opacity-30 text-blue-300",children:e.timeline})]}),(0,pb.jsx)("p",{className:"text-gray-400",children:e.description})]})]})},t)})})]}),(0,pb.jsx)("div",{className:"bg-orange-900 bg-opacity-30 border border-orange-600 rounded-lg p-8 mb-8",children:(0,pb.jsxs)("div",{className:"text-center",children:[(0,pb.jsx)(vb,{size:"md",className:"mb-4"}),(0,pb.jsx)("h3",{className:"text-xl font-semibold text-orange-300 mb-4",children:"What You Can Do Now in Beta"}),(0,pb.jsx)("p",{className:"text-orange-200 mb-6",children:"While we're building the marketplace, you can still test core features:"}),(0,pb.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-lg mx-auto",children:[(0,pb.jsxs)(je,{to:"/create-challenge",className:"flex items-center justify-center space-x-2 bg-gray-800 border border-orange-600 rounded-lg p-4 hover:bg-gray-700 transition-colors",children:[(0,pb.jsx)(bw,{className:"h-5 w-5 text-orange-500"}),(0,pb.jsx)("span",{className:"text-orange-300 font-medium",children:"Create Challenges"})]}),(0,pb.jsxs)(je,{to:"/wagering",className:"flex items-center justify-center space-x-2 bg-gray-800 border border-orange-600 rounded-lg p-4 hover:bg-gray-700 transition-colors",children:[(0,pb.jsx)($b,{className:"h-5 w-5 text-orange-500"}),(0,pb.jsx)("span",{className:"text-orange-300 font-medium",children:"Browse Challenges"})]})]})]})}),(0,pb.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-sm border border-gray-700 p-8 text-center",children:[(0,pb.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Help Shape the Gift Card Marketplace"}),(0,pb.jsx)("p",{className:"text-gray-400 mb-6",children:"Your feedback during Beta testing helps us build the gift card trading features you actually want. Tell us what types of gift cards and trading features would be most valuable to you!"}),(0,pb.jsxs)("div",{className:"space-y-3",children:[(0,pb.jsxs)("div",{className:"text-sm text-gray-400",children:["Send feedback to: ",(0,pb.jsx)("strong",{className:"text-orange-500",children:"beta@skillwagers.com"})]}),(0,pb.jsxs)("div",{className:"text-sm text-gray-400",children:["Gift Card Trading Launch: ",(0,pb.jsx)("strong",{className:"text-orange-500",children:"Q2 2024"})]})]})]})]})]})},Sx=()=>{const{id:e}=function(){let{matches:e}=s.useContext(X),t=e[e.length-1];return t?t.params:{}}(),t=re(),{currentUser:n,userProfile:r}=gb(),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(""),[f,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{m()},[e]);const m=async()=>{try{const n=await pg(cm(hb,"challenges",e));n.exists()?a(Ue({id:n.id},n.data())):(Zt.error("Challenge not found"),t("/marketplace"))}catch(n){console.error("Error fetching challenge:",n),Zt.error("Failed to load challenge")}finally{l(!1)}},g=e=>{if(!e)return"N/A";return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};if(o)return(0,pb.jsx)("div",{className:"min-h-screen py-8",children:(0,pb.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,pb.jsx)("div",{className:"card-gradient",children:(0,pb.jsxs)("div",{className:"animate-pulse",children:[(0,pb.jsx)("div",{className:"h-8 bg-dark-600 rounded w-1/3 mb-4"}),(0,pb.jsx)("div",{className:"h-4 bg-dark-600 rounded w-2/3 mb-2"}),(0,pb.jsx)("div",{className:"h-4 bg-dark-600 rounded w-1/2"})]})})})});if(!i)return(0,pb.jsx)("div",{className:"min-h-screen py-8",children:(0,pb.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,pb.jsxs)("div",{className:"card-gradient",children:[(0,pb.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-6",children:"Challenge Not Found"}),(0,pb.jsx)("p",{className:"text-gray-300",children:"The challenge you're looking for doesn't exist."})]})})});const y=(null===n||void 0===n?void 0:n.uid)===i.creatorId,v=(null===n||void 0===n?void 0:n.uid)===i.acceptorId,b="open"===i.status&&!y&&n,w="accepted"===i.status&&v&&!i.proofSubmitted,x="accepted"===i.status&&i.proofSubmitted&&!i.disputeRaised;return(0,pb.jsxs)("div",{className:"min-h-screen py-8",children:[(0,pb.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,pb.jsxs)("div",{className:"card-gradient",children:[(0,pb.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,pb.jsxs)("div",{children:[(0,pb.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-2",children:i.title}),(0,pb.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,pb.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat((e=>{const t={open:"bg-blue-500 bg-opacity-20 text-blue-400",accepted:"bg-yellow-500 bg-opacity-20 text-yellow-400",completed:"bg-green-500 bg-opacity-20 text-green-400",disputed:"bg-red-500 bg-opacity-20 text-red-400",cancelled:"bg-gray-500 bg-opacity-20 text-gray-400"};return t[e]||t.open})(i.status)),children:i.status.charAt(0).toUpperCase()+i.status.slice(1)}),(0,pb.jsxs)("span",{className:"text-gray-400 text-sm",children:["Game: ",i.game]})]})]}),(0,pb.jsxs)("div",{className:"text-right",children:[(0,pb.jsxs)("div",{className:"flex items-center text-primary-400 mb-1",children:[(0,pb.jsx)(_b,{className:"h-5 w-5 mr-1"}),(0,pb.jsxs)("span",{className:"text-lg font-bold",children:[i.stakeAmount," SIM"]})]}),(0,pb.jsx)("p",{className:"text-xs text-gray-400",children:"Stake Amount"})]})]}),(0,pb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,pb.jsxs)("div",{children:[(0,pb.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Challenge Details"}),(0,pb.jsxs)("div",{className:"space-y-3",children:[(0,pb.jsxs)("div",{children:[(0,pb.jsx)("p",{className:"text-sm text-gray-400",children:"Description"}),(0,pb.jsx)("p",{className:"text-gray-300",children:i.description})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("p",{className:"text-sm text-gray-400",children:"Rules"}),(0,pb.jsx)("p",{className:"text-gray-300",children:i.rules})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("p",{className:"text-sm text-gray-400",children:"Proof Requirements"}),(0,pb.jsx)("p",{className:"text-gray-300",children:i.proofRequirements})]})]})]}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Participants"}),(0,pb.jsxs)("div",{className:"space-y-3",children:[(0,pb.jsxs)("div",{className:"flex items-center",children:[(0,pb.jsx)(Tb,{className:"h-5 w-5 text-primary-400 mr-2"}),(0,pb.jsxs)("div",{children:[(0,pb.jsxs)("p",{className:"text-white font-medium",children:["Creator: ",i.creatorName]}),(0,pb.jsxs)("p",{className:"text-xs text-gray-400",children:["Created ",g(i.createdAt)]})]})]}),i.acceptorName&&(0,pb.jsxs)("div",{className:"flex items-center",children:[(0,pb.jsx)($b,{className:"h-5 w-5 text-accent-400 mr-2"}),(0,pb.jsxs)("div",{children:[(0,pb.jsxs)("p",{className:"text-white font-medium",children:["Acceptor: ",i.acceptorName]}),(0,pb.jsxs)("p",{className:"text-xs text-gray-400",children:["Accepted ",g(i.acceptedAt)]})]})]})]}),i.proofSubmitted&&(0,pb.jsxs)("div",{className:"mt-4 p-3 bg-dark-700 rounded-lg",children:[(0,pb.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Proof Submitted"}),(0,pb.jsx)("p",{className:"text-gray-300 text-sm",children:i.proofText}),(0,pb.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Submitted ",g(i.proofSubmittedAt)]})]})]})]}),(0,pb.jsxs)("div",{className:"flex flex-wrap gap-3",children:[b&&(0,pb.jsx)("button",{onClick:async()=>{if(n&&r)if(r.ageVerified)if(i.stakeAmount>(r.betaBalance||0))Zt.error("Insufficient balance to accept this challenge");else try{u(!0);const t=cm(hb,"challenges",e);await vg(t,{status:"accepted",acceptorId:n.uid,acceptorName:r.displayName||n.displayName,acceptedAt:Ng(),updatedAt:Ng()});const s=cm(hb,"users",n.uid);await vg(s,{betaBalance:Sg(-i.stakeAmount)}),Zt.success("Challenge accepted! Good luck!"),m()}catch(t){console.error("Error accepting challenge:",t),Zt.error("Failed to accept challenge")}finally{u(!1)}else Zt.error("You must verify your age before accepting challenges");else Zt.error("You must be logged in to accept challenges")},disabled:c,className:"bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:c?"Accepting...":"Accept Challenge"}),w&&(0,pb.jsx)("button",{onClick:()=>p(!0),className:"bg-success-600 hover:bg-success-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Submit Proof"}),x&&(y||v)&&(0,pb.jsxs)("button",{onClick:async()=>{try{u(!0),await bg(lm(hb,"disputes"),{challengeId:e,challengeTitle:i.title,creatorId:i.creatorId,acceptorId:i.acceptorId,disputeRaisedBy:n.uid,status:"open",createdAt:Ng()});const t=cm(hb,"challenges",e);await vg(t,{status:"disputed",disputeRaised:!0,disputeRaisedAt:Ng(),updatedAt:Ng()}),Zt.success("Dispute raised successfully"),m()}catch(t){console.error("Error raising dispute:",t),Zt.error("Failed to raise dispute")}finally{u(!1)}},disabled:c,className:"bg-red-600 hover:bg-red-700 disabled:opacity-50 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center",children:[(0,pb.jsx)(Dw,{className:"h-4 w-4 mr-2"}),c?"Raising Dispute...":"Raise Dispute"]})]})]})}),f&&(0,pb.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,pb.jsxs)("div",{className:"bg-dark-800 rounded-lg max-w-md w-full p-6",children:[(0,pb.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Submit Proof"}),(0,pb.jsx)("textarea",{value:d,onChange:e=>h(e.target.value),placeholder:"Describe your proof of completion...",rows:4,className:"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 mb-4"}),(0,pb.jsxs)("div",{className:"flex space-x-3",children:[(0,pb.jsx)("button",{onClick:async()=>{if(d.trim())try{u(!0);const t=cm(hb,"challenges",e);await vg(t,{proofSubmitted:!0,proofText:d,proofSubmittedAt:Ng(),updatedAt:Ng()}),p(!1),h(""),Zt.success("Proof submitted successfully!"),m()}catch(t){console.error("Error submitting proof:",t),Zt.error("Failed to submit proof")}finally{u(!1)}else Zt.error("Please provide proof description")},disabled:c,className:"flex-1 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:c?"Submitting...":"Submit Proof"}),(0,pb.jsx)("button",{onClick:()=>p(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})})]})};function Tx(e,t){return function(){return e.apply(t,arguments)}}const{toString:Cx}=Object.prototype,{getPrototypeOf:Ix}=Object,{iterator:jx,toStringTag:Ax}=Symbol,Rx=(Ox=Object.create(null),e=>{const t=Cx.call(e);return Ox[t]||(Ox[t]=t.slice(8,-1).toLowerCase())});var Ox;const Px=e=>(e=e.toLowerCase(),t=>Rx(t)===e),Dx=e=>t=>typeof t===e,{isArray:Lx}=Array,Mx=Dx("undefined");function Ux(e){return null!==e&&!Mx(e)&&null!==e.constructor&&!Mx(e.constructor)&&Bx(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Fx=Px("ArrayBuffer");const Vx=Dx("string"),Bx=Dx("function"),zx=Dx("number"),qx=e=>null!==e&&"object"===typeof e,Wx=e=>{if("object"!==Rx(e))return!1;const t=Ix(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ax in e)&&!(jx in e)},Hx=Px("Date"),Kx=Px("File"),Gx=Px("Blob"),Qx=Px("FileList"),Yx=Px("URLSearchParams"),[$x,Jx,Xx,Zx]=["ReadableStream","Request","Response","Headers"].map(Px);function e_(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Lx(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(Ux(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let a;for(n=0;n<s;n++)a=r[n],t.call(null,e[a],a,e)}}function t_(e,t){if(Ux(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const n_="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,r_=e=>!Mx(e)&&e!==n_;const i_=(s_="undefined"!==typeof Uint8Array&&Ix(Uint8Array),e=>s_&&e instanceof s_);var s_;const a_=Px("HTMLFormElement"),o_=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),l_=Px("RegExp"),c_=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};e_(n,(n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)}),Object.defineProperties(e,r)};const u_=Px("AsyncFunction"),d_=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],n_.addEventListener("message",e=>{let{source:t,data:i}=e;t===n_&&i===n&&r.length&&r.shift()()},!1),e=>{r.push(e),n_.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Bx(n_.postMessage)),h_="undefined"!==typeof queueMicrotask?queueMicrotask.bind(n_):"undefined"!==typeof process&&process.nextTick||d_,f_={isArray:Lx,isArrayBuffer:Fx,isBuffer:Ux,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Bx(e.append)&&("formdata"===(t=Rx(e))||"object"===t&&Bx(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Fx(e.buffer),t},isString:Vx,isNumber:zx,isBoolean:e=>!0===e||!1===e,isObject:qx,isPlainObject:Wx,isEmptyObject:e=>{if(!qx(e)||Ux(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Fe){return!1}},isReadableStream:$x,isRequest:Jx,isResponse:Xx,isHeaders:Zx,isUndefined:Mx,isDate:Hx,isFile:Kx,isBlob:Gx,isRegExp:l_,isFunction:Bx,isStream:e=>qx(e)&&Bx(e.pipe),isURLSearchParams:Yx,isTypedArray:i_,isFileList:Qx,forEach:e_,merge:function e(){const{caseless:t,skipUndefined:n}=r_(this)&&this||{},r={},i=(i,s)=>{const a=t&&t_(r,s)||s;Wx(r[a])&&Wx(i)?r[a]=e(r[a],i):Wx(i)?r[a]=e({},i):Lx(i)?r[a]=i.slice():n&&Mx(i)||(r[a]=i)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&e_(arguments[s],i);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e_(t,(t,r)=>{n&&Bx(t)?e[r]=Tx(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,a;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&Ix(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Rx,kindOfTest:Px,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Lx(e))return e;let t=e.length;if(!zx(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[jx]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:a_,hasOwnProperty:o_,hasOwnProp:o_,reduceDescriptors:c_,freezeMethods:e=>{c_(e,(t,n)=>{if(Bx(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Bx(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Lx(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:t_,global:n_,isContextDefined:r_,isSpecCompliantForm:function(e){return!!(e&&Bx(e.append)&&"FormData"===e[Ax]&&e[jx])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(qx(e)){if(t.indexOf(e)>=0)return;if(Ux(e))return e;if(!("toJSON"in e)){t[r]=e;const i=Lx(e)?[]:{};return e_(e,(e,t)=>{const s=n(e,r+1);!Mx(s)&&(i[t]=s)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:u_,isThenable:e=>e&&(qx(e)||Bx(e))&&Bx(e.then)&&Bx(e.catch),setImmediate:d_,asap:h_,isIterable:e=>null!=e&&Bx(e[jx])};function p_(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}f_.inherits(p_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f_.toJSONObject(this.config),code:this.code,status:this.status}}});const m_=p_.prototype,g_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{g_[e]={value:e}}),Object.defineProperties(p_,g_),Object.defineProperty(m_,"isAxiosError",{value:!0}),p_.from=(e,t,n,r,i,s)=>{const a=Object.create(m_);f_.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return p_.call(a,o,l,n,r,i),e&&null==a.cause&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",s&&Object.assign(a,s),a};const y_=p_;function v_(e){return f_.isPlainObject(e)||f_.isArray(e)}function b_(e){return f_.endsWith(e,"[]")?e.slice(0,-2):e}function w_(e,t,n){return e?e.concat(t).map(function(e,t){return e=b_(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const x_=f_.toFlatObject(f_,{},null,function(e){return/^is[A-Z]/.test(e)});const __=function(e,t,n){if(!f_.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=f_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!f_.isUndefined(t[e])})).metaTokens,i=n.visitor||c,s=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&f_.isSpecCompliantForm(t);if(!f_.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(f_.isDate(e))return e.toISOString();if(f_.isBoolean(e))return e.toString();if(!o&&f_.isBlob(e))throw new y_("Blob is not supported. Use a Buffer instead.");return f_.isArrayBuffer(e)||f_.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(f_.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(f_.isArray(e)&&function(e){return f_.isArray(e)&&!e.some(v_)}(e)||(f_.isFileList(e)||f_.endsWith(n,"[]"))&&(o=f_.toArray(e)))return n=b_(n),o.forEach(function(e,r){!f_.isUndefined(e)&&null!==e&&t.append(!0===a?w_([n],r,s):null===a?n:n+"[]",l(e))}),!1;return!!v_(e)||(t.append(w_(i,n,s),l(e)),!1)}const u=[],d=Object.assign(x_,{defaultVisitor:c,convertValue:l,isVisitable:v_});if(!f_.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!f_.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),f_.forEach(n,function(n,s){!0===(!(f_.isUndefined(n)||null===n)&&i.call(t,n,f_.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])}),u.pop()}}(e),t};function E_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function k_(e,t){this._pairs=[],e&&__(e,this,t)}const N_=k_.prototype;N_.append=function(e,t){this._pairs.push([e,t])},N_.toString=function(e){const t=e?function(t){return e.call(this,t,E_)}:E_;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const S_=k_;function T_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function C_(e,t,n){if(!t)return e;const r=n&&n.encode||T_;f_.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):f_.isURLSearchParams(t)?t.toString():new S_(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const I_=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){f_.forEach(this.handlers,function(t){null!==t&&e(t)})}},j_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},A_={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:S_,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},R_="undefined"!==typeof window&&"undefined"!==typeof document,O_="object"===typeof navigator&&navigator||void 0,P_=R_&&(!O_||["ReactNative","NativeScript","NS"].indexOf(O_.product)<0),D_="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,L_=R_&&window.location.href||"http://localhost",M_=Ue(Ue({},r),A_);const U_=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const a=Number.isFinite(+s),o=i>=e.length;if(s=!s&&f_.isArray(r)?r.length:s,o)return f_.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!a;r[s]&&f_.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&f_.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!a}if(f_.isFormData(e)&&f_.isFunction(e.entries)){const n={};return f_.forEachEntry(e,(e,r)=>{t(function(e){return f_.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const F_={transitional:j_,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=f_.isObject(e);i&&f_.isHTMLForm(e)&&(e=new FormData(e));if(f_.isFormData(e))return r?JSON.stringify(U_(e)):e;if(f_.isArrayBuffer(e)||f_.isBuffer(e)||f_.isStream(e)||f_.isFile(e)||f_.isBlob(e)||f_.isReadableStream(e))return e;if(f_.isArrayBufferView(e))return e.buffer;if(f_.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return __(e,new M_.classes.URLSearchParams,Ue({visitor:function(e,t,n,r){return M_.isNode&&f_.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=f_.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return __(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(f_.isString(e))try{return(t||JSON.parse)(e),f_.trim(e)}catch(Fe){if("SyntaxError"!==Fe.name)throw Fe}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||F_.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(f_.isResponse(e)||f_.isReadableStream(e))return e;if(e&&f_.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(Fe){if(n){if("SyntaxError"===Fe.name)throw y_.from(Fe,y_.ERR_BAD_RESPONSE,this,null,this.response);throw Fe}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:M_.classes.FormData,Blob:M_.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f_.forEach(["delete","get","head","post","put","patch"],e=>{F_.headers[e]={}});const V_=F_,B_=f_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),z_=Symbol("internals");function q_(e){return e&&String(e).trim().toLowerCase()}function W_(e){return!1===e||null==e?e:f_.isArray(e)?e.map(W_):String(e)}function H_(e,t,n,r,i){return f_.isFunction(r)?r.call(this,t,n):(i&&(t=n),f_.isString(t)?f_.isString(r)?-1!==t.indexOf(r):f_.isRegExp(r)?r.test(t):void 0:void 0)}class K_{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=q_(t);if(!i)throw new Error("header name must be a non-empty string");const s=f_.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=W_(e))}const s=(e,t)=>f_.forEach(e,(e,n)=>i(e,n,t));if(f_.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(f_.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&B_[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(f_.isObject(e)&&f_.isIterable(e)){let n,r,i={};for(const t of e){if(!f_.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?f_.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=q_(e)){const n=f_.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(f_.isFunction(t))return t.call(this,e,n);if(f_.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=q_(e)){const n=f_.findKey(this,e);return!(!n||void 0===this[n]||t&&!H_(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=q_(e)){const i=f_.findKey(n,e);!i||t&&!H_(0,n[i],i,t)||(delete n[i],r=!0)}}return f_.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!H_(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return f_.forEach(this,(r,i)=>{const s=f_.findKey(n,i);if(s)return t[s]=W_(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();a!==i&&delete t[i],t[a]=W_(r),n[a]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return f_.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&f_.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[z_]=this[z_]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=q_(e);t[r]||(!function(e,t){const n=f_.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return f_.isArray(e)?e.forEach(r):r(e),this}}K_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),f_.reduceDescriptors(K_.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),f_.freezeMethods(K_);const G_=K_;function Q_(e,t){const n=this||V_,r=t||n,i=G_.from(r.headers);let s=r.data;return f_.forEach(e,function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Y_(e){return!(!e||!e.__CANCEL__)}function $_(e,t,n){y_.call(this,null==e?"canceled":e,y_.ERR_CANCELED,t,n),this.name="CanceledError"}f_.inherits($_,y_,{__CANCEL__:!0});const J_=$_;function X_(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new y_("Request failed with status code "+n.status,[y_.ERR_BAD_REQUEST,y_.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Z_=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];i||(i=l),n[s]=o,r[s]=l;let u=a,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const eE=function(e,t){let n,r,i=0,s=1e3/t;const a=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?a(l,e):(n=l,r||(r=setTimeout(()=>{r=null,a(n)},s-t)))},()=>n&&a(n)]},tE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Z_(50,250);return eE(n=>{const s=n.loaded,a=n.lengthComputable?n.total:void 0,o=s-r,l=i(o);r=s;e({loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&s<=a?(a-s)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},nE=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},rE=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f_.asap(()=>e(...n))},iE=M_.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,M_.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(M_.origin),M_.navigator&&/(msie|trident)/i.test(M_.navigator.userAgent)):()=>!0,sE=M_.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const a=[e+"="+encodeURIComponent(t)];f_.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),f_.isString(r)&&a.push("path="+r),f_.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function aE(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const oE=e=>e instanceof G_?Ue({},e):e;function lE(e,t){t=t||{};const n={};function r(e,t,n,r){return f_.isPlainObject(e)&&f_.isPlainObject(t)?f_.merge.call({caseless:r},e,t):f_.isPlainObject(t)?f_.merge({},t):f_.isArray(t)?t.slice():t}function i(e,t,n,i){return f_.isUndefined(t)?f_.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!f_.isUndefined(t))return r(void 0,t)}function a(e,t){return f_.isUndefined(t)?f_.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>i(oE(e),oE(t),0,!0)};return f_.forEach(Object.keys(Ue(Ue({},e),t)),function(r){const s=l[r]||i,a=s(e[r],t[r],r);f_.isUndefined(a)&&s!==o||(n[r]=a)}),n}const cE=e=>{const t=lE({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=t;if(t.headers=a=G_.from(a),t.url=C_(aE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),f_.isFormData(n))if(M_.hasStandardBrowserEnv||M_.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(f_.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&a.set(n,r)})}if(M_.hasStandardBrowserEnv&&(r&&f_.isFunction(r)&&(r=r(t)),r||!1!==r&&iE(t.url))){const e=i&&s&&sE.read(s);e&&a.set(i,e)}return t},uE="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=cE(e);let i=r.data;const s=G_.from(r.headers).normalize();let a,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=G_.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());X_(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new y_("Request aborted",y_.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",i=new y_(r,y_.ERR_NETWORK,e,m);i.event=t||null,n(i),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||j_;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new y_(t,i.clarifyTimeoutError?y_.ETIMEDOUT:y_.ECONNABORTED,e,m)),m=null},void 0===i&&s.setContentType(null),"setRequestHeader"in m&&f_.forEach(s.toJSON(),function(e,t){m.setRequestHeader(t,e)}),f_.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=tE(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=tE(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new J_(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===M_.protocols.indexOf(y)?n(new y_("Unsupported protocol "+y+":",y_.ERR_BAD_REQUEST,e)):m.send(i||null)})},dE=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof y_?t:new J_(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,i(new y_("timeout ".concat(t," of ms exceeded"),y_.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:o}=r;return o.unsubscribe=()=>f_.asap(a),o}};function hE(e,t){this.v=e,this.k=t}function fE(e){return function(){return new pE(e.apply(this,arguments))}}function pE(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,o=a instanceof hE;Promise.resolve(o?a.v:a).then(function(n){if(o){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}i(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(s,a){var o={key:e,arg:i,resolve:s,reject:a,next:null};n?n=n.next=o:(t=n=o,r(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function mE(e){return new hE(e,0)}function gE(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new hE(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function yE(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new vE(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function vE(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return vE=function(e){this.s=e,this.n=e.next},vE.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new vE(e)}pE.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},pE.prototype.next=function(e){return this._invoke("next",e)},pE.prototype.throw=function(e){return this._invoke("throw",e)},pE.prototype.return=function(e){return this._invoke("return",e)};const bE=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},wE=function(){var e=fE(function*(e,t){var n,r=!1,i=!1;try{for(var s,a=yE(xE(e));r=!(s=yield mE(a.next())).done;r=!1){const e=s.value;yield*gE(yE(bE(e,t)))}}catch(o){i=!0,n=o}finally{try{r&&null!=a.return&&(yield mE(a.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),xE=function(){var e=fE(function*(e){if(e[Symbol.asyncIterator])return void(yield*gE(yE(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield mE(t.read());if(e)break;yield n}}finally{yield mE(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),_E=(e,t,n,r)=>{const i=wE(e,t);let s,a=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=a+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},{isFunction:EE}=f_,kE=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(f_.global),{ReadableStream:NE,TextEncoder:SE}=f_.global,TE=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Fe){return!1}},CE=e=>{e=f_.merge.call({skipUndefined:!0},kE,e);const{fetch:t,Request:n,Response:r}=e,i=t?EE(t):"function"===typeof fetch,s=EE(n),a=EE(r);if(!i)return!1;const o=i&&EE(NE),l=i&&("function"===typeof SE?(c=new SE,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=s&&o&&TE(()=>{let e=!1;const t=new n(M_.origin,{body:new NE,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=a&&o&&TE(()=>f_.isReadableStream(new r("").body)),h={stream:d&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new y_("Response type '".concat(e,"' is not supported"),y_.ERR_NOT_SUPPORT,n)})});const f=async(e,t)=>{const r=f_.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(f_.isBlob(e))return e.size;if(f_.isSpecCompliantForm(e)){const t=new n(M_.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return f_.isArrayBufferView(e)||f_.isArrayBuffer(e)?e.byteLength:(f_.isURLSearchParams(e)&&(e+=""),f_.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:i,method:a,data:o,signal:l,cancelToken:c,timeout:p,onDownloadProgress:m,onUploadProgress:g,responseType:y,headers:v,withCredentials:b="same-origin",fetchOptions:w}=cE(e),x=t||fetch;y=y?(y+"").toLowerCase():"text";let _=dE([l,c&&c.toAbortSignal()],p),E=null;const k=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let N;try{if(g&&u&&"get"!==a&&"head"!==a&&0!==(N=await f(v,o))){let e,t=new n(i,{method:"POST",body:o,duplex:"half"});if(f_.isFormData(o)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=nE(N,tE(rE(g)));o=_E(t.body,65536,e,n)}}f_.isString(b)||(b=b?"include":"omit");const t=s&&"credentials"in n.prototype,l=Ue(Ue({},w),{},{signal:_,method:a.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:t?b:void 0});E=s&&new n(i,l);let c=await(s?x(E,w):x(i,l));const p=d&&("stream"===y||"response"===y);if(d&&(m||p&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=f_.toFiniteNumber(c.headers.get("content-length")),[n,i]=m&&nE(t,tE(rE(m),!0))||[];c=new r(_E(c.body,65536,n,()=>{i&&i(),k&&k()}),e)}y=y||"text";let S=await h[f_.findKey(h,y)||"text"](c,e);return!p&&k&&k(),await new Promise((t,n)=>{X_(t,n,{data:S,headers:G_.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:E})})}catch(S){if(k&&k(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new y_("Network Error",y_.ERR_NETWORK,e,E),{cause:S.cause||S});throw y_.from(S,S&&S.code,e,E)}}},IE=new Map,jE=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let a,o,l=s.length,c=IE;for(;l--;)a=s[l],o=c.get(a),void 0===o&&c.set(a,o=l?new Map:CE(t)),c=o;return o},AE=(jE(),{http:null,xhr:uE,fetch:{get:jE}});f_.forEach(AE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Fe){}Object.defineProperty(e,"adapterName",{value:t})}});const RE=e=>"- ".concat(e),OE=e=>f_.isFunction(e)||null===e||!1===e,PE=(e,t)=>{e=f_.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let a=0;a<n;a++){let n;if(r=e[a],i=r,!OE(r)&&(i=AE[(n=String(r)).toLowerCase()],void 0===i))throw new y_("Unknown adapter '".concat(n,"'"));if(i&&(f_.isFunction(i)||(i=i.get(t))))break;s[n||"#"+a]=i}if(!i){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(RE).join("\n"):" "+RE(e[0]):"as no adapter specified";throw new y_("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i};function DE(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new J_(null,e)}function LE(e){DE(e),e.headers=G_.from(e.headers),e.data=Q_.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return PE(e.adapter||V_.adapter,e)(e).then(function(t){return DE(e),t.data=Q_.call(e,e.transformResponse,t),t.headers=G_.from(t.headers),t},function(t){return Y_(t)||(DE(e),t&&t.response&&(t.response.data=Q_.call(e,e.transformResponse,t.response),t.response.headers=G_.from(t.response.headers))),Promise.reject(t)})}const ME="1.12.2",UE={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{UE[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const FE={};UE.transitional=function(e,t,n){function r(e,t){return"[Axios v"+ME+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new y_(r(i," has been removed"+(t?" in "+t:"")),y_.ERR_DEPRECATED);return t&&!FE[i]&&(FE[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},UE.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const VE={assertOptions:function(e,t,n){if("object"!==typeof e)throw new y_("options must be an object",y_.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const t=e[s],n=void 0===t||a(t,s,e);if(!0!==n)throw new y_("option "+s+" must be "+n,y_.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new y_("Unknown option "+s,y_.ERR_BAD_OPTION)}},validators:UE},BE=VE.validators;class zE{constructor(e){this.defaults=e||{},this.interceptors={request:new I_,response:new I_}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Fe){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=lE(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&VE.assertOptions(n,{silentJSONParsing:BE.transitional(BE.boolean),forcedJSONParsing:BE.transitional(BE.boolean),clarifyTimeoutError:BE.transitional(BE.boolean)},!1),null!=r&&(f_.isFunction(r)?t.paramsSerializer={serialize:r}:VE.assertOptions(r,{encode:BE.function,serialize:BE.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),VE.assertOptions(t,{baseUrl:BE.spelling("baseURL"),withXsrfToken:BE.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&f_.merge(i.common,i[t.method]);i&&f_.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=G_.concat(s,i);const a=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[LE.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=LE.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return C_(aE((e=lE(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}f_.forEach(["delete","get","head","options"],function(e){zE.prototype[e]=function(t,n){return this.request(lE(n||{},{method:e,url:t,data:(n||{}).data}))}}),f_.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(lE(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}zE.prototype[e]=t(),zE.prototype[e+"Form"]=t(!0)});const qE=zE;class WE{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new J_(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new WE(function(t){e=t});return{token:t,cancel:e}}}const HE=WE;const KE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(KE).forEach(e=>{let[t,n]=e;KE[n]=t});const GE=KE;const QE=function e(t){const n=new qE(t),r=Tx(qE.prototype.request,n);return f_.extend(r,qE.prototype,n,{allOwnKeys:!0}),f_.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(lE(t,n))},r}(V_);QE.Axios=qE,QE.CanceledError=J_,QE.CancelToken=HE,QE.isCancel=Y_,QE.VERSION=ME,QE.toFormData=__,QE.AxiosError=y_,QE.Cancel=QE.CanceledError,QE.all=function(e){return Promise.all(e)},QE.spread=function(e){return function(t){return e.apply(null,t)}},QE.isAxiosError=function(e){return f_.isObject(e)&&!0===e.isAxiosError},QE.mergeConfig=lE,QE.AxiosHeaders=G_,QE.formToJSON=e=>U_(f_.isHTMLForm(e)?new FormData(e):e),QE.getAdapter=PE,QE.HttpStatusCode=GE,QE.default=QE;const YE=QE,$E=["title","titleId"];function JE(e,t){let{title:n,titleId:r}=e,i=bb(e,$E);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const XE=s.forwardRef(JE),ZE=["title","titleId"];function ek(e,t){let{title:n,titleId:r}=e,i=bb(e,ZE);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const tk=s.forwardRef(ek),nk=["title","titleId"];function rk(e,t){let{title:n,titleId:r}=e,i=bb(e,nk);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ik=s.forwardRef(rk),sk=["title","titleId"];function ak(e,t){let{title:n,titleId:r}=e,i=bb(e,sk);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const ok=s.forwardRef(ak),lk=()=>{const{userProfile:e,refreshProfile:t,claimDevFunds:n}=gb(),[r,i]=(0,s.useState)([]),[a,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{l()},[]);const l=async()=>{try{o(!0);const e=await YE.get("".concat("http://localhost:5000","/payments/transactions?limit=20"));i(e.data.transactions||[])}catch(e){console.error("Error fetching transactions:",e),Zt.error("Failed to load transaction history")}finally{o(!1)}},c=e=>"deposit"===e||"challenge_win"===e||"refund"===e?"text-success-400":"withdrawal"===e?"text-accent-400":"text-gray-300";return(0,pb.jsx)("div",{className:"min-h-screen py-8",children:(0,pb.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,pb.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 mb-8",children:(0,pb.jsxs)("div",{className:"text-center",children:[(0,pb.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,pb.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Wallet"}),(0,pb.jsx)(vb,{size:"md"})]}),(0,pb.jsx)("p",{className:"text-gray-600 mb-6",children:"Manage your Beta testing funds"}),(0,pb.jsx)(Eb,{showLabel:!1,className:"text-5xl font-bold text-gray-900 mb-2"}),(0,pb.jsx)("p",{className:"text-gray-500 mb-8",children:"Available Beta Balance (Fake Currency)"}),(0,pb.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,pb.jsxs)("button",{onClick:async()=>{try{await n(),Zt.success("Successfully claimed $100 fake currency!"),await t()}catch(e){Zt.error(e.message||"Failed to claim dev funds")}},className:"bg-orange-600 text-white px-6 py-3 rounded-md hover:bg-orange-700 transition-colors flex items-center justify-center space-x-2",disabled:null===e||void 0===e?void 0:e.hasClaimed,children:[(0,pb.jsx)(ok,{className:"h-5 w-5"}),(0,pb.jsx)("span",{children:null!==e&&void 0!==e&&e.hasClaimed?"Already Claimed":"Claim $100 Dev Funds"})]}),(0,pb.jsxs)("button",{disabled:!0,className:"border border-gray-300 text-gray-400 px-6 py-3 rounded-md cursor-not-allowed flex items-center justify-center space-x-2",children:[(0,pb.jsx)(XE,{className:"h-5 w-5"}),(0,pb.jsx)("span",{children:"Real Deposits (Coming Soon)"})]})]})]})}),(0,pb.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 mb-8",children:(0,pb.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,pb.jsx)(Dw,{className:"h-6 w-6 text-orange-600 flex-shrink-0"}),(0,pb.jsxs)("div",{children:[(0,pb.jsx)("h3",{className:"text-lg font-semibold text-orange-800 mb-2",children:"Beta Testing Mode"}),(0,pb.jsx)("p",{className:"text-orange-700 text-sm",children:"This is a Beta testing environment using fake currency. All transactions are simulated for testing purposes only. Real money deposits and withdrawals will be available in the production version."})]})]})}),(0,pb.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,pb.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Transaction History"}),a?(0,pb.jsx)("div",{className:"space-y-4",children:[...Array(5)].map((e,t)=>(0,pb.jsxs)("div",{className:"animate-pulse flex items-center p-4 bg-gray-100 rounded-lg",children:[(0,pb.jsx)("div",{className:"h-8 w-8 bg-gray-300 rounded-full mr-4"}),(0,pb.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,pb.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),(0,pb.jsx)("div",{className:"h-3 bg-gray-300 rounded w-1/3"})]}),(0,pb.jsx)("div",{className:"h-4 bg-gray-300 rounded w-20"})]},t))}):r.length>0?(0,pb.jsx)("div",{className:"space-y-3",children:r.map((e,t)=>{return(0,pb.jsxs)("div",{className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border",children:[(0,pb.jsx)("div",{className:"flex-shrink-0 mr-4",children:(r=e.type,e.status,"deposit"===r?(0,pb.jsx)(XE,{className:"h-5 w-5 text-success-400"}):"withdrawal"===r?(0,pb.jsx)(tk,{className:"h-5 w-5 text-accent-400"}):"challenge_win"===r?(0,pb.jsx)(ik,{className:"h-5 w-5 text-success-400"}):"refund"===r?(0,pb.jsx)(ok,{className:"h-5 w-5 text-primary-400"}):(0,pb.jsx)(Db,{className:"h-5 w-5 text-gray-400"}))}),(0,pb.jsxs)("div",{className:"flex-1",children:[(0,pb.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,pb.jsx)("span",{className:"font-medium text-gray-900 capitalize",children:e.type.replace("_"," ")}),(0,pb.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-200 text-gray-700",children:e.status}),(0,pb.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"FAKE"})]}),(0,pb.jsx)("div",{className:"text-sm text-gray-500",children:(n=e.createdAt,new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,pb.jsxs)("div",{className:"text-lg font-semibold ".concat(c(e.type)),children:["deposit"===e.type||"challenge_win"===e.type||"refund"===e.type||"beta_allocation"===e.type?"+":"-","$",e.amount.toFixed(2)]})]},t);var n,r})}):(0,pb.jsxs)("div",{className:"text-center py-12",children:[(0,pb.jsx)(Db,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,pb.jsx)("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No Transactions Yet"}),(0,pb.jsx)("p",{className:"text-gray-500",children:"Your Beta transaction history will appear here"}),(0,pb.jsx)("p",{className:"text-sm text-orange-600 mt-2",children:"Try claiming your $100 dev funds to get started!"})]})]})]})})},ck=()=>(0,pb.jsx)("div",{className:"min-h-screen py-8",children:(0,pb.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,pb.jsxs)("div",{className:"card-gradient",children:[(0,pb.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-6",children:"Proof & Dispute"}),(0,pb.jsx)("p",{className:"text-gray-300 mb-4",children:"This page will handle proof submission, dispute filing, and evidence management for challenges."}),(0,pb.jsx)("div",{className:"bg-dark-700 p-4 rounded-lg",children:(0,pb.jsx)("p",{className:"text-accent-400 text-sm",children:"\ud83d\udea7 Coming Soon - This feature is being implemented"})})]})})}),uk=()=>(0,pb.jsx)("div",{className:"min-h-screen py-8",children:(0,pb.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,pb.jsxs)("div",{className:"card-gradient",children:[(0,pb.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-6",children:"Admin Panel"}),(0,pb.jsx)("p",{className:"text-gray-300 mb-4",children:"This admin-only page will contain platform statistics, dispute resolution tools, user management, and financial controls."}),(0,pb.jsx)("div",{className:"bg-dark-700 p-4 rounded-lg",children:(0,pb.jsx)("p",{className:"text-accent-400 text-sm",children:"\ud83d\udea7 Coming Soon - This feature is being implemented"})})]})})});const dk=function(){return(0,pb.jsx)(yb,{children:(0,pb.jsx)(Te,{children:(0,pb.jsxs)("div",{className:"min-h-screen bg-dark-900",children:[(0,pb.jsx)(Hb,{}),(0,pb.jsx)(Gb,{}),(0,pb.jsx)("main",{className:"pt-16",children:(0,pb.jsxs)(xe,{children:[(0,pb.jsx)(be,{path:"/",element:(0,pb.jsx)(cw,{})}),(0,pb.jsx)(be,{path:"/home",element:(0,pb.jsx)(Tw,{})}),(0,pb.jsx)(be,{path:"/wagering",element:(0,pb.jsx)(Rw,{})}),(0,pb.jsx)(be,{path:"/wagers",element:(0,pb.jsx)(Kb,{children:(0,pb.jsx)(Cw,{})})}),(0,pb.jsx)(be,{path:"/login",element:(0,pb.jsx)(zw,{})}),(0,pb.jsx)(be,{path:"/signup",element:(0,pb.jsx)(Xw,{})}),(0,pb.jsx)(be,{path:"/auth",element:(0,pb.jsx)(Zw,{})}),(0,pb.jsx)(be,{path:"/profile",element:(0,pb.jsx)(Kb,{children:(0,pb.jsx)(yx,{})})}),(0,pb.jsx)(be,{path:"/create-challenge",element:(0,pb.jsx)(Kb,{children:(0,pb.jsx)(vx,{})})}),(0,pb.jsx)(be,{path:"/marketplace",element:(0,pb.jsx)(Nx,{})}),(0,pb.jsx)(be,{path:"/challenge/:id",element:(0,pb.jsx)(Sx,{})}),(0,pb.jsx)(be,{path:"/wallet",element:(0,pb.jsx)(Kb,{children:(0,pb.jsx)(lk,{})})}),(0,pb.jsx)(be,{path:"/challenge/:id/proof",element:(0,pb.jsx)(Kb,{children:(0,pb.jsx)(ck,{})})}),(0,pb.jsx)(be,{path:"/admin",element:(0,pb.jsx)(Kb,{adminOnly:!0,children:(0,pb.jsx)(uk,{})})})]})}),(0,pb.jsx)(Xt,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#fff",border:"1px solid #374151"}}})]})})})};o.createRoot(document.getElementById("root")).render((0,pb.jsx)(s.StrictMode,{children:(0,pb.jsx)(dk,{})}))})();
//# sourceMappingURL=main.d7bc3836.js.map