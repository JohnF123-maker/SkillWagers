/*! For license information please see main.97fcdadf.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(a,t,i,"",function(e){return e})):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,P(_);else{var t=r(u);null!==t&&O(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,v(S),S=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,N=null,S=-1,T=5,C=-1;function I(){return!(t.unstable_now()-C<T)}function j(){if(null!==N){var e=t.unstable_now();C=e;var n=!0;try{n=N(!0,e)}finally{n?E():(k=!1,N=null)}}else k=!1}if("function"===typeof b)E=function(){b(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=j,E=function(){R.postMessage(null)}}else E=function(){y(j,0)};function P(e){N=e,k||(k=!0,E())}function O(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(S),S=-1):g=!0,O(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,P(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(Qe){var t=Qe.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(He){var r=He}Reflect.construct(e,[],t)}else{try{t.call()}catch(He){r=He}e.call(t.prototype)}else{try{throw Error()}catch(He){r=He}e()}}catch(He){if(He&&r&&"string"===typeof He.stack){for(var i=He.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case N:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(Qe){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ee=null;function ke(e){if(e=Ci(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=ji(t),xe(e.stateNode,e.type,t))}}function Ne(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Se(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Ie=!1;function je(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==_e||null!==Ee)&&(Ce(),Se())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=ji(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(Ke){Re=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Le=null,Me=!1,Fe=null,Ue={onError:function(e){De=!0,Le=e}};function ze(e,t,n,r,i,s,a,o,l){De=!1,Le=null,Oe.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ve(e)!==e)throw Error(s(188))}function $e(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ze(e):null}function Ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ze(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,tt=i.unstable_shouldYield,rt=i.unstable_requestPaint,it=i.unstable_now,st=i.unstable_getCurrentPriorityLevel,at=i.unstable_ImmediatePriority,ot=i.unstable_UserBlockingPriority,lt=i.unstable_NormalPriority,ct=i.unstable_LowPriority,ut=i.unstable_IdlePriority,dt=null,ht=null;var ft=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pt(e)/mt|0)|0},pt=Math.log,mt=Math.LN2;var gt=64,yt=4194304;function vt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=vt(o):0!==(s&=a)&&(r=vt(s))}else 0!==(a=n&~i)?r=vt(a):0!==s&&(r=vt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ft(t)),r|=e[n],t&=~i;return r}function wt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function _t(){var e=gt;return 0===(4194240&(gt<<=1))&&(gt=64),e}function kt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ft(t)]=n}function St(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Tt=0;function Ct(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var It,jt,At,Rt,Pt,Ot=!1,Dt=[],Lt=null,Mt=null,Ft=null,Ut=new Map,Vt=new Map,Bt=[],qt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wt(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vt.delete(t.pointerId)}}function Ht(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ci(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Kt(e){var t=Ti(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Pt(e.priority,function(){At(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ci(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function $t(e,t,n){Gt(e)&&n.delete(t)}function Qt(){Ot=!1,null!==Lt&&Gt(Lt)&&(Lt=null),null!==Mt&&Gt(Mt)&&(Mt=null),null!==Ft&&Gt(Ft)&&(Ft=null),Ut.forEach($t),Vt.forEach($t)}function Zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qt)))}function Yt(e){function t(t){return Zt(t,e)}if(0<Dt.length){Zt(Dt[0],e);for(var n=1;n<Dt.length;n++){var r=Dt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Lt&&Zt(Lt,e),null!==Mt&&Zt(Mt,e),null!==Ft&&Zt(Ft,e),Ut.forEach(t),Vt.forEach(t),n=0;n<Bt.length;n++)(r=Bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Kt(n),null===n.blockedOn&&Bt.shift()}var Jt=w.ReactCurrentBatchConfig,Xt=!0;function en(e,t,n,r){var i=Tt,s=Jt.transition;Jt.transition=null;try{Tt=1,nn(e,t,n,r)}finally{Tt=i,Jt.transition=s}}function tn(e,t,n,r){var i=Tt,s=Jt.transition;Jt.transition=null;try{Tt=4,nn(e,t,n,r)}finally{Tt=i,Jt.transition=s}}function nn(e,t,n,r){if(Xt){var i=sn(e,t,n,r);if(null===i)Xr(e,t,r,rn,n),Wt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Lt=Ht(Lt,e,t,n,r,i),!0;case"dragenter":return Mt=Ht(Mt,e,t,n,r,i),!0;case"mouseover":return Ft=Ht(Ft,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ut.set(s,Ht(Ut.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vt.set(s,Ht(Vt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Wt(e,r),4&t&&-1<qt.indexOf(e)){for(;null!==i;){var s=Ci(i);if(null!==s&&It(s),null===(s=sn(e,t,n,r))&&Xr(e,t,r,rn,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Xr(e,t,r,null,n)}}var rn=null;function sn(e,t,n,r){if(rn=null,null!==(e=Ti(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function an(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(st()){case at:return 1;case ot:return 4;case lt:case ct:return 16;case ut:return 536870912;default:return 16}default:return 16}}var on=null,ln=null,cn=null;function un(){if(cn)return cn;var e,t,n=ln,r=n.length,i="value"in on?on.value:on.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return cn=i.slice(e,1<t?1-t:void 0)}function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function hn(){return!0}function fn(){return!1}function pn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?hn:fn,this.isPropagationStopped=fn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),t}var mn,gn,yn,vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bn=pn(vn),wn=M({},vn,{view:0,detail:0}),xn=pn(wn),_n=M({},wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&"mousemove"===e.type?(mn=e.screenX-yn.screenX,gn=e.screenY-yn.screenY):gn=mn=0,yn=e),mn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),En=pn(_n),kn=pn(M({},_n,{dataTransfer:0})),Nn=pn(M({},wn,{relatedTarget:0})),Sn=pn(M({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),Tn=M({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=pn(Tn),In=pn(M({},vn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rn[e])&&!!t[e]}function On(){return Pn}var Dn=M({},wn,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=pn(Dn),Mn=pn(M({},_n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=pn(M({},wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Un=pn(M({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=M({},_n,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vn=pn(zn),Bn=[9,13,27,32],qn=u&&"CompositionEvent"in window,Wn=null;u&&"documentMode"in document&&(Wn=document.documentMode);var Hn=u&&"TextEvent"in window&&!Wn,Kn=u&&(!qn||Wn&&8<Wn&&11>=Wn),Gn=String.fromCharCode(32),$n=!1;function Qn(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Yn=!1;var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Jn[e.type]:"textarea"===t}function er(e,t,n,r){Ne(r),0<(t=ti(t,"onChange")).length&&(n=new bn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Gr(e,0)}function ir(e){if(G(Ii(e)))return e}function sr(e,t){if("change"===e)return t}var ar=!1;if(u){var or;if(u){var lr="oninput"in document;if(!lr){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),lr="function"===typeof cr.oninput}or=lr}else or=!1;ar=or&&(!document.documentMode||9<document.documentMode)}function ur(){tr&&(tr.detachEvent("onpropertychange",dr),nr=tr=null)}function dr(e){if("value"===e.propertyName&&ir(nr)){var t=[];er(t,nr,e,we(e)),je(rr,t)}}function hr(e,t,n){"focusin"===e?(ur(),nr=n,(tr=t).attachEvent("onpropertychange",dr)):"focusout"===e&&ur()}function fr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ir(nr)}function pr(e,t){if("click"===e)return ir(t)}function mr(e,t){if("input"===e||"change"===e)return ir(t)}var gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function yr(e,t){if(gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!gr(e[i],t[i]))return!1}return!0}function vr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function br(e,t){var n,r=vr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vr(r)}}function wr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?wr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function xr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(Xe){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function _r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Er(e){var t=xr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wr(n.ownerDocument.documentElement,n)){if(null!==r&&_r(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=br(n,s);var a=br(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kr=u&&"documentMode"in document&&11>=document.documentMode,Nr=null,Sr=null,Tr=null,Cr=!1;function Ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Cr||null==Nr||Nr!==$(r)||("selectionStart"in(r=Nr)&&_r(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Tr&&yr(Tr,r)||(Tr=r,0<(r=ti(Sr,"onSelect")).length&&(t=new bn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Rr={},Pr={};function Or(e){if(Rr[e])return Rr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pr)return Rr[e]=n[t];return e}u&&(Pr=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Dr=Or("animationend"),Lr=Or("animationiteration"),Mr=Or("animationstart"),Fr=Or("transitionend"),Ur=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){Ur.set(e,t),l(t,[e])}for(var Br=0;Br<zr.length;Br++){var qr=zr[Br];Vr(qr.toLowerCase(),"on"+(qr[0].toUpperCase()+qr.slice(1)))}Vr(Dr,"onAnimationEnd"),Vr(Lr,"onAnimationIteration"),Vr(Mr,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Fr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function Kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),De){if(!De)throw Error(s(198));var u=Le;De=!1,Le=null,Me||(Me=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Gr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Kr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Kr(i,o,c),s=l}}}if(Me)throw e=Fe,Me=!1,Fe=null,e}function $r(e,t){var n=t[ki];void 0===n&&(n=t[ki]=new Set);var r=e+"__bubble";n.has(r)||(Jr(t,e,2,!1),n.add(r))}function Qr(e,t,n){var r=0;t&&(r|=4),Jr(n,e,r,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[Zr]){e[Zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Hr.has(t)||Qr(t,!1,e),Qr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zr]||(t[Zr]=!0,Qr("selectionchange",!1,t))}}function Jr(e,t,n,r){switch(an(t)){case 1:var i=en;break;case 4:i=tn;break;default:i=nn}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Ti(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}je(function(){var r=s,i=we(n),a=[];e:{var o=Ur.get(e);if(void 0!==o){var l=bn,c=e;switch(e){case"keypress":if(0===dn(n))break e;case"keydown":case"keyup":l=Ln;break;case"focusin":c="focus",l=Nn;break;case"focusout":c="blur",l=Nn;break;case"beforeblur":case"afterblur":l=Nn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=kn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Fn;break;case Dr:case Lr:case Mr:l=Sn;break;case Fr:l=Un;break;case"scroll":l=xn;break;case"wheel":l=Vn;break;case"copy":case"cut":case"paste":l=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(ei(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!Ti(c)&&!c[Ei])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ti(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=En,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:Ii(l),f=null==c?o:Ii(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,Ti(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=ni(f))p++;for(f=0,m=h;m;m=ni(m))f++;for(;0<p-f;)u=ni(u),p--;for(;0<f-p;)h=ni(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=ni(u),h=ni(h)}u=null}else u=null;null!==l&&ri(a,o,l,u,!1),null!==c&&null!==d&&ri(a,d,c,u,!0)}if("select"===(l=(o=r?Ii(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=sr;else if(Xn(o))if(ar)g=mr;else{g=fr;var y=hr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=pr);switch(g&&(g=g(e,r))?er(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?Ii(r):window,e){case"focusin":(Xn(y)||"true"===y.contentEditable)&&(Nr=y,Sr=r,Tr=null);break;case"focusout":Tr=Sr=Nr=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,Ir(a,n,i);break;case"selectionchange":if(kr)break;case"keydown":case"keyup":Ir(a,n,i)}var v;if(qn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Yn?Qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Kn&&"ko"!==n.locale&&(Yn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Yn&&(v=un()):(ln="value"in(on=i)?on.value:on.textContent,Yn=!0)),0<(y=ti(r,b)).length&&(b=new In(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Zn(n))&&(b.data=v))),(v=Hn?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:($n=!0,Gn);case"textInput":return(e=t.data)===Gn&&$n?null:e;default:return null}}(e,n):function(e,t){if(Yn)return"compositionend"===e||!qn&&Qn(e,t)?(e=un(),cn=ln=on=null,Yn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ti(r,"onBeforeInput")).length&&(i=new In("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Gr(a,t)})}function ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(ei(e,s,i)),null!=(s=Ae(e,t))&&r.push(ei(e,s,i))),e=e.return}return r}function ni(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ri(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ae(n,s))&&a.unshift(ei(n,l,o)):i||null!=(l=Ae(n,s))&&a.push(ei(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ii=/\r\n?/g,si=/\u0000|\uFFFD/g;function ai(e){return("string"===typeof e?e:""+e).replace(ii,"\n").replace(si,"")}function oi(e,t,n){if(t=ai(t),ai(e)!==t&&n)throw Error(s(425))}function li(){}var ci=null,ui=null;function di(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var hi="function"===typeof setTimeout?setTimeout:void 0,fi="function"===typeof clearTimeout?clearTimeout:void 0,pi="function"===typeof Promise?Promise:void 0,mi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof pi?function(e){return pi.resolve(null).then(e).catch(gi)}:hi;function gi(e){setTimeout(function(){throw e})}function yi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Yt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Yt(t)}function vi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function bi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),xi="__reactFiber$"+wi,_i="__reactProps$"+wi,Ei="__reactContainer$"+wi,ki="__reactEvents$"+wi,Ni="__reactListeners$"+wi,Si="__reactHandles$"+wi;function Ti(e){var t=e[xi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ei]||n[xi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bi(e);null!==e;){if(n=e[xi])return n;e=bi(e)}return t}n=(e=n).parentNode}return null}function Ci(e){return!(e=e[xi]||e[Ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ji(e){return e[_i]||null}var Ai=[],Ri=-1;function Pi(e){return{current:e}}function Oi(e){0>Ri||(e.current=Ai[Ri],Ai[Ri]=null,Ri--)}function Di(e,t){Ri++,Ai[Ri]=e.current,e.current=t}var Li={},Mi=Pi(Li),Fi=Pi(!1),Ui=Li;function zi(e,t){var n=e.type.contextTypes;if(!n)return Li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bi(){Oi(Fi),Oi(Mi)}function qi(e,t,n){if(Mi.current!==Li)throw Error(s(168));Di(Mi,t),Di(Fi,n)}function Wi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,Ui=Mi.current,Di(Mi,e),Di(Fi,Fi.current),!0}function Ki(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Wi(e,t,Ui),r.__reactInternalMemoizedMergedChildContext=e,Oi(Fi),Oi(Mi),Di(Mi,e)):Oi(Fi),Di(Fi,n)}var Gi=null,$i=!1,Qi=!1;function Zi(e){null===Gi?Gi=[e]:Gi.push(e)}function Yi(){if(!Qi&&null!==Gi){Qi=!0;var e=0,t=Tt;try{var n=Gi;for(Tt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Gi=null,$i=!1}catch(qe){throw null!==Gi&&(Gi=Gi.slice(e+1)),Ye(at,Yi),qe}finally{Tt=t,Qi=!1}}return null}var Ji=[],Xi=0,es=null,ts=0,ns=[],rs=0,is=null,ss=1,as="";function os(e,t){Ji[Xi++]=ts,Ji[Xi++]=es,es=e,ts=t}function ls(e,t,n){ns[rs++]=ss,ns[rs++]=as,ns[rs++]=is,is=e;var r=ss;e=as;var i=32-ft(r)-1;r&=~(1<<i),n+=1;var s=32-ft(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ss=1<<32-ft(t)+i|n<<i|r,as=s+e}else ss=1<<s|n<<i|r,as=e}function cs(e){null!==e.return&&(os(e,1),ls(e,1,0))}function us(e){for(;e===es;)es=Ji[--Xi],Ji[Xi]=null,ts=Ji[--Xi],Ji[Xi]=null;for(;e===is;)is=ns[--rs],ns[rs]=null,as=ns[--rs],ns[rs]=null,ss=ns[--rs],ns[rs]=null}var ds=null,hs=null,fs=!1,ps=null;function ms(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function gs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ds=e,hs=vi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ds=e,hs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==is?{id:ss,overflow:as}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ds=e,hs=null,!0);default:return!1}}function ys(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function vs(e){if(fs){var t=hs;if(t){var n=t;if(!gs(e,t)){if(ys(e))throw Error(s(418));t=vi(n.nextSibling);var r=ds;t&&gs(e,t)?ms(r,n):(e.flags=-4097&e.flags|2,fs=!1,ds=e)}}else{if(ys(e))throw Error(s(418));e.flags=-4097&e.flags|2,fs=!1,ds=e}}}function bs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ds=e}function ws(e){if(e!==ds)return!1;if(!fs)return bs(e),fs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!di(e.type,e.memoizedProps)),t&&(t=hs)){if(ys(e))throw xs(),Error(s(418));for(;t;)ms(e,t),t=vi(t.nextSibling)}if(bs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){hs=vi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}hs=null}}else hs=ds?vi(e.stateNode.nextSibling):null;return!0}function xs(){for(var e=hs;e;)e=vi(e.nextSibling)}function _s(){hs=ds=null,fs=!1}function Es(e){null===ps?ps=[e]:ps.push(e)}var ks=w.ReactCurrentBatchConfig;function Ns(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ss(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ts(e){return(0,e._init)(e._payload)}function Cs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Ts(s)===t.type)?((r=i(t,n.props)).ref=Ns(e,t,n),r.return=e,r):((r=qc(n.type,n.key,n.props,null,e.mode,r)).ref=Ns(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Wc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Kc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=qc(t.type,t.key,t.props,null,e.mode,n)).ref=Ns(e,null,t),n.return=e,n;case _:return(t=Gc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Wc(t,e.mode,n,null)).return=e,t;Ss(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);Ss(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);Ss(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(i,d),fs&&os(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return fs&&os(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),fs&&os(i,m),c}function g(i,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),fs&&os(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return fs&&os(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),fs&&os(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Ts(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Ns(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((s=Wc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=qc(a.type,a.key,a.props,null,r.mode,l)).ref=Ns(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Gc(a,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(D(a))return g(r,s,a,l);Ss(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Kc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Is=Cs(!0),js=Cs(!1),As=Pi(null),Rs=null,Ps=null,Os=null;function Ds(){Os=Ps=Rs=null}function Ls(e){var t=As.current;Oi(As),e._currentValue=t}function Ms(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fs(e,t){Rs=e,Os=Ps=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Co=!0),e.firstContext=null)}function Us(e){var t=e._currentValue;if(Os!==e)if(e={context:e,memoizedValue:t,next:null},null===Ps){if(null===Rs)throw Error(s(308));Ps=e,Rs.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var zs=null;function Vs(e){null===zs?zs=[e]:zs.push(e)}function Bs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Vs(t)):(n.next=i.next,i.next=n),t.interleaved=n,qs(e,r)}function qs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ws=!1;function Hs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ks(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $s(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ml)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qs(e,n)}return null===(i=r.interleaved)?(t.next=t,Vs(r)):(t.next=i.next,i.next=t),r.interleaved=t,qs(e,n)}function Qs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,St(e,n)}}function Zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ys(e,t,n,r){var i=e.updateQueue;Ws=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Ws=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Hl|=a,e.lanes=a,e.memoizedState=d}}function Js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Xs={},ea=Pi(Xs),ta=Pi(Xs),na=Pi(Xs);function ra(e){if(e===Xs)throw Error(s(174));return e}function ia(e,t){switch(Di(na,t),Di(ta,e),Di(ea,Xs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Oi(ea),Di(ea,t)}function sa(){Oi(ea),Oi(ta),Oi(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Di(ta,e),Di(ea,n))}function oa(e){ta.current===e&&(Oi(ea),Oi(ta))}var la=Pi(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=w.ReactCurrentDispatcher,fa=w.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,ya=null,va=!1,ba=!1,wa=0,xa=0;function _a(){throw Error(s(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?oo:lo,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(s(301));a+=1,ya=ga=null,t.updateQueue=null,ha.current=co,e=n(r,i)}while(ba)}if(ha.current=ao,t=null!==ga&&null!==ga.next,pa=0,ya=ga=ma=null,va=!1,t)throw Error(s(300));return e}function Na(){var e=0!==wa;return wa=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ma.memoizedState=ya=e:ya=ya.next=e,ya}function Ta(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ya?ma.memoizedState:ya.next;if(null!==t)ya=t,ga=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?ma.memoizedState=ya=e:ya=ya.next=e}return ya}function Ca(e,t){return"function"===typeof t?t(e):t}function Ia(e){var t=Ta(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ma.lanes|=d,Hl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,gr(r,t.memoizedState)||(Co=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Hl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ja(e){var t=Ta(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);gr(a,t.memoizedState)||(Co=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Ra(e,t){var n=ma,r=Ta(),i=t(),a=!gr(r.memoizedState,i);if(a&&(r.memoizedState=i,Co=!0),r=r.queue,Wa(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Ua(9,Oa.bind(null,n,r,i,t),void 0,null),null===Fl)throw Error(s(349));0!==(30&pa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Ma(e)}function Da(e,t,n){return n(function(){La(t)&&Ma(e)})}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch(Xe){return!0}}function Ma(e){var t=qs(e,1);null!==t&&dc(t,e,1,-1)}function Fa(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=no.bind(null,ma,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return Ta().memoizedState}function Va(e,t,n,r){var i=Sa();ma.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=Ta();r=void 0===r?null:r;var s=void 0;if(null!==ga){var a=ga.memoizedState;if(s=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ua(t,n,s,r))}ma.flags|=e,i.memoizedState=Ua(1|t,n,s,r)}function qa(e,t){return Va(8390656,8,e,t)}function Wa(e,t){return Ba(2048,8,e,t)}function Ha(e,t){return Ba(4,2,e,t)}function Ka(e,t){return Ba(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ga.bind(null,t,e),n)}function Qa(){}function Za(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,Co=!0),e.memoizedState=n):(gr(n,t)||(n=_t(),ma.lanes|=n,Hl|=n,e.baseState=!0),t)}function Xa(e,t){var n=Tt;Tt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{Tt=n,fa.transition=r}}function eo(){return Ta().memoizedState}function to(e,t,n){var r=uc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ro(e))io(t,n);else if(null!==(n=Bs(e,t,n,r))){dc(n,e,r,cc()),so(n,t,r)}}function no(e,t,n){var r=uc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ro(e))io(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,gr(o,a)){var l=t.interleaved;return null===l?(i.next=i,Vs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(He){}null!==(n=Bs(e,t,i,r))&&(dc(n,e,r,i=cc()),so(n,t,r))}}function ro(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function io(e,t){ba=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function so(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,St(e,n)}}var ao={readContext:Us,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},oo={readContext:Us,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:Us,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=to.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:Fa,useDebugValue:Qa,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Xa.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Sa();if(fs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Fl)throw Error(s(349));0!==(30&pa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(Da.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Sa(),t=Fl.identifierPrefix;if(fs){var n=as;t=":"+t+"R"+(n=(ss&~(1<<32-ft(ss)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lo={readContext:Us,useCallback:Za,useContext:Us,useEffect:Wa,useImperativeHandle:$a,useInsertionEffect:Ha,useLayoutEffect:Ka,useMemo:Ya,useReducer:Ia,useRef:za,useState:function(){return Ia(Ca)},useDebugValue:Qa,useDeferredValue:function(e){return Ja(Ta(),ga.memoizedState,e)},useTransition:function(){return[Ia(Ca)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:eo,unstable_isNewReconciler:!1},co={readContext:Us,useCallback:Za,useContext:Us,useEffect:Wa,useImperativeHandle:$a,useInsertionEffect:Ha,useLayoutEffect:Ka,useMemo:Ya,useReducer:ja,useRef:za,useState:function(){return ja(Ca)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ta();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[ja(Ca)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:eo,unstable_isNewReconciler:!1};function uo(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cc(),i=uc(e),s=Gs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=$s(e,s,i))&&(dc(t,e,i,r),Qs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cc(),i=uc(e),s=Gs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=$s(e,s,i))&&(dc(t,e,i,r),Qs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cc(),r=uc(e),i=Gs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=$s(e,i,r))&&(dc(t,e,r,n),Qs(t,e,r))}};function po(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!yr(n,r)||!yr(i,s))}function mo(e,t,n){var r=!1,i=Li,s=t.contextType;return"object"===typeof s&&null!==s?s=Us(s):(i=Vi(t)?Ui:Mi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?zi(e,i):Li),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Hs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Us(s):(s=Vi(t)?Ui:Mi.current,i.context=zi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ho(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fo.enqueueReplaceState(i,i.state,null),Ys(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function vo(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(et){i="\nError generating stack: "+et.message+"\n"+et.stack}return{value:e,source:t,stack:i,digest:null}}function bo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function wo(e,t){try{console.error(t.value)}catch(Qe){setTimeout(function(){throw Qe})}}var xo="function"===typeof WeakMap?WeakMap:Map;function _o(e,t,n){(n=Gs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xl||(Xl=!0,ec=r),wo(0,t)},n}function Eo(e,t,n){(n=Gs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){wo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){wo(0,t),"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ko(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new xo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Oc.bind(null,e,t,n),t.then(e,e))}function No(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function So(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Gs(-1,1)).tag=2,$s(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var To=w.ReactCurrentOwner,Co=!1;function Io(e,t,n,r){t.child=null===e?js(t,null,n,r):Is(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var s=t.ref;return Fs(t,i),r=ka(e,t,n,r,s,i),n=Na(),null===e||Co?(fs&&n&&cs(t),t.flags|=1,Io(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xo(e,t,i))}function Ao(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Vc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ro(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:yr)(a,r)&&e.ref===t.ref)return Xo(e,t,i)}return t.flags|=1,(e=Bc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ro(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(yr(s,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Xo(e,t,i);0!==(131072&e.flags)&&(Co=!0)}}return Do(e,t,n,r,i)}function Po(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Di(Bl,Vl),Vl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Di(Bl,Vl),Vl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Di(Bl,Vl),Vl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Di(Bl,Vl),Vl|=r;return Io(e,t,i,n),t.child}function Oo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Do(e,t,n,r,i){var s=Vi(n)?Ui:Mi.current;return s=zi(t,s),Fs(t,i),n=ka(e,t,n,r,s,i),r=Na(),null===e||Co?(fs&&r&&cs(t),t.flags|=1,Io(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xo(e,t,i))}function Lo(e,t,n,r,i){if(Vi(n)){var s=!0;Hi(t)}else s=!1;if(Fs(t,i),null===t.stateNode)Jo(e,t),mo(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Us(c):c=zi(t,c=Vi(n)?Ui:Mi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&go(t,a,r,c),Ws=!1;var h=t.memoizedState;a.state=h,Ys(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Fi.current||Ws?("function"===typeof u&&(ho(t,n,u,r),l=t.memoizedState),(o=Ws||po(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ks(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:uo(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Us(l):l=zi(t,l=Vi(n)?Ui:Mi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&go(t,a,r,l),Ws=!1,h=t.memoizedState,a.state=h,Ys(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Fi.current||Ws?("function"===typeof f&&(ho(t,n,f,r),p=t.memoizedState),(c=Ws||po(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Mo(e,t,n,r,s,i)}function Mo(e,t,n,r,i,s){Oo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ki(t,n,!1),Xo(e,t,s);r=t.stateNode,To.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Is(t,e.child,null,s),t.child=Is(t,null,o,s)):Io(e,t,o,s),t.memoizedState=r.state,i&&Ki(t,n,!0),t.child}function Fo(e){var t=e.stateNode;t.pendingContext?qi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&qi(0,t.context,!1),ia(e,t.containerInfo)}function Uo(e,t,n,r,i){return _s(),Es(i),t.flags|=256,Io(e,t,n,r),t.child}var zo,Vo,Bo,qo,Wo={dehydrated:null,treeContext:null,retryLane:0};function Ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ko(e,t,n){var r,i=t.pendingProps,a=la.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Di(la,1&a),null===e)return vs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Hc(l,i,0,null),e=Wc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ho(n),t.memoizedState=Wo,e):Go(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,$o(e,t,o,r=bo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Hc({mode:"visible",children:r.children},i,0,null),(a=Wc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Is(t,e.child,null,o),t.child.memoizedState=Ho(o),t.memoizedState=Wo,a);if(0===(1&t.mode))return $o(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,$o(e,t,o,r=bo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),Co||l){if(null!==(r=Fl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,qs(e,i),dc(r,e,i,-1))}return kc(),$o(e,t,o,r=bo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Lc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,hs=vi(i.nextSibling),ds=t,fs=!0,ps=null,null!==e&&(ns[rs++]=ss,ns[rs++]=as,ns[rs++]=is,ss=e.id,as=e.overflow,is=t),t=Go(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Bc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Bc(r,o):(o=Wc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Ho(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Wo,i}return e=(o=e.child).sibling,i=Bc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Go(e,t){return(t=Hc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $o(e,t,n,r){return null!==r&&Es(r),Is(t,e.child,null,n),(e=Go(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ms(e.return,t,n)}function Zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Yo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qo(e,n,t);else if(19===e.tag)Qo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Di(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zo(t,!0,n,null,s);break;case"together":Zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Hl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Bc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function el(e,t){if(!fs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nl(e,t,n){var r=t.pendingProps;switch(us(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tl(t),null;case 1:case 17:return Vi(t.type)&&Bi(),tl(t),null;case 3:return r=t.stateNode,sa(),Oi(Fi),Oi(Mi),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ws(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ps&&(mc(ps),ps=null))),Vo(e,t),tl(t),null;case 5:oa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Bo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return tl(t),null}if(e=ra(ea.current),ws(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[xi]=t,r[_i]=a,e=0!==(1&t.mode),n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(i=0;i<Wr.length;i++)$r(Wr[i],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":Z(r,a),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},$r("invalid",r);break;case"textarea":ie(r,a),$r("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&oi(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&oi(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&$r("scroll",r)}switch(n){case"input":K(r),X(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=li)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[xi]=t,e[_i]=r,zo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":$r("cancel",e),$r("close",e),i=r;break;case"iframe":case"object":case"embed":$r("load",e),i=r;break;case"video":case"audio":for(i=0;i<Wr.length;i++)$r(Wr[i],e);i=r;break;case"source":$r("error",e),i=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),i=r;break;case"details":$r("toggle",e),i=r;break;case"input":Z(e,r),i=Q(e,r),$r("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),$r("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),$r("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&$r("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),X(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return tl(t),null;case 6:if(e&&null!=t.stateNode)qo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=ra(na.current),ra(ea.current),ws(t)){if(r=t.stateNode,n=t.memoizedProps,r[xi]=t,(a=r.nodeValue!==n)&&null!==(e=ds))switch(e.tag){case 3:oi(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&oi(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[xi]=t,t.stateNode=r}return tl(t),null;case 13:if(Oi(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(fs&&null!==hs&&0!==(1&t.mode)&&0===(128&t.flags))xs(),_s(),t.flags|=98560,a=!1;else if(a=ws(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[xi]=t}else _s(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tl(t),a=!1}else null!==ps&&(mc(ps),ps=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===ql&&(ql=3):kc())),null!==t.updateQueue&&(t.flags|=4),tl(t),null);case 4:return sa(),Vo(e,t),null===e&&Yr(t.stateNode.containerInfo),tl(t),null;case 10:return Ls(t.type._context),tl(t),null;case 19:if(Oi(la),null===(a=t.memoizedState))return tl(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)el(a,!1);else{if(0!==ql||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,el(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Di(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&it()>Yl&&(t.flags|=128,r=!0,el(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),el(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!fs)return tl(t),null}else 2*it()-a.renderingStartTime>Yl&&1073741824!==n&&(t.flags|=128,r=!0,el(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=it(),t.sibling=null,n=la.current,Di(la,r?1&n|2:1&n),t):(tl(t),null);case 22:case 23:return wc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Vl)&&(tl(t),6&t.subtreeFlags&&(t.flags|=8192)):tl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function rl(e,t){switch(us(t),t.tag){case 1:return Vi(t.type)&&Bi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sa(),Oi(Fi),Oi(Mi),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oa(t),null;case 13:if(Oi(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));_s()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Oi(la),null;case 4:return sa(),null;case 10:return Ls(t.type._context),null;case 22:case 23:return wc(),null;default:return null}}zo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Vo=function(){},Bo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=li)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&$r("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var il=!1,sl=!1,al="function"===typeof WeakSet?WeakSet:Set,ol=null;function ll(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Xe){Pc(e,t,Xe)}else n.current=null}function cl(e,t,n){try{n()}catch(Xe){Pc(e,t,Xe)}}var ul=!1;function dl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&cl(t,n,s)}i=i.next}while(i!==r)}}function hl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function pl(e){var t=e.alternate;null!==t&&(e.alternate=null,pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[xi],delete t[_i],delete t[ki],delete t[Ni],delete t[Si])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ml(e){return 5===e.tag||3===e.tag||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=li));else if(4!==r&&null!==(e=e.child))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}var bl=null,wl=!1;function xl(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(ht&&"function"===typeof ht.onCommitFiberUnmount)try{ht.onCommitFiberUnmount(dt,n)}catch(nt){}switch(n.tag){case 5:sl||ll(n,t);case 6:var r=bl,i=wl;bl=null,xl(e,t,n),wl=i,null!==(bl=r)&&(wl?(e=bl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):bl.removeChild(n.stateNode));break;case 18:null!==bl&&(wl?(e=bl,n=n.stateNode,8===e.nodeType?yi(e.parentNode,n):1===e.nodeType&&yi(e,n),Yt(e)):yi(bl,n.stateNode));break;case 4:r=bl,i=wl,bl=n.stateNode.containerInfo,wl=!0,xl(e,t,n),bl=r,wl=i;break;case 0:case 11:case 14:case 15:if(!sl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&cl(n,t,a),i=i.next}while(i!==r)}xl(e,t,n);break;case 1:if(!sl&&(ll(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(nt){Pc(n,t,nt)}xl(e,t,n);break;case 21:xl(e,t,n);break;case 22:1&n.mode?(sl=(r=sl)||null!==n.memoizedState,xl(e,t,n),sl=r):xl(e,t,n);break;default:xl(e,t,n)}}function El(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new al),t.forEach(function(t){var r=Mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function kl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:bl=l.stateNode,wl=!1;break e;case 3:case 4:bl=l.stateNode.containerInfo,wl=!0;break e}l=l.return}if(null===bl)throw Error(s(160));_l(a,o,i),bl=null,wl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(He){Pc(i,t,He)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Nl(t,e),t=t.sibling}function Nl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kl(t,e),Sl(e),4&r){try{dl(3,e,e.return),hl(3,e)}catch(We){Pc(e,e.return,We)}try{dl(5,e,e.return)}catch(We){Pc(e,e.return,We)}}break;case 1:kl(t,e),Sl(e),512&r&&null!==n&&ll(n,n.return);break;case 5:if(kl(t,e),Sl(e),512&r&&null!==n&&ll(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(We){Pc(e,e.return,We)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(i,a),ve(l,o);var u=ve(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[_i]=a}catch(We){Pc(e,e.return,We)}}break;case 6:if(kl(t,e),Sl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(We){Pc(e,e.return,We)}}break;case 3:if(kl(t,e),Sl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Yt(t.containerInfo)}catch(We){Pc(e,e.return,We)}break;case 4:default:kl(t,e),Sl(e);break;case 13:kl(t,e),Sl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Zl=it())),4&r&&El(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(sl=(u=sl)||d,kl(t,e),sl=u):kl(t,e),Sl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(ol=e,d=e.child;null!==d;){for(h=ol=d;null!==ol;){switch(p=(f=ol).child,f.tag){case 0:case 11:case 14:case 15:dl(4,f,f.return);break;case 1:ll(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(We){Pc(r,n,We)}}break;case 5:ll(f,f.return);break;case 22:if(null!==f.memoizedState){jl(h);continue}}null!==p?(p.return=f,ol=p):jl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(We){Pc(e,e.return,We)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(We){Pc(e,e.return,We)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kl(t,e),Sl(e),4&r&&El(e);case 21:}}function Sl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ml(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),vl(e,gl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;yl(e,gl(e),a);break;default:throw Error(s(161))}}catch(Et){Pc(e,e.return,Et)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Tl(e,t,n){ol=e,Cl(e,t,n)}function Cl(e,t,n){for(var r=0!==(1&e.mode);null!==ol;){var i=ol,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||il;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||sl;o=il;var c=sl;if(il=a,(sl=l)&&!c)for(ol=i;null!==ol;)l=(a=ol).child,22===a.tag&&null!==a.memoizedState?Al(i):null!==l?(l.return=a,ol=l):Al(i);for(;null!==s;)ol=s,Cl(s,t,n),s=s.sibling;ol=i,il=o,sl=c}Il(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,ol=s):Il(e)}}function Il(e){for(;null!==ol;){var t=ol;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sl||hl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:uo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Js(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Js(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Yt(h)}}}break;default:throw Error(s(163))}sl||512&t.flags&&fl(t)}catch(f){Pc(t,t.return,f)}}if(t===e){ol=null;break}if(null!==(n=t.sibling)){n.return=t.return,ol=n;break}ol=t.return}}function jl(e){for(;null!==ol;){var t=ol;if(t===e){ol=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ol=n;break}ol=t.return}}function Al(e){for(;null!==ol;){var t=ol;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hl(4,t)}catch(Et){Pc(t,n,Et)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Et){Pc(t,i,Et)}}var s=t.return;try{fl(t)}catch(Et){Pc(t,s,Et)}break;case 5:var a=t.return;try{fl(t)}catch(Et){Pc(t,a,Et)}}}catch(Et){Pc(t,t.return,Et)}if(t===e){ol=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ol=o;break}ol=t.return}}var Rl,Pl=Math.ceil,Ol=w.ReactCurrentDispatcher,Dl=w.ReactCurrentOwner,Ll=w.ReactCurrentBatchConfig,Ml=0,Fl=null,Ul=null,zl=0,Vl=0,Bl=Pi(0),ql=0,Wl=null,Hl=0,Kl=0,Gl=0,$l=null,Ql=null,Zl=0,Yl=1/0,Jl=null,Xl=!1,ec=null,tc=null,nc=!1,rc=null,ic=0,sc=0,ac=null,oc=-1,lc=0;function cc(){return 0!==(6&Ml)?it():-1!==oc?oc:oc=it()}function uc(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==zl?zl&-zl:null!==ks.transition?(0===lc&&(lc=_t()),lc):0!==(e=Tt)?e:e=void 0===(e=window.event)?16:an(e.type)}function dc(e,t,n,r){if(50<sc)throw sc=0,ac=null,Error(s(185));Nt(e,n,r),0!==(2&Ml)&&e===Fl||(e===Fl&&(0===(2&Ml)&&(Kl|=n),4===ql&&gc(e,zl)),hc(e,r),1===n&&0===Ml&&0===(1&t.mode)&&(Yl=it()+500,$i&&Yi()))}function hc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ft(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=wt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=bt(e,e===Fl?zl:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){$i=!0,Zi(e)}(yc.bind(null,e)):Zi(yc.bind(null,e)),mi(function(){0===(6&Ml)&&Yi()}),n=null;else{switch(Ct(r)){case 1:n=at;break;case 4:n=ot;break;case 16:default:n=lt;break;case 536870912:n=ut}n=Fc(n,fc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fc(e,t){if(oc=-1,lc=0,0!==(6&Ml))throw Error(s(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=bt(e,e===Fl?zl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Nc(e,r);else{t=r;var i=Ml;Ml|=2;var a=Ec();for(Fl===e&&zl===t||(Jl=null,Yl=it()+500,xc(e,t));;)try{Tc();break}catch(nt){_c(e,nt)}Ds(),Ol.current=a,Ml=i,null!==Ul?t=0:(Fl=null,zl=0,t=ql)}if(0!==t){if(2===t&&(0!==(i=xt(e))&&(r=i,t=pc(e,i))),1===t)throw n=Wl,xc(e,0),gc(e,r),hc(e,it()),n;if(6===t)gc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gr(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Nc(e,r))&&(0!==(a=xt(e))&&(r=a,t=pc(e,a))),1===t))throw n=Wl,xc(e,0),gc(e,r),hc(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Ql,Jl);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=Zl+500-it())){if(0!==bt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hi(jc.bind(null,e,Ql,Jl),t);break}jc(e,Ql,Jl);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ft(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=it()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pl(r/1960))-r)){e.timeoutHandle=hi(jc.bind(null,e,Ql,Jl),r);break}jc(e,Ql,Jl);break;default:throw Error(s(329))}}}return hc(e,it()),e.callbackNode===n?fc.bind(null,e):null}function pc(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(xc(e,t).flags|=256),2!==(e=Nc(e,t))&&(t=Ql,Ql=n,null!==t&&mc(t)),e}function mc(e){null===Ql?Ql=e:Ql.push.apply(Ql,e)}function gc(e,t){for(t&=~Gl,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function yc(e){if(0!==(6&Ml))throw Error(s(327));Ac();var t=bt(e,0);if(0===(1&t))return hc(e,it()),null;var n=Nc(e,t);if(0!==e.tag&&2===n){var r=xt(e);0!==r&&(t=r,n=pc(e,r))}if(1===n)throw n=Wl,xc(e,0),gc(e,t),hc(e,it()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Ql,Jl),hc(e,it()),null}function vc(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(Yl=it()+500,$i&&Yi())}}function bc(e){null!==rc&&0===rc.tag&&0===(6&Ml)&&Ac();var t=Ml;Ml|=1;var n=Ll.transition,r=Tt;try{if(Ll.transition=null,Tt=1,e)return e()}finally{Tt=r,Ll.transition=n,0===(6&(Ml=t))&&Yi()}}function wc(){Vl=Bl.current,Oi(Bl)}function xc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,fi(n)),null!==Ul)for(n=Ul.return;null!==n;){var r=n;switch(us(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Bi();break;case 3:sa(),Oi(Fi),Oi(Mi),da();break;case 5:oa(r);break;case 4:sa();break;case 13:case 19:Oi(la);break;case 10:Ls(r.type._context);break;case 22:case 23:wc()}n=n.return}if(Fl=e,Ul=e=Bc(e.current,null),zl=Vl=t,ql=0,Wl=null,Gl=Kl=Hl=0,Ql=$l=null,null!==zs){for(t=0;t<zs.length;t++)if(null!==(r=(n=zs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}zs=null}return e}function _c(e,t){for(;;){var n=Ul;try{if(Ds(),ha.current=ao,va){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(pa=0,ya=ga=ma=null,ba=!1,wa=0,Dl.current=null,null===n||null===n.return){ql=1,Wl=t,Ul=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=zl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=No(o);if(null!==p){p.flags&=-257,So(p,o,l,0,t),1&p.mode&&ko(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ko(a,u,t),kc();break e}c=Error(s(426))}else if(fs&&1&l.mode){var y=No(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),So(y,o,l,0,t),Es(vo(c,l));break e}}a=c=vo(c,l),4!==ql&&(ql=2),null===$l?$l=[a]:$l.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Zs(a,_o(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===tc||!tc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Zs(a,Eo(a,l,t));break e}}a=a.return}while(null!==a)}Ic(n)}catch(w){t=w,Ul===n&&null!==n&&(Ul=n=n.return);continue}break}}function Ec(){var e=Ol.current;return Ol.current=ao,null===e?ao:e}function kc(){0!==ql&&3!==ql&&2!==ql||(ql=4),null===Fl||0===(268435455&Hl)&&0===(268435455&Kl)||gc(Fl,zl)}function Nc(e,t){var n=Ml;Ml|=2;var r=Ec();for(Fl===e&&zl===t||(Jl=null,xc(e,t));;)try{Sc();break}catch(qe){_c(e,qe)}if(Ds(),Ml=n,Ol.current=r,null!==Ul)throw Error(s(261));return Fl=null,zl=0,ql}function Sc(){for(;null!==Ul;)Cc(Ul)}function Tc(){for(;null!==Ul&&!tt();)Cc(Ul)}function Cc(e){var t=Rl(e.alternate,e,Vl);e.memoizedProps=e.pendingProps,null===t?Ic(e):Ul=t,Dl.current=null}function Ic(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=nl(n,t,Vl)))return void(Ul=n)}else{if(null!==(n=rl(n,t)))return n.flags&=32767,void(Ul=n);if(null===e)return ql=6,void(Ul=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ul=t);Ul=t=e}while(null!==t);0===ql&&(ql=5)}function jc(e,t,n){var r=Tt,i=Ll.transition;try{Ll.transition=null,Tt=1,function(e,t,n,r){do{Ac()}while(null!==rc);if(0!==(6&Ml))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ft(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Fl&&(Ul=Fl=null,zl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nc||(nc=!0,Fc(lt,function(){return Ac(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ll.transition,Ll.transition=null;var o=Tt;Tt=1;var l=Ml;Ml|=4,Dl.current=null,function(e,t){if(ci=Xt,_r(e=xr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(zt){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ui={focusedElem:e,selectionRange:n},Xt=!1,ol=t;null!==ol;)if(e=(t=ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ol=e;else for(;null!==ol;){t=ol;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:uo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(zt){Pc(t,t.return,zt)}if(null!==(e=t.sibling)){e.return=t.return,ol=e;break}ol=t.return}m=ul,ul=!1}(e,n),Nl(n,e),Er(ui),Xt=!!ci,ui=ci=null,e.current=n,Tl(n,e,i),rt(),Ml=l,Tt=o,Ll.transition=a}else e.current=n;if(nc&&(nc=!1,rc=e,ic=i),a=e.pendingLanes,0===a&&(tc=null),function(e){if(ht&&"function"===typeof ht.onCommitFiberRoot)try{ht.onCommitFiberRoot(dt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),hc(e,it()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xl)throw Xl=!1,e=ec,ec=null,e;0!==(1&ic)&&0!==e.tag&&Ac(),a=e.pendingLanes,0!==(1&a)?e===ac?sc++:(sc=0,ac=e):sc=0,Yi()}(e,t,n,r)}finally{Ll.transition=i,Tt=r}return null}function Ac(){if(null!==rc){var e=Ct(ic),t=Ll.transition,n=Tt;try{if(Ll.transition=null,Tt=16>e?16:e,null===rc)var r=!1;else{if(e=rc,rc=null,ic=0,0!==(6&Ml))throw Error(s(331));var i=Ml;for(Ml|=4,ol=e.current;null!==ol;){var a=ol,o=a.child;if(0!==(16&ol.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(ol=u;null!==ol;){var d=ol;switch(d.tag){case 0:case 11:case 15:dl(8,d,a)}var h=d.child;if(null!==h)h.return=d,ol=h;else for(;null!==ol;){var f=(d=ol).sibling,p=d.return;if(pl(d),d===u){ol=null;break}if(null!==f){f.return=p,ol=f;break}ol=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}ol=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,ol=o;else e:for(;null!==ol;){if(0!==(2048&(a=ol).flags))switch(a.tag){case 0:case 11:case 15:dl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,ol=v;break e}ol=a.return}}var b=e.current;for(ol=b;null!==ol;){var w=(o=ol).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,ol=w;else e:for(o=b;null!==ol;){if(0!==(2048&(l=ol).flags))try{switch(l.tag){case 0:case 11:case 15:hl(9,l)}}catch(_){Pc(l,l.return,_)}if(l===o){ol=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,ol=x;break e}ol=l.return}}if(Ml=i,Yi(),ht&&"function"===typeof ht.onPostCommitFiberRoot)try{ht.onPostCommitFiberRoot(dt,e)}catch(_){}r=!0}return r}finally{Tt=n,Ll.transition=t}}return!1}function Rc(e,t,n){e=$s(e,t=_o(0,t=vo(n,t),1),1),t=cc(),null!==e&&(Nt(e,1,t),hc(e,t))}function Pc(e,t,n){if(3===e.tag)Rc(e,e,n);else for(;null!==t;){if(3===t.tag){Rc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){t=$s(t,e=Eo(t,e=vo(n,e),1),1),e=cc(),null!==t&&(Nt(t,1,e),hc(t,e));break}}t=t.return}}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&n,Fl===e&&(zl&n)===n&&(4===ql||3===ql&&(130023424&zl)===zl&&500>it()-Zl?xc(e,0):Gl|=n),hc(e,t)}function Dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=yt,0===(130023424&(yt<<=1))&&(yt=4194304)));var n=cc();null!==(e=qs(e,t))&&(Nt(e,t,n),hc(e,n))}function Lc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Dc(e,n)}function Mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Dc(e,n)}function Fc(e,t){return Ye(e,t)}function Uc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,r){return new Uc(e,t,n,r)}function Vc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Vc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Wc(n.children,i,a,t);case k:o=8,i|=8;break;case N:return(e=zc(12,n,t,2|i)).elementType=N,e.lanes=a,e;case I:return(e=zc(13,n,t,i)).elementType=I,e.lanes=a,e;case j:return(e=zc(19,n,t,i)).elementType=j,e.lanes=a,e;case P:return Hc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case T:o=9;break e;case C:o=11;break e;case A:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=zc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Wc(e,t,n,r){return(e=zc(7,e,r,t)).lanes=n,e}function Hc(e,t,n,r){return(e=zc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Kc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function Gc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kt(0),this.expirationTimes=kt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qc(e,t,n,r,i,s,a,o,l){return e=new $c(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=zc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hs(s),e}function Zc(e){if(!e)return Li;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Vi(n))return Wi(e,n,t)}return t}function Yc(e,t,n,r,i,s,a,o,l){return(e=Qc(n,r,!0,e,0,s,0,o,l)).context=Zc(null),n=e.current,(s=Gs(r=cc(),i=uc(n))).callback=void 0!==t&&null!==t?t:null,$s(n,s,i),e.current.lanes=i,Nt(e,i,r),hc(e,r),e}function Jc(e,t,n,r){var i=t.current,s=cc(),a=uc(i);return n=Zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Gs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$s(i,t,a))&&(dc(e,i,a,s),Qs(e,i,a)),a}function Xc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function eu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function tu(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}Rl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Fi.current)Co=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:Fo(t),_s();break;case 5:aa(t);break;case 1:Vi(t.type)&&Hi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Di(As,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Di(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ko(e,t,n):(Di(la,1&la.current),null!==(e=Xo(e,t,n))?e.sibling:null);Di(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Yo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Di(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n)}return Xo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,fs&&0!==(1048576&t.flags)&&ls(t,ts,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jo(e,t),e=t.pendingProps;var i=zi(t,Mi.current);Fs(t,n),i=ka(null,t,r,e,i,n);var a=Na();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vi(r)?(a=!0,Hi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Hs(t),i.updater=fo,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Mo(null,t,r,!0,a,n)):(t.tag=0,fs&&a&&cs(t),Io(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Vc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=uo(r,e),i){case 0:t=Do(null,t,r,e,n);break e;case 1:t=Lo(null,t,r,e,n);break e;case 11:t=jo(null,t,r,e,n);break e;case 14:t=Ao(null,t,r,uo(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Do(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 3:e:{if(Fo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ks(e,t),Ys(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Uo(e,t,r,n,i=vo(Error(s(423)),t));break e}if(r!==i){t=Uo(e,t,r,n,i=vo(Error(s(424)),t));break e}for(hs=vi(t.stateNode.containerInfo.firstChild),ds=t,fs=!0,ps=null,n=js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_s(),r===i){t=Xo(e,t,n);break e}Io(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&vs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,di(r,i)?o=null:null!==a&&di(r,a)&&(t.flags|=32),Oo(e,t),Io(e,t,o,n),t.child;case 6:return null===e&&vs(t),null;case 13:return Ko(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Is(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Di(As,r._currentValue),r._currentValue=o,null!==a)if(gr(a.value,o)){if(a.children===i.children&&!Fi.current){t=Xo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Gs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ms(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ms(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Io(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Fs(t,n),r=r(i=Us(i)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return i=uo(r=t.type,t.pendingProps),Ao(e,t,r,i=uo(r.type,i),n);case 15:return Ro(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uo(r,i),Jo(e,t),t.tag=1,Vi(r)?(e=!0,Hi(t)):e=!1,Fs(t,n),mo(t,r,i),yo(t,r,i,n),Mo(null,t,r,!0,e,n);case 19:return Yo(e,t,n);case 22:return Po(e,t,n)}throw Error(s(156,t.tag))};var nu="function"===typeof reportError?reportError:function(e){console.error(e)};function ru(e){this._internalRoot=e}function iu(e){this._internalRoot=e}function su(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(){}function lu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Xc(a);o.call(e)}}Jc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Xc(a);s.call(e)}}var a=Yc(t,r,e,0,null,!1,0,"",ou);return e._reactRootContainer=a,e[Ei]=a.current,Yr(8===e.nodeType?e.parentNode:e),bc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Xc(l);o.call(e)}}var l=Qc(e,0,!1,null,0,!1,0,"",ou);return e._reactRootContainer=l,e[Ei]=l.current,Yr(8===e.nodeType?e.parentNode:e),bc(function(){Jc(t,l,n,r)}),l}(n,t,e,i,r);return Xc(a)}iu.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jc(e,t,null,null)},iu.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;bc(function(){Jc(null,e,null,null)}),t[Ei]=null}},iu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Kt(e)}},It=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vt(t.pendingLanes);0!==n&&(St(t,1|n),hc(t,it()),0===(6&Ml)&&(Yl=it()+500,Yi()))}break;case 13:bc(function(){var t=qs(e,1);if(null!==t){var n=cc();dc(t,e,1,n)}}),tu(e,1)}},jt=function(e){if(13===e.tag){var t=qs(e,134217728);if(null!==t)dc(t,e,134217728,cc());tu(e,134217728)}},At=function(e){if(13===e.tag){var t=uc(e),n=qs(e,t);if(null!==n)dc(n,e,t,cc());tu(e,t)}},Rt=function(){return Tt},Pt=function(e,t){var n=Tt;try{return Tt=e,t()}finally{Tt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ji(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=vc,Ce=bc;var cu={usingClientEntryPoint:!1,Events:[Ci,Ii,ji,Ne,Se,vc]},uu={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},du={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{dt=hu.inject(du),ht=hu}catch(Ke){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!su(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!su(e))throw Error(s(299));var n=!1,r="",i=nu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Qc(e,1,!1,null,0,n,0,r,i),e[Ei]=t.current,Yr(8===e.nodeType?e.parentNode:e),new ru(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return bc(e)},t.hydrate=function(e,t,n){if(!au(t))throw Error(s(200));return lu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!su(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=nu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Yc(t,null,e,1,null!=n?n:null,i,0,a,o),e[Ei]=t.current,Yr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new iu(t)},t.render=function(e,t,n){if(!au(t))throw Error(s(200));return lu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!au(e))throw Error(s(40));return!!e._reactRootContainer&&(bc(function(){lu(null,null,e,!1,function(){e._reactRootContainer=null,e[Ei]=null})}),!0)},t.unstable_batchedUpdates=vc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!au(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return lu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(qe){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>KC,hasStandardBrowserEnv:()=>$C,hasStandardBrowserWebWorkerEnv:()=>QC,navigator:()=>GC,origin:()=>ZC});var i,s=n(43),a=n.t(s,2),o=n(391),l=n(950),c=n.t(l,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const d="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(qe){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function y(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=i.Pop,c=null,f=y();function y(){return(o.state||{idx:null}).idx}function v(){l=i.Pop;let e=y(),t=null==e?null:e-f;f=e,c&&c({action:l,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,o.replaceState(u({},o.state,{idx:f}),""));let w={get action(){return l},get location(){return e(s,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(d,v),c=e,()=>{s.removeEventListener(d,v),c=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=m(w.location,e,t);n&&n(r,e),f=y()+1;let u=p(r,f),d=w.createHref(r);try{o.pushState(u,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(d)}a&&c&&c({action:l,location:w.location,delta:1})},replace:function(e,t){l=i.Replace;let r=m(w.location,e,t);n&&n(r,e),f=y();let s=p(r,f),u=w.createHref(r);o.replaceState(s,"",u),a&&c&&c({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,r){let i=D(("string"===typeof t?y(t):t).pathname||"/",n);if(null==i)return null;let s=_(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=O(i);a=R(s[o],e,r)}return a}function _(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=z([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),_(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))i(e,t,r);else i(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=E(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,N=3,S=2,T=1,C=10,I=-2,j=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=I),t&&(r+=S),n.filter(e=>!j(e)).reduce((e,t)=>e+(k.test(t)?N:""===t?T:C),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:z([s,u.pathname]),pathnameBase:V(z([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=z([s,u.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function F(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function U(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=y(e):(i=u({},e),h(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?y(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:q(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const z=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],K=(new Set(H),["get",...H]);new Set(K),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const $=s.createContext(null);const Q=s.createContext(null);const Z=s.createContext(null);const Y=s.createContext(null);const J=s.createContext({outlet:null,matches:[],isDataRoute:!1});const X=s.createContext(null);function ee(){return null!=s.useContext(Y)}function te(){return ee()||h(!1),s.useContext(Y).location}function ne(e){s.useContext(Z).static||s.useLayoutEffect(e)}function re(){let{isDataRoute:e}=s.useContext(J);return e?function(){let{router:e}=fe(de.UseNavigateStable),t=me(he.UseNavigateStable),n=s.useRef(!1);ne(()=>{n.current=!0});let r=s.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},i)))},[e,t]);return r}():function(){ee()||h(!1);let e=s.useContext($),{basename:t,future:n,navigator:r}=s.useContext(Z),{matches:i}=s.useContext(J),{pathname:a}=te(),o=JSON.stringify(F(i,n.v7_relativeSplatPath)),l=s.useRef(!1);return ne(()=>{l.current=!0}),s.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=U(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:z([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e])}()}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(Z),{matches:i}=s.useContext(J),{pathname:a}=te(),o=JSON.stringify(F(i,r.v7_relativeSplatPath));return s.useMemo(()=>U(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function se(e,t,n,r){ee()||h(!1);let{navigator:a}=s.useContext(Z),{matches:o}=s.useContext(J),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=te();if(t){var p;let e="string"===typeof t?y(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",g=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=w(e,{pathname:g});let b=ue(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:z([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:z([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&b?s.createElement(Y.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:i.Pop}},b):b}function ae(){let e=function(){var e;let t=s.useContext(X),n=pe(he.UseRouteError),r=me(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const oe=s.createElement(ae,null);class le extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(J.Provider,{value:this.props.routeContext},s.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext($);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(J.Provider,{value:t},r)}function ue(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,i)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||oe,c&&(u<0&&0===i?(p="route-fallback",!1||ge[p]||(ge[p]=!0),d=!0,f=null):u===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=a?h:d?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function fe(e){let t=s.useContext($);return t||h(!1),t}function pe(e){let t=s.useContext(Q);return t||h(!1),t}function me(e){let t=function(){let e=s.useContext(J);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const ge={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:i}=e;ee()||h(!1);let{future:a,static:o}=s.useContext(Z),{matches:l}=s.useContext(J),{pathname:c}=te(),u=re(),d=U(t,F(l,a.v7_relativeSplatPath),c,"path"===i),f=JSON.stringify(d);return s.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function be(e){h(!1)}function we(e){let{basename:t="/",children:n=null,location:r,navigationType:a=i.Pop,navigator:o,static:l=!1,future:c}=e;ee()&&h(!1);let u=t.replace(/^\/*/,"/"),d=s.useMemo(()=>({basename:u,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof r&&(r=y(r));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=r,b=s.useMemo(()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:a}},[u,f,p,m,g,v,a]);return null==b?null:s.createElement(Z.Provider,{value:d},s.createElement(Y.Provider,{children:n,value:b}))}function xe(e){let{children:t,location:n}=e;return se(_e(t),n)}new Promise(()=>{});s.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,_e(e.props.children,i));e.type!==be&&h(!1),e.props.index&&e.props.children&&h(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=_e(e.props.children,i)),n.push(a)}),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Se=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(qe){}const Te=s.createContext({isTransitioning:!1});new Map;const Ce=a.startTransition;c.flushSync,a.useId;function Ie(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return m("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:g(t)},null,o)));let l=a.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=s.useCallback(e=>{d&&Ce?Ce(()=>u(e)):u(e)},[u,d]);return s.useLayoutEffect(()=>l.listen(h),[l,h]),s.useEffect(()=>ye(r),[r]),s.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=s.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=ke(e,Ne),{basename:m}=s.useContext(Z),y=!1;if("string"===typeof u&&Ae.test(u)&&(n=u,je))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=D(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(qe){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||h(!1);let{basename:r,navigator:i}=s.useContext(Z),{hash:a,pathname:o,search:l}=ie(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:z([r,o])),i.createHref({pathname:c,search:l,hash:a})}(u,{relative:i}),b=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=re(),u=te(),d=ie(e,{relative:o});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,i,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});return s.createElement("a",Ee({},p,{href:n||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});const Pe=s.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:c,children:u}=e,d=ke(e,Se),f=ie(l,{relative:d.relative}),p=te(),m=s.useContext(Q),{navigator:g,basename:y}=s.useContext(Z),v=null!=m&&function(e,t){void 0===t&&(t={});let n=s.useContext(Te);null==n&&h(!1);let{basename:r}=Le(Oe.useViewTransitionState),i=ie(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=D(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=D(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=P(i.pathname,o)||null!=P(i.pathname,a)}(f)&&!0===c,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&y&&(x=D(x,y)||x);const _="/"!==b&&b.endsWith("/")?b.length-1:b.length;let E,k=w===b||!a&&w.startsWith(b)&&"/"===w.charAt(_),N=null!=x&&(x===b||!a&&x.startsWith(b)&&"/"===x.charAt(b.length)),S={isActive:k,isPending:N,isTransitioning:v},T=k?n:void 0;E="function"===typeof i?i(S):[i,k?"active":null,N?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof o?o(S):o;return s.createElement(Re,Ee({},d,{"aria-current":T,className:E,ref:t,style:C,to:l,viewTransition:c}),"function"===typeof u?u(S):u)});var Oe,De;function Le(e){let t=s.useContext($);return t||h(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));function Me(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Ue(e){var t=function(e,t){if("object"!=Fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fe(t)?t:t+""}function ze(e,t,n){return(t=Ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach(function(t){ze(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let qe={data:""},We=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||qe,He=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ke=/\/\*[^]*?\*\/|  +/g,Ge=/\n+/g,$e=(e,t)=>{let n="",r="",i="";for(let s in e){let a=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+a+";":r+="f"==s[1]?$e(a,s):s+"{"+$e(a,"k"==s[1]?"":t)+"}":"object"==typeof a?r+=$e(a,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=a&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=$e.p?$e.p(s,a):s+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Qe={},Ze=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Ze(e[n]);return t}return e},Ye=(e,t,n,r,i)=>{let s=Ze(e),a=Qe[s]||(Qe[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!Qe[a]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=He.exec(e.replace(Ke,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ge," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ge," ").trim();return r[0]})(e);Qe[a]=$e(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let o=n&&Qe.g?Qe.g:null;return n&&(Qe.g=Qe[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Qe[a],t,r,o),a};function Je(e){let t=this||{},n=e.call?e(t.p):e;return Ye(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":$e(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,We(t.target),t.g,t.o,t.k)}Je.bind({g:1});let Xe,et,tt,nt=Je.bind({k:1});function rt(e,t){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:et&&et()},o),n.o=/ *go\d+/.test(l),o.className=Je.apply(n,r)+(l?" "+l:""),t&&(o.ref=a);let c=e;return e[0]&&(c=o.as||e,delete o.as),tt&&c[0]&&tt(o),Xe(c,o)}return t?t(i):i}}var it,st,at,ot,lt,ct,ut,dt,ht,ft,pt,mt,gt,yt,vt,bt,wt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,xt=(()=>{let e=0;return()=>(++e).toString()})(),_t=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Et="default",kt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return Be(Be({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return Be(Be({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Be(Be({},e),t.toast):e)});case 2:let{toast:r}=t;return kt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return Be(Be({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?Be(Be({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Be(Be({},e),{},{toasts:[]}):Be(Be({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Be(Be({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return Be(Be({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Be(Be({},e),{},{pauseDuration:e.pauseDuration+s}))})}},Nt=[],St={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Tt={},Ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et;Tt[t]=kt(Tt[t]||St,e),Nt.forEach(e=>{let[n,r]=e;n===t&&r(Tt[t])})},It=e=>Object.keys(Tt).forEach(t=>Ct(e,t)),jt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;return t=>{Ct(t,e)}},At={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Rt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Be(Be({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||xt()})}(t,e,n);return jt(r.toasterId||(e=>Object.keys(Tt).find(t=>Tt[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Pt=(e,t)=>Rt("blank")(e,t);Pt.error=Rt("error"),Pt.success=Rt("success"),Pt.loading=Rt("loading"),Pt.custom=Rt("custom"),Pt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?jt(t)(n):It(n)},Pt.dismissAll=e=>Pt.dismiss(void 0,e),Pt.remove=(e,t)=>{let n={type:4,toastId:e};t?jt(t)(n):It(n)},Pt.removeAll=e=>Pt.remove(void 0,e),Pt.promise=(e,t,n)=>{let r=Pt.loading(t.loading,Be(Be({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?wt(t.success,e):void 0;return i?Pt.success(i,Be(Be({id:r},n),null==n?void 0:n.success)):Pt.dismiss(r),e}).catch(e=>{let i=t.error?wt(t.error,e):void 0;i?Pt.error(i,Be(Be({id:r},n),null==n?void 0:n.error)):Pt.dismiss(r)}),e};var Ot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et,[n,r]=(0,s.useState)(Tt[t]||St),i=(0,s.useRef)(Tt[t]);(0,s.useEffect)(()=>(i.current!==Tt[t]&&r(Tt[t]),Nt.push([t,r]),()=>{let e=Nt.findIndex(e=>{let[n]=e;return n===t});e>-1&&Nt.splice(e,1)}),[t]);let a=n.toasts.map(t=>{var n,r,i;return Be(Be(Be(Be({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||At[t.type],style:Be(Be(Be({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return Be(Be({},n),{},{toasts:a})}(e,t),i=(0,s.useRef)(new Map).current,a=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(i.has(e))return;let n=setTimeout(()=>{i.delete(e),o({type:4,toastId:e})},t);i.set(e,n)},[]);(0,s.useEffect)(()=>{if(r)return;let e=Date.now(),i=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Pt.dismiss(n.id,t),r);n.visible&&Pt.dismiss(n.id)});return()=>{i.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let o=(0,s.useCallback)(jt(t),[t]),l=(0,s.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,s.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),u=(0,s.useCallback)(()=>{r&&o({type:6,time:Date.now()})},[r,o]),d=(0,s.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=t||{},a=n.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=a.findIndex(t=>t.id===e.id),l=a.filter((e,t)=>t<o&&e.visible).length;return a.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,s.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)a(e.id,e.removeDelay);else{let t=i.get(e.id);t&&(clearTimeout(t),i.delete(e.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},Dt=nt(it||(it=Me(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Lt=nt(st||(st=Me(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Mt=nt(at||(at=Me(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Ft=rt("div")(ot||(ot=Me(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Dt,Lt,e=>e.secondary||"#fff",Mt),Ut=nt(lt||(lt=Me(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),zt=rt("div")(ct||(ct=Me(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Ut),Vt=nt(ut||(ut=Me(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Bt=nt(dt||(dt=Me(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),qt=rt("div")(ht||(ht=Me(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Vt,Bt,e=>e.secondary||"#fff"),Wt=rt("div")(ft||(ft=Me(["\n  position: absolute;\n"]))),Ht=rt("div")(pt||(pt=Me(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Kt=nt(mt||(mt=Me(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Gt=rt("div")(gt||(gt=Me(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Kt),$t=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:i}=t;return void 0!==n?"string"==typeof n?s.createElement(Gt,null,n):n:"blank"===r?null:s.createElement(Ht,null,s.createElement(zt,Be({},i)),"loading"!==r&&s.createElement(Wt,null,"error"===r?s.createElement(Ft,Be({},i)):s.createElement(qt,Be({},i))))},Qt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Zt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Yt=rt("div")(yt||(yt=Me(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Jt=rt("div")(vt||(vt=Me(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Xt=s.memo(e=>{let{toast:t,position:n,style:r,children:i}=e,a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=_t()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Qt(n),Zt(n)];return{animation:t?"".concat(nt(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(nt(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},o=s.createElement($t,{toast:t}),l=s.createElement(Jt,Be({},t.ariaProps),wt(t.message,t));return s.createElement(Yt,{className:t.className,style:Be(Be(Be({},a),r),t.style)},"function"==typeof i?i({icon:o,message:l}):s.createElement(s.Fragment,null,o,l))});!function(e,t,n,r){$e.p=t,Xe=e,et=n,tt=r}(s.createElement);var en=e=>{let{id:t,className:n,style:r,onHeightUpdate:i,children:a}=e,o=s.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;i(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return s.createElement("div",{ref:o,className:n,style:r},a)},tn=Je(bt||(bt=Me(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),nn=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:i,children:a,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:d}=Ot(r,o);return s.createElement("div",{"data-rht-toaster":o||"",style:Be({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let r=e.position||n,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Be(Be({left:0,right:0,display:"flex",position:"absolute",transition:_t()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(r,d.calculateOffset(e,{reverseOrder:t,gutter:i,defaultPosition:n}));return s.createElement(en,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?tn:"",style:o},"custom"===e.type?wt(e.message,e):a?a(e):s.createElement(Xt,{toast:e,position:r}))}))},rn=Pt;const sn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},an={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new on;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class on extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ln=function(e){return function(e){const t=sn(e);return an.encodeByteArray(t,!0)}(e).replace(/\./g,"")},cn=function(e){try{return an.decodeString(e,!0)}catch(qe){console.error("base64Decode failed: ",qe)}return null};const un=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,dn=()=>{try{return un()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5000",REACT_APP_ENVIRONMENT:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyDt3ilVFm5BryPqb2DeXPF0mCXiWbvU7H8",REACT_APP_FIREBASE_APP_ID:"1:624853863549:web:b5c22a8c65db67d5949a6a",REACT_APP_FIREBASE_AUTH_DOMAIN:"skillwagers.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-7YFELE6P82",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"624853863549",REACT_APP_FIREBASE_PROJECT_ID:"skillwagers",REACT_APP_FIREBASE_STORAGE_BUCKET:"skillwagers.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(qe){return}const t=e&&cn(e[1]);return t&&JSON.parse(t)})()}catch(qe){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(qe))}},hn=e=>{var t,n;return null===(n=null===(t=dn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},fn=e=>{const t=hn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},pn=()=>{var e;return null===(e=dn())||void 0===e?void 0:e.config},mn=e=>{var t;return null===(t=dn())||void 0===t?void 0:t["_".concat(e)]};class gn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function yn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ln(JSON.stringify({alg:"none",type:"JWT"})),ln(JSON.stringify(s)),""].join(".")}function vn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function bn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function wn(){return!function(){var e;const t=null===(e=dn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(qe){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xn(){try{return"object"===typeof indexedDB}catch(qe){return!1}}function _n(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class En extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}}class kn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Nn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new En(n,s,t)}}const Nn=/\{\$([^}]+)}/g;function Sn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Tn(n)&&Tn(s)){if(!Sn(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Tn(e){return null!==e&&"object"===typeof e}function Cn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function In(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function jn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class An{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Rn),void 0===r.error&&(r.error=Rn),void 0===r.complete&&(r.complete=Rn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(qe){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(qe){"undefined"!==typeof console&&console.error&&console.error(qe)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rn(){}function Pn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function On(e){return e&&e._delegate?e._delegate:e}class Dn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ln="[DEFAULT]";class Mn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new gn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(qe){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(qe){if(r)return null;throw qe}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ln})}catch(qe){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(qe){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ln?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;return this.component?this.component.multipleInstances?e:Ln:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Mn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Un=[];var zn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zn||(zn={}));const Vn={debug:zn.DEBUG,verbose:zn.VERBOSE,info:zn.INFO,warn:zn.WARN,error:zn.ERROR,silent:zn.SILENT},Bn=zn.INFO,qn={[zn.DEBUG]:"log",[zn.VERBOSE]:"log",[zn.INFO]:"info",[zn.WARN]:"warn",[zn.ERROR]:"error"},Wn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=qn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Hn{constructor(e){this.name=e,this._logLevel=Bn,this._logHandler=Wn,this._userLogHandler=null,Un.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Vn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zn.DEBUG,...t),this._logHandler(this,zn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zn.VERBOSE,...t),this._logHandler(this,zn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zn.INFO,...t),this._logHandler(this,zn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zn.WARN,...t),this._logHandler(this,zn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zn.ERROR,...t),this._logHandler(this,zn.ERROR,...t)}}let Kn,Gn;const $n=new WeakMap,Qn=new WeakMap,Zn=new WeakMap,Yn=new WeakMap,Jn=new WeakMap;let Xn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Zn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function er(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gn||(Gn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(rr(this),n),nr($n.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nr(e.apply(rr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(rr(this),t,...r);return Zn.set(s,t.sort?t.sort():[t]),nr(s)}}function tr(e){return"function"===typeof e?er(e):(e instanceof IDBTransaction&&function(e){if(Qn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Qn.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,Kn||(Kn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Xn):e)}function nr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(nr(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&$n.set(t,e)}).catch(()=>{}),Jn.set(t,e),t}(e);if(Yn.has(e))return Yn.get(e);const t=tr(e);return t!==e&&(Yn.set(e,t),Jn.set(t,e)),t}const rr=e=>Jn.get(e);function ir(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=nr(a);return r&&a.addEventListener("upgradeneeded",e=>{r(nr(a.result),e.oldVersion,e.newVersion,nr(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const sr=["get","getKey","getAll","getAllKeys","count"],ar=["put","add","delete","clear"],or=new Map;function lr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(or.get(t))return or.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ar.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!sr.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return or.set(t,s),s}Xn=(e=>Be(Be({},e),{},{get:(t,n,r)=>lr(t,n)||e.get(t,n,r),has:(t,n)=>!!lr(t,n)||e.has(t,n)}))(Xn);class cr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ur="@firebase/app",dr="0.10.13",hr=new Hn("@firebase/app"),fr="@firebase/app-compat",pr="@firebase/analytics-compat",mr="@firebase/analytics",gr="@firebase/app-check-compat",yr="@firebase/app-check",vr="@firebase/auth",br="@firebase/auth-compat",wr="@firebase/database",xr="@firebase/data-connect",_r="@firebase/database-compat",Er="@firebase/functions",kr="@firebase/functions-compat",Nr="@firebase/installations",Sr="@firebase/installations-compat",Tr="@firebase/messaging",Cr="@firebase/messaging-compat",Ir="@firebase/performance",jr="@firebase/performance-compat",Ar="@firebase/remote-config",Rr="@firebase/remote-config-compat",Pr="@firebase/storage",Or="@firebase/storage-compat",Dr="@firebase/firestore",Lr="@firebase/vertexai-preview",Mr="@firebase/firestore-compat",Fr="firebase",Ur="[DEFAULT]",zr={[ur]:"fire-core",[fr]:"fire-core-compat",[mr]:"fire-analytics",[pr]:"fire-analytics-compat",[yr]:"fire-app-check",[gr]:"fire-app-check-compat",[vr]:"fire-auth",[br]:"fire-auth-compat",[wr]:"fire-rtdb",[xr]:"fire-data-connect",[_r]:"fire-rtdb-compat",[Er]:"fire-fn",[kr]:"fire-fn-compat",[Nr]:"fire-iid",[Sr]:"fire-iid-compat",[Tr]:"fire-fcm",[Cr]:"fire-fcm-compat",[Ir]:"fire-perf",[jr]:"fire-perf-compat",[Ar]:"fire-rc",[Rr]:"fire-rc-compat",[Pr]:"fire-gcs",[Or]:"fire-gcs-compat",[Dr]:"fire-fst",[Mr]:"fire-fst-compat",[Lr]:"fire-vertex","fire-js":"fire-js",[Fr]:"fire-js-all"},Vr=new Map,Br=new Map,qr=new Map;function Wr(e,t){try{e.container.addComponent(t)}catch(qe){hr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),qe)}}function Hr(e){const t=e.name;if(qr.has(t))return hr.debug("There were multiple attempts to register component ".concat(t,".")),!1;qr.set(t,e);for(const n of Vr.values())Wr(n,e);for(const n of Br.values())Wr(n,e);return!0}function Kr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Gr(e){return void 0!==e.settings}const $r=new kn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Qr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const Zr="10.14.1";function Yr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ur,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw $r.create("bad-app-name",{appName:String(i)});if(n||(n=pn()),!n)throw $r.create("no-options");const s=Vr.get(i);if(s){if(Sn(n,s.options)&&Sn(r,s.config))return s;throw $r.create("duplicate-app",{appName:i})}const a=new Fn(i);for(const l of qr.values())a.addComponent(l);const o=new Qr(n,r,a);return Vr.set(i,o),o}function Jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur;const t=Vr.get(e);if(!t&&e===Ur&&pn())return Yr();if(!t)throw $r.create("no-app",{appName:e});return t}function Xr(e,t,n){var r;let i=null!==(r=zr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void hr.warn(e.join(" "))}Hr(new Dn("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ei="firebase-heartbeat-store";let ti=null;function ni(){return ti||(ti=ir("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ei)}catch(qe){console.warn(qe)}}}).catch(e=>{throw $r.create("idb-open",{originalErrorMessage:e.message})})),ti}async function ri(e,t){try{const n=(await ni()).transaction(ei,"readwrite"),r=n.objectStore(ei);await r.put(t,ii(e)),await n.done}catch(qe){if(qe instanceof En)hr.warn(qe.message);else{const t=$r.create("idb-set",{originalErrorMessage:null===qe||void 0===qe?void 0:qe.message});hr.warn(t.message)}}}function ii(e){return"".concat(e.name,"!").concat(e.options.appId)}class si{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oi(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ai();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(qe){hr.warn(qe)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ai(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),li(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),li(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ln(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(qe){return hr.warn(qe),""}}}function ai(){return(new Date).toISOString().substring(0,10)}class oi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!xn()&&_n().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ni()).transaction(ei),n=await t.objectStore(ei).get(ii(e));return await t.done,n}catch(qe){if(qe instanceof En)hr.warn(qe.message);else{const t=$r.create("idb-get",{originalErrorMessage:null===qe||void 0===qe?void 0:qe.message});hr.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function li(e){return ln(JSON.stringify({version:2,heartbeats:e})).length}var ci;ci="",Hr(new Dn("platform-logger",e=>new cr(e),"PRIVATE")),Hr(new Dn("heartbeat",e=>new si(e),"PRIVATE")),Xr(ur,dr,ci),Xr(ur,dr,"esm2017"),Xr("fire-js","");function ui(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function di(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hi=di,fi=new kn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pi=new Hn("@firebase/auth");function mi(e){if(pi.logLevel<=zn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pi.error("Auth (".concat(Zr,"): ").concat(e),...n)}}function gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xi(e,...n)}function yi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xi(e,...n)}function vi(e,t,n){const r=Object.assign(Object.assign({},hi()),{[t]:n});return new kn("auth","Firebase",r).create(t,{appName:e.name})}function bi(e){return vi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&gi(e,"argument-error"),vi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function xi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return fi.create(e,...n)}function _i(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xi(t,...r)}}function Ei(e){const t="INTERNAL ASSERTION FAILED: "+e;throw mi(t),new Error(t)}function ki(e,t){e||Ei(t)}function Ni(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Si(){return"http:"===Ti()||"https:"===Ti()}function Ti(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ci{constructor(e,t){this.shortDelay=e,this.longDelay=t,ki(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Si()||bn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ii(e,t){ki(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ji{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ai={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ri=new Ci(3e4,6e4);function Pi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Oi(e,t,n,r){return Di(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Cn(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),ji.fetch()(Mi(e,e.config.apiHost,n,a),l)})}async function Di(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ai),t);try{const t=new Ui(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw zi(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw zi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw zi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw zi(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw vi(e,o,a);gi(e,o)}}catch(qe){if(qe instanceof En)throw qe;gi(e,"network-request-failed",{message:String(qe)})}}async function Li(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Oi(e,t,n,r,i);return"mfaPendingCredential"in s&&gi(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Mi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ii(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Fi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ui{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(yi(this.auth,"network-request-failed")),Ri.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yi(e,t,r);return i.customData._tokenResponse=n,i}function Vi(e){return void 0!==e&&void 0!==e.enterprise}class Bi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Fi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function qi(e,t){return Oi(e,"GET","/v2/recaptchaConfig",Pi(e,t))}async function Wi(e,t){return Oi(e,"POST","/v1/accounts:lookup",t)}function Hi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(qe){}}function Ki(e){return 1e3*Number(e)}function Gi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return mi("JWT malformed, contained fewer than 3 sections"),null;try{const e=cn(n);return e?JSON.parse(e):(mi("Failed to decode base64 JWT payload"),null)}catch(qe){return mi("Caught error parsing JWT payload as JSON",null===qe||void 0===qe?void 0:qe.toString()),null}}function $i(e){const t=Gi(e);return _i(t,"internal-error"),_i("undefined"!==typeof t.exp,"internal-error"),_i("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Qi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(qe){throw qe instanceof En&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(qe)&&e.auth.currentUser===e&&await e.auth.signOut(),qe}}class Zi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(qe){return void((null===qe||void 0===qe?void 0:qe.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Yi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hi(this.lastLoginAt),this.creationTime=Hi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ji(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Qi(e,Wi(n,{idToken:r}));_i(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Xi(s.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Yi(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function Xi(e){return e.map(e=>{var{providerId:t}=e,n=ui(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class es{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_i(e.idToken,"internal-error"),_i("undefined"!==typeof e.idToken,"internal-error"),_i("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):$i(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_i(0!==e.length,"internal-error");const t=$i(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(_i(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Di(e,{},async()=>{const n=Cn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Mi(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ji.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new es;return n&&(_i("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(_i("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(_i("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new es,this.toJSON())}_performRefresh(){return Ei("not implemented")}}function ts(e,t){_i("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ns{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ui(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Qi(this,this.stsTokenManager.getToken(this.auth,e));return _i(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=On(e),r=await n.getIdToken(t),i=Gi(r);_i(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Hi(Ki(i.auth_time)),issuedAtTime:Hi(Ki(i.iat)),expirationTime:Hi(Ki(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=On(e);await Ji(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_i(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_i(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ji(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await Qi(this,async function(e,t){return Oi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=t;_i(v&&_,e,"internal-error");const E=es.fromJSON(this.name,_);_i("string"===typeof v,e,"internal-error"),ts(u,e.name),ts(d,e.name),_i("boolean"===typeof b,e,"internal-error"),_i("boolean"===typeof w,e,"internal-error"),ts(h,e.name),ts(f,e.name),ts(p,e.name),ts(m,e.name),ts(g,e.name),ts(y,e.name);const k=new ns({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(k.providerData=x.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new es;r.updateFromServerResponse(t);const i=new ns({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ji(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];_i(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Xi(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new es;a.updateFromIdToken(n);const o=new ns({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Yi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const rs=new Map;function is(e){ki(e instanceof Function,"Expected a class definition");let t=rs.get(e);return t?(ki(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rs.set(e,t),t)}class ss{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ss.type="NONE";const as=ss;function os(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ls{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=os(this.userKey,r.apiKey,i),this.fullPersistenceKey=os("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ls(is(as),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||is(as);const s=os(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=ns._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new ls(i,e,n)):new ls(i,e,n)}}function cs(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(us(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ms(t))return"Blackberry";if(gs(t))return"Webos";if(ds(t))return"Safari";if((t.includes("chrome/")||hs(t))&&!t.includes("edge/"))return"Chrome";if(ps(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/firefox\//i.test(e)}function ds(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/crios\//i.test(e)}function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/iemobile/i.test(e)}function ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/android/i.test(e)}function ms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/blackberry/i.test(e)}function gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/webos/i.test(e)}function ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vs(){return function(){const e=vn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function bs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return ys(e)||ps(e)||gs(e)||ms(e)||/windows phone/i.test(e)||fs(e)}function ws(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=cs(vn());break;case"Worker":t="".concat(cs(vn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Zr,"/").concat(r)}class xs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(qe){r(qe)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(qe){t.reverse();for(const n of t)try{n()}catch(It){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===qe||void 0===qe?void 0:qe.message})}}}class _s{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Es{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ns(this),this.idTokenSubscription=new Ns(this),this.beforeStateQueue=new xs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=is(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ls.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(qe){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Wi(this,{idToken:e}),n=await ns._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(qe){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(qe))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _i(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(qe){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ji(e)}catch(qe){if((null===qe||void 0===qe?void 0:qe.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(bi(this));const t=e?On(e):null;return t&&_i(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&_i(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Oi(e,"GET","/v2/passwordPolicy",Pi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new _s(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Oi(e,"POST","/v2/accounts:revokeToken",Pi(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&is(e)||this._popupRedirectResolver;_i(t,this,"argument-error"),this.redirectPersistenceManager=await ls.create(this,[is(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_i(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _i(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ws(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(pi.logLevel<=zn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pi.warn("Auth (".concat(Zr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ks(e){return On(e)}class Ns{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new An(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return _i(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ss={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ts(e){return Ss.loadJS(e)}function Cs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Is{constructor(e){this.type="recaptcha-enterprise",this.auth=ks(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Vi(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{qi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Bi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Vi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ss.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ts(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function js(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Is(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function As(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await js(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await js(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function Rs(e,t,n){const r=ks(e);_i(r._canInitEmulator,r,"emulator-config-failed"),_i(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Ps(t),{host:a,port:o}=function(e){const t=Ps(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Os(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Os(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ps(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Os(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ds{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function Ls(e,t){return Oi(e,"POST","/v1/accounts:signUp",t)}async function Ms(e,t){return Li(e,"POST","/v1/accounts:signInWithPassword",Pi(e,t))}async function Fs(e,t){return Oi(e,"POST","/v1/accounts:sendOobCode",Pi(e,t))}async function Us(e,t){return Fs(e,t)}class zs extends Ds{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new zs(e,t,"password")}static _fromEmailAndCode(e,t){return new zs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return As(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ms);case"emailLink":return async function(e,t){return Li(e,"POST","/v1/accounts:signInWithEmailLink",Pi(e,t))}(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return As(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ls);case"emailLink":return async function(e,t){return Li(e,"POST","/v1/accounts:signInWithEmailLink",Pi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Vs(e,t){return Li(e,"POST","/v1/accounts:signInWithIdp",Pi(e,t))}class Bs extends Ds{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ui(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Bs(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Vs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Vs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cn(t)}return e}}const qs={USER_NOT_FOUND:"user-not-found"};class Ws extends Ds{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ws({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ws({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Li(e,"POST","/v1/accounts:signInWithPhoneNumber",Pi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Li(e,"POST","/v1/accounts:signInWithPhoneNumber",Pi(e,t));if(n.temporaryProof)throw zi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Li(e,"POST","/v1/accounts:signInWithPhoneNumber",Pi(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),qs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ws({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Hs{constructor(e){var t,n,r,i,s,a;const o=In(jn(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);_i(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=In(jn(e)).link,n=t?In(jn(t)).deep_link_id:null,r=In(jn(e)).deep_link_id;return(r?In(jn(r)).link:null)||r||n||t||e}(e);try{return new Hs(t)}catch(n){return null}}}class Ks{constructor(){this.providerId=Ks.PROVIDER_ID}static credential(e,t){return zs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Hs.parseLink(t);return _i(n,"argument-error"),zs._fromEmailAndCode(e,n.code,n.tenantId)}}Ks.PROVIDER_ID="password",Ks.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ks.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Gs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $s extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qs extends $s{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch(n){return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qs.PROVIDER_ID="facebook.com";class Zs extends $s{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bs._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch(i){return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com",Zs.PROVIDER_ID="google.com";class Ys extends $s{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch(n){return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com",Ys.PROVIDER_ID="github.com";class Js extends $s{constructor(){super("twitter.com")}static credential(e,t){return Bs._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Js.credential(n,r)}catch(i){return null}}}async function Xs(e,t){return Li(e,"POST","/v1/accounts:signUp",Pi(e,t))}Js.TWITTER_SIGN_IN_METHOD="twitter.com",Js.PROVIDER_ID="twitter.com";class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ns._fromIdTokenResponse(e,n,r),s=ta(n);return new ea({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ta(n);return new ea({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ta(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class na extends En{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,na.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new na(e,t,n,r)}}function ra(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw na._fromErrorAndOperation(e,n,t,r);throw n})}async function ia(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Qi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ea._forOperation(e,"link",r)}async function sa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Gr(r.app))return Promise.reject(bi(r));const i="reauthenticate";try{const s=await Qi(e,ra(r,i,t,e),n);_i(s.idToken,r,"internal-error");const a=Gi(s.idToken);_i(a,r,"internal-error");const{sub:o}=a;return _i(e.uid===o,r,"user-mismatch"),ea._forOperation(e,i,s)}catch(qe){throw(null===qe||void 0===qe?void 0:qe.code)==="auth/".concat("user-not-found")&&gi(r,"user-mismatch"),qe}}async function aa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Gr(e.app))return Promise.reject(bi(e));const r="signIn",i=await ra(e,r,t),s=await ea._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function oa(e,t){return aa(ks(e),t)}function la(e,t,n){var r;_i((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),_i("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_i(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(_i(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ca(e){const t=ks(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ua(e,t,n){const r=ks(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&la(r,i,n),await As(r,i,"getOobCode",Us)}async function da(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=On(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Qi(i,async function(e,t){return Oi(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function ha(e){return On(e).signOut()}new WeakMap;const fa="__sak";class pa{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fa,"1"),this.storage.removeItem(fa),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ma extends pa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bs(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);vs()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ma.type="LOCAL";const ga=ma;class ya extends pa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ya.type="SESSION";const va=ya;class ba{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ba(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function wa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ba.receivers=[];class xa{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=wa("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function _a(){return window}function Ea(){return"undefined"!==typeof _a().WorkerGlobalScope&&"function"===typeof _a().importScripts}const ka="firebaseLocalStorageDb",Na="firebaseLocalStorage",Sa="fbase_key";class Ta{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ca(e,t){return e.transaction([Na],t?"readwrite":"readonly").objectStore(Na)}function Ia(){const e=indexedDB.open(ka,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Na,{keyPath:Sa})}catch(qe){n(qe)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Na)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ka);return new Ta(e).toPromise()}(),t(await Ia()))})})}async function ja(e,t,n){const r=Ca(e,!0).put({[Sa]:t,value:n});return new Ta(r).toPromise()}function Aa(e,t){const n=Ca(e,!0).delete(t);return new Ta(n).toPromise()}class Ra{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ia()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(qe){if(t++>3)throw qe;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ea()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ba._getInstance(Ea()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new xa(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ia();return await ja(e,fa,"1"),await Aa(e,fa),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ja(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Ca(e,!1).get(t),r=await new Ta(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Aa(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ca(e,!1).getAll();return new Ta(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ra.type="LOCAL";const Pa=Ra;Cs("rcb"),new Ci(3e4,6e4);const Oa="recaptcha";async function Da(e,t,n){var r;const i=await n.verify();try{let s;if(_i("string"===typeof i,e,"argument-error"),_i(n.type===Oa,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){_i("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Oi(e,"POST","/v2/accounts/mfaEnrollment:start",Pi(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{_i("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;_i(n,e,"missing-multi-factor-info");const a=await function(e,t){return Oi(e,"POST","/v2/accounts/mfaSignIn:start",Pi(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Oi(e,"POST","/v1/accounts:sendVerificationCode",Pi(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class La{constructor(e){this.providerId=La.PROVIDER_ID,this.auth=ks(e)}verifyPhoneNumber(e,t){return Da(this.auth,e,On(t))}static credential(e,t){return Ws._fromVerification(e,t)}static credentialFromResult(e){const t=e;return La.credentialFromTaggedObject(t)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ws._fromTokenResponse(n,r):null}}function Ma(e,t){return t?is(t):(_i(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}La.PROVIDER_ID="phone",La.PHONE_SIGN_IN_METHOD="phone";class Fa extends Ds{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ua(e){return aa(e.auth,new Fa(e),e.bypassAuthState)}function za(e){const{auth:t,user:n}=e;return _i(n,t,"internal-error"),sa(n,new Fa(e),e.bypassAuthState)}async function Va(e){const{auth:t,user:n}=e;return _i(n,t,"internal-error"),ia(n,new Fa(e),e.bypassAuthState)}class Ba{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(qe){this.reject(qe)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(qe){this.reject(qe)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ua;case"linkViaPopup":case"linkViaRedirect":return Va;case"reauthViaPopup":case"reauthViaRedirect":return za;default:gi(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qa=new Ci(2e3,1e4);class Wa extends Ba{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _i(e,this.auth,"internal-error"),e}async onExecution(){ki(1===this.filter.length,"Popup operations only handle one event");const e=wa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,qa.get())};e()}}Wa.currentPopupAction=null;const Ha=new Map;class Ka extends Ba{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ha.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Qa(t),r=$a(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(qe){e=()=>Promise.reject(qe)}Ha.set(this.auth._key(),e)}return this.bypassAuthState||Ha.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ga(e,t){Ha.set(e._key(),t)}function $a(e){return is(e._redirectPersistence)}function Qa(e){return os("pendingRedirect",e.config.apiKey,e.name)}async function Za(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Gr(e.app))return Promise.reject(bi(e));const r=ks(e),i=Ma(r,t),s=new Ka(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Ya{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xa(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Xa(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ja(e))}saveEventToCache(e){this.cachedEventUids.add(Ja(e)),this.lastProcessedEventTime=Date.now()}}function Ja(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Xa(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const eo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,to=/^https?/;async function no(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Oi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ro(r))return}catch(n){}gi(e,"unauthorized-domain")}function ro(e){const t=Ni(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!to.test(n))return!1;if(eo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const io=new Ci(3e4,6e4);function so(){const e=_a().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ao(e){return new Promise((t,n)=>{var r,i,s;function a(){so(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{so(),n(yi(e,"network-request-failed"))},timeout:io.get()})}if(null===(i=null===(r=_a().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=_a().gapi)||void 0===s?void 0:s.load)){const t=Cs("iframefcb");return _a()[t]=()=>{gapi.load?a():n(yi(e,"network-request-failed"))},Ts("".concat(Ss.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw oo=null,e})}let oo=null;const lo=new Ci(5e3,15e3),co={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ho(e){const t=e.config;_i(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ii(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Zr},i=uo.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Cn(r).slice(1))}async function fo(e){const t=await function(e){return oo=oo||ao(e),oo}(e),n=_a().gapi;return _i(n,e,"internal-error"),t.open({where:document.body,url:ho(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:co,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=yi(e,"network-request-failed"),s=_a().setTimeout(()=>{r(i)},lo.get());function a(){_a().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const po={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(qe){}}}function go(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},po),{width:r.toString(),height:i.toString(),top:s,left:a}),c=vn().toLowerCase();n&&(o=hs(c)?"_blank":n),us(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ys(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new mo(null);const d=window.open(t||"",o,u);_i(d,e,"popup-blocked");try{d.focus()}catch(qe){}return new mo(d)}const yo="__/auth/handler",vo="emulator/auth/handler",bo=encodeURIComponent("fac");async function wo(e,t,n,r,i,s){_i(e.config.authDomain,e,"auth-domain-config-required"),_i(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Zr,eventId:i};if(t instanceof Gs){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof $s){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(bo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yo);return Ii(t,vo)}(e),"?").concat(Cn(o).slice(1)).concat(c)}const xo="webStorageSupport";const _o=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=va,this._completeRedirectFn=Za,this._overrideRedirectResult=Ga}async _openPopup(e,t,n,r){var i;ki(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return go(e,await wo(e,t,n,Ni(),r),wa())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){_a().location.href=e}(await wo(e,t,n,Ni(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ki(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await fo(e),n=new Ya(e);return t.register("authEvent",t=>{_i(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xo,{type:xo},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[xo];void 0!==i&&t(!!i),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=no(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bs()||ds()||ys()}};var Eo="@firebase/auth",ko="1.7.9";class No{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_i(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const So=mn("authIdTokenMaxAge")||300;let To=null;var Co;!function(e){Ss=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=yi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Co="Browser",Hr(new Dn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;_i(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Co,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ws(Co)},c=new Es(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(is);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Hr(new Dn("auth-internal",e=>(e=>new No(e))(ks(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(Eo,ko,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Co)),Xr(Eo,ko,"esm2017");var Io,jo,Ao="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ro={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,jo=Ro.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Io=Ro.Integer=r}).apply("undefined"!==typeof Ao?Ao:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Po,Oo,Do,Lo,Mo,Fo,Uo,zo,Vo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Bo={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Vo&&Vo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout(()=>{throw e},0)}function k(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var N=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new S,e=>e.reset());class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,C=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=N.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(A)}};var A=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(Qe){E(Qe)}var t=N;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function R(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Qe){}return e}();function D(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(et){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,P);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return $(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=X(e);if(l||(e[W]=l=new V(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)$(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=X(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Z(n))}function Z(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=X(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):z(e)}}}function Y(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Z(e),e=n.call(r,t)}return e}function X(e){return(e=e[W])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;x(t=new P(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}d(le,R);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Z(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function be(){P.call(this,"c")}d(ve,P),d(be,P);var we={},xe=null;function _e(){return xe=xe||new ne}function Ee(e){P.call(this,we.La,e)}function ke(e){const t=_e();re(t,new Ee(t))}function Ne(e,t){P.call(this,we.STAT_EVENT,e),this.stat=t}function Se(e){const t=_e();re(t,new Ne(t,e))}function Te(e,t){P.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ie(){this.g=!0}function je(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(Ee,P),we.STAT_EVENT="statevent",d(Ne,P),we.Ma="timingevent",d(Te,P),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ae,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Ae=new Oe;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=yt(ht(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),We(e),e.A=ht(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),jt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=bn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function We(e){e.S=Date.now()+e.I,Ge(e,e.I)}function Ge(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function $e(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ze(e){0==e.j.G||e.J||pn(e.j,e)}function Ye(e){$e(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Je(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||st(n.h,e)))if(!e.K&&st(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(He){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fn(n),nn(n)}un(n),Se(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=it(n.h)&&n.ca){try{n.ca()}catch(He){}n.ca=void 0}}else gn(n,11)}else if((e.K||n.g==e)&&fn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(at(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,gt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=vn(r,r.J?r.ia:null,r.W),a.K){ot(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&($e(o),We(o)),r.g=a}else cn(r);0<n.i.length&&sn(n)}else"stop"!=c[0]&&"close"!=c[0]||gn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?gn(n,7):tn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(He){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Yt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Yt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Jt(this.g)))){this.J||4!=h||7==t||ke(),$e(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Jt(this.g);e="";var s=r.length,a=4==Yt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ye(this),Ze(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Ye(this),Ze(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Je(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Se(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Se(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Je(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),dn(d),d.M=!0,Se(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),Ye(this),Ze(this)}else je(this.i,this.l,o,null),Je(this,o);4==h&&Ye(this),this.o&&!this.J&&(4==h?pn(this.j,this):(this.o=!1,We(this)))}else(function(e){const t={};e=(e.g&&2<=Yt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ye(this),Ze(this)}}}catch(Ot){}},De.prototype.cancel=function(){this.J=!0,Ye(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(ke(),Se(17)),Ye(this),this.s=2,Ze(this)):Ge(this,this.S-e)};var tt=class{constructor(e,t){this.g=e,this.map=t}};function nt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function st(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function at(e,t){e.g?e.g.add(t):e.h=t}function ot(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}nt.prototype.cancel=function(){if(this.i=lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof dt){this.h=e.h,ft(this,e.j),this.o=e.o,this.g=e.g,pt(this,e.s),this.l=e.l;var t=e.i,n=new St;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mt(this,n),this.m=e.m}else e&&(t=String(e).match(ut))?(this.h=!1,ft(this,t[1]||"",!0),this.o=vt(t[2]||""),this.g=vt(t[3]||"",!0),pt(this,t[4]),this.l=vt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=vt(t[7]||"")):(this.h=!1,this.i=new St(null,this.h))}function ht(e){return new dt(e)}function ft(e,t,n){e.j=n?vt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function mt(e,t,n){t instanceof St?(e.i=t,function(e,t){t&&!e.j&&(Tt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ct(this,t),jt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=bt(t,kt)),e.i=new St(t,e.h))}function gt(e,t,n){e.i.set(t,n)}function yt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bt(t,xt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,xt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?Et:_t,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,Nt)),e.join("")};var xt=/[#\/\?@]/g,_t=/[#\?:]/g,Et=/[#\?]/g,kt=/[#\?@]/g,Nt=/#/g;function St(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ct(e,t){Tt(e),t=At(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return Tt(e),t=At(e,t),e.g.has(t)}function jt(e,t,n){Ct(e,t),0<n.length&&(e.i=null,e.g.set(At(e,t),h(n)),e.h+=n.length)}function At(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Rt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(et){}}function Pt(){this.g=new fe}function Dt(e,t,n){const r=n||"";try{ct(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(qe){throw t.push(r+"type="+encodeURIComponent("_badmap")),qe}}function Lt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Mt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ft(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ut(e){e.readyState=4,e.l=null,e.j=null,e.v=null,zt(e)}function zt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Vt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Bt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gt(e,t,n))}function qt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=St.prototype).add=function(e,t){Tt(this),this.i=null,e=At(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Tt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Tt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Tt(this);let t=[];if("string"===typeof e)It(this,e)&&(t=t.concat(this.g.get(At(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Tt(this),this.i=null,It(this,e=At(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Lt,pe),Lt.prototype.g=function(){return new Mt(this.l,this.j)},Lt.prototype.i=function(e){return function(){return e}}({}),d(Mt,ne),(e=Mt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,zt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ut(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ft(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ut(this):zt(this),3==this.readyState&&Ft(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ut(this))},e.Qa=function(e){this.g&&(this.response=e,Ut(this))},e.ga=function(){this.g&&Ut(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(qt,ne);var Wt=/^https?$/i,Ht=["POST","PUT"];function Kt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Gt(e),Qt(e)}function Gt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function $t(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Yt(e)||2!=e.Z()))if(e.u&&4==Yt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Yt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(ut)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Wt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Yt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Gt(e)}}finally{Qt(e)}}}function Qt(e,t){if(e.g){Zt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(qe){}}}function Zt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Yt(e){return e.g?e.g.readyState:0}function Jt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Xt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function en(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xt("baseRetryDelayMs",5e3,e),this.cb=Xt("retryDelaySeedMs",1e4,e),this.Wa=Xt("forwardChannelMaxRetries",2,e),this.wa=Xt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new nt(e&&e.concurrentRequestLimit),this.Da=new Pt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tn(e){if(rn(e),3==e.G){var t=e.U++,n=ht(e.I);if(gt(n,"SID",e.K),gt(n,"RID",t),gt(n,"TYPE","terminate"),on(e,n),(t=new De(e,e.j,t)).L=2,t.v=yt(ht(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(Xe){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=bn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),We(t)}yn(e)}function nn(e){e.g&&(dn(e),e.g.cancel(),e.g=null)}function rn(e){nn(e),e.u&&(i.clearTimeout(e.u),e.u=null),fn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function sn(e){if(!rt(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||j(),C||(T(),C=!0),I.add(t,e),e.B=0}}function an(e,t){var n;n=t?t.l:e.U++;const r=ht(e.I);gt(r,"SID",e.K),gt(r,"RID",n),gt(r,"AID",e.T),on(e,r),e.m&&e.o&&Bt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=ln(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),at(e.h,n),Ue(n,r,t)}function on(e,t){e.H&&v(e.H,function(e,n){gt(t,n,e)}),e.l&&ct({},function(e,n){gt(t,n,e)})}function ln(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Dt(o,e,"req"+n+"_")}catch(Ot){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function cn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||j(),C||(T(),C=!0),I.add(t,e),e.v=0}}function un(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),mn(e,e.v)),e.v++,!0)}function dn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function hn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ht(e.qa);gt(t,"RID","rpc"),gt(t,"SID",e.K),gt(t,"AID",e.T),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&gt(t,"TO",e.ja),gt(t,"TYPE","xmlhttp"),on(e,t),e.m&&e.o&&Bt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=yt(ht(t)),n.m=null,n.P=!0,ze(n,e)}function fn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function pn(e,t){var n=null;if(e.g==t){fn(e),dn(e),e.g=null;var r=2}else{if(!st(e.h,t))return;n=t.D,ot(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Te(r,n)),sn(e)}else cn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),mn(e,e.B)),e.B++,!0))}(e,t)||2==r&&un(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:gn(e,5);break;case 4:gn(e,10);break;case 3:gn(e,6);break;default:gn(e,2)}}function mn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function gn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ft(r,"https"),yt(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=u(Rt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Rt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Rt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Rt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout(()=>{n.abort(),Rt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Rt(0,0,!0,t):Rt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Rt(0,0,!1,t)})}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),yn(e),rn(e)}function yn(e){if(e.G=0,e.ka=[],e.l){const t=lt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function vn(e,t,n){var r=n instanceof dt?ht(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),pt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new dt(null);r&&ft(a,r),t&&(a.g=t),s&&pt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&gt(r,n,t),gt(r,"VER",e.la),on(e,r),r}function bn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new qt(new Lt({eb:n})):new qt(e.pa)).Ha(e.J),t}function wn(){}function xn(){}function _n(e,t){ne.call(this),this.g=new en(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nn(this)}function En(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kn(){be.call(this),this.status=1}function Nn(e){this.g=e}(e=qt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(et){return void Kt(this,et)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ht,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zt(this),this.u=!0,this.g.send(e),this.u=!1}catch(et){Kt(this,et)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qt(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch(Ke){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Ke){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=en.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=vn(this,null,this.W),sn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ln(this,i,t),gt(n=ht(this.I),"RID",e),gt(n,"CVER",22),this.D&&gt(n,"X-HTTP-Session-Id",this.D),on(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Vt(s)))+"&"+t:this.m&&Bt(n,this.m,s)),at(this.h,i),this.Ua&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",t),gt(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?an(this,e):0==this.i.length||rt(this.h)||an(this))},e.Fa=function(){if(this.u=null,hn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),nn(this),hn(this))},e.Za=function(){null!=this.C&&(this.C=null,nn(this),un(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=wn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},xn.prototype.g=function(e,t){return new _n(e,t)},d(_n,ne),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){tn(this.g)},_n.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new tt(t.Ya++,e)),3==t.G&&sn(t)},_n.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,_n.aa.N.call(this)},d(En,ve),d(kn,be),d(Nn,wn),Nn.prototype.ua=function(){re(this.g,"a")},Nn.prototype.ta=function(e){re(this.g,new En(e))},Nn.prototype.sa=function(e){re(this.g,new kn)},Nn.prototype.ra=function(){re(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,zo=Bo.createWebChannelTransport=function(){return new xn},Uo=Bo.getStatEventTarget=function(){return _e()},Fo=Bo.Event=we,Mo=Bo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Lo=Bo.ErrorCode=Re,Pe.COMPLETE="complete",Do=Bo.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Oo=Bo.WebChannel=ge,Bo.FetchXmlHttpFactory=Lt,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Po=Bo.XhrIo=qt}).apply("undefined"!==typeof Vo?Vo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const qo="@firebase/firestore";class Wo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wo.UNAUTHENTICATED=new Wo(null),Wo.GOOGLE_CREDENTIALS=new Wo("google-credentials-uid"),Wo.FIRST_PARTY=new Wo("first-party-uid"),Wo.MOCK_USER=new Wo("mock-user");let Ho="10.14.0";const Ko=new Hn("@firebase/firestore");function Go(){return Ko.logLevel}function $o(e){if(Ko.logLevel<=zn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Yo);Ko.debug("Firestore (".concat(Ho,"): ").concat(e),...i)}}function Qo(e){if(Ko.logLevel<=zn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Yo);Ko.error("Firestore (".concat(Ho,"): ").concat(e),...i)}}function Zo(e){if(Ko.logLevel<=zn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Yo);Ko.warn("Firestore (".concat(Ho,"): ").concat(e),...i)}}function Yo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(We){return e}}function Jo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ho,") INTERNAL ASSERTION FAILED: ")+e;throw Qo(t),new Error(t)}function Xo(e,t){e||Jo()}function el(e,t){return e}const tl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nl extends En{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class rl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class il{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class sl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wo.UNAUTHENTICATED))}shutdown(){}}class al{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ol{constructor(e){this.t=e,this.currentUser=Wo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xo(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new rl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rl,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{$o("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):($o("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rl)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?($o("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xo("string"==typeof t.accessToken),new il(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xo(null===e||"string"==typeof e),new Wo(e)}}class ll{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Wo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cl{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ll(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ul{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dl{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Xo(void 0===this.o);const n=e=>{null!=e.error&&$o("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,$o("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{$o("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):$o("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Xo("string"==typeof e.token),this.R=e.token,new ul(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class fl{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=hl(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function pl(e,t){return e<t?-1:e>t?1:0}function ml(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class gl{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nl(tl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nl(tl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new nl(tl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nl(tl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gl.fromMillis(Date.now())}static fromDate(e){return gl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new gl(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pl(this.nanoseconds,e.nanoseconds):pl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yl{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yl(e)}static min(){return new yl(new gl(0,0))}static max(){return new yl(new gl(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Jo(),void 0===n?n=e.length-t:n>e.length-t&&Jo(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===vl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bl extends vl{construct(e,t,n){return new bl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new nl(tl.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new bl(e)}static emptyPath(){return new bl([])}}const wl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xl extends vl{construct(e,t,n){return new xl(e,t,n)}static isValidIdentifier(e){return wl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xl(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new nl(tl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new nl(tl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new nl(tl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new nl(tl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xl(t)}static emptyPath(){return new xl([])}}class _l{constructor(e){this.path=e}static fromPath(e){return new _l(bl.fromString(e))}static fromName(e){return new _l(bl.fromString(e).popFirst(5))}static empty(){return new _l(bl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _l(new bl(e.slice()))}}class El{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}El.UNKNOWN_ID=-1;function kl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=yl.fromTimestamp(1e9===r?new gl(n+1,0):new gl(n,r));return new Sl(i,_l.empty(),t)}function Nl(e){return new Sl(e.readTime,e.key,-1)}class Sl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Sl(yl.min(),_l.empty(),-1)}static max(){return new Sl(yl.max(),_l.empty(),-1)}}function Tl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=_l.comparator(e.documentKey,t.documentKey),0!==n?n:pl(e.largestBatchId,t.largestBatchId))}const Cl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Il{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function jl(e){if(e.code!==tl.FAILED_PRECONDITION||e.message!==Cl)throw e;$o("LocalStore","Unexpectedly lost primary lease")}class Al{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Al((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Al?t:Al.resolve(t)}catch(e){return Al.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Al.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Al.reject(t)}static resolve(e){return new Al((t,n)=>{t(e)})}static reject(e){return new Al((t,n)=>{n(e)})}static waitFor(e){return new Al((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Al.resolve(!1);for(const n of e)t=t.next(e=>e?Al.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Al((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Al((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Rl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pl(e){return"IndexedDbTransactionError"===e.name}class Ol{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Dl(e){return null==e}function Ll(e){return 0===e&&1/e==-1/0}function Ml(e){return"number"==typeof e&&Number.isInteger(e)&&!Ll(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ol.oe=-1;const Fl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ul=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zl=Ul,Vl=[...zl,"indexConfiguration","indexState","indexEntries"];function Bl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ql(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Hl{constructor(e,t){this.comparator=e,this.root=t||Gl.EMPTY}insert(e,t){return new Hl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gl.BLACK,null,null))}remove(e){return new Hl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kl(this.root,e,this.comparator,!0)}}class Kl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Gl.RED,this.left=null!=r?r:Gl.EMPTY,this.right=null!=i?i:Gl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Gl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Gl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Gl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Jo();if(this.right.isRed())throw Jo();const e=this.left.check();if(e!==this.right.check())throw Jo();return e+(this.isRed()?0:1)}}Gl.EMPTY=null,Gl.RED=!0,Gl.BLACK=!1,Gl.EMPTY=new class{constructor(){this.size=0}get key(){throw Jo()}get value(){throw Jo()}get color(){throw Jo()}get left(){throw Jo()}get right(){throw Jo()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Gl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $l{constructor(e){this.comparator=e,this.data=new Hl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ql(this.data.getIterator())}getIteratorFrom(e){return new Ql(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof $l))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $l(this.comparator);return t.data=e,t}}class Ql{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zl{constructor(e){this.fields=e,e.sort(xl.comparator)}static empty(){return new Zl([])}unionWith(e){let t=new $l(xl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Zl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Yl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Yl("Invalid base64 string: "+e):e}}(e);return new Jl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Jl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jl.EMPTY_BYTE_STRING=new Jl("");const Xl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ec(e){if(Xo(!!e),"string"==typeof e){let t=0;const n=Xl.exec(e);if(Xo(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:tc(e.seconds),nanos:tc(e.nanos)}}function tc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function nc(e){return"string"==typeof e?Jl.fromBase64String(e):Jl.fromUint8Array(e)}function rc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ic(e){const t=e.mapValue.fields.__previous_value__;return rc(t)?ic(t):t}function sc(e){const t=ec(e.mapValue.fields.__local_write_time__.timestampValue);return new gl(t.seconds,t.nanos)}class ac{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class oc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}const lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rc(e)?4:Nc(e)?9007199254740991:Ec(e)?10:11:Jo()}function uc(e,t){if(e===t)return!0;const n=cc(e);if(n!==cc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sc(e).isEqual(sc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ec(e.timestampValue),r=ec(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return nc(e.bytesValue).isEqual(nc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return tc(e.geoPointValue.latitude)===tc(t.geoPointValue.latitude)&&tc(e.geoPointValue.longitude)===tc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return tc(e.integerValue)===tc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=tc(e.doubleValue),r=tc(t.doubleValue);return n===r?Ll(n)===Ll(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ml(e.arrayValue.values||[],t.arrayValue.values||[],uc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bl(n)!==Bl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!uc(n[i],r[i])))return!1;return!0}(e,t);default:return Jo()}}function dc(e,t){return void 0!==(e.values||[]).find(e=>uc(e,t))}function hc(e,t){if(e===t)return 0;const n=cc(e),r=cc(t);if(n!==r)return pl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=tc(e.integerValue||e.doubleValue),r=tc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return fc(e.timestampValue,t.timestampValue);case 4:return fc(sc(e),sc(t));case 5:return pl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=nc(e),r=nc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=pl(n[i],r[i]);if(0!==e)return e}return pl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=pl(tc(e.latitude),tc(t.latitude));return 0!==n?n:pl(tc(e.longitude),tc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return pc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=pl((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:pc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===lc.mapValue&&t===lc.mapValue)return 0;if(e===lc.mapValue)return 1;if(t===lc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=pl(r[a],s[a]);if(0!==e)return e;const t=hc(n[r[a]],i[s[a]]);if(0!==t)return t}return pl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Jo()}}function fc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return pl(e,t);const n=ec(e),r=ec(t),i=pl(n.seconds,r.seconds);return 0!==i?i:pl(n.nanos,r.nanos)}function pc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=hc(n[i],r[i]);if(e)return e}return pl(n.length,r.length)}function mc(e){return gc(e)}function gc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ec(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return nc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return _l.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=gc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(gc(e.fields[i]));return n+"}"}(e.mapValue):Jo()}function yc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function vc(e){return!!e&&"integerValue"in e}function bc(e){return!!e&&"arrayValue"in e}function wc(e){return!!e&&"nullValue"in e}function xc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _c(e){return!!e&&"mapValue"in e}function Ec(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ql(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=kc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Nc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Sc{constructor(e){this.value=e}static empty(){return new Sc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!_c(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(t)}setAll(e){let t=xl.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=kc(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());_c(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return uc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];_c(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ql(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Sc(kc(this.value))}}function Tc(e){const t=[];return ql(e.fields,(e,n)=>{const r=new xl([e]);if(_c(n)){const e=Tc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Zl(t)}class Cc{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Cc(e,0,yl.min(),yl.min(),yl.min(),Sc.empty(),0)}static newFoundDocument(e,t,n,r){return new Cc(e,1,t,yl.min(),n,r,0)}static newNoDocument(e,t){return new Cc(e,2,t,yl.min(),yl.min(),Sc.empty(),0)}static newUnknownDocument(e,t){return new Cc(e,3,t,yl.min(),yl.min(),Sc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ic{constructor(e,t){this.position=e,this.inclusive=t}}function jc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?_l.comparator(_l.fromName(a.referenceValue),n.key):hc(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ac(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!uc(e.position[n],t.position[n]))return!1;return!0}class Rc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Pc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Oc{}class Dc extends Oc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new qc(e,t,n):"array-contains"===t?new Gc(e,n):"in"===t?new $c(e,n):"not-in"===t?new Qc(e,n):"array-contains-any"===t?new Zc(e,n):new Dc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Wc(e,n):new Hc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hc(t,this.value)):null!==t&&cc(this.value)===cc(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jo()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lc extends Oc{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Lc(e,t)}matches(e){return Mc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Mc(e){return"and"===e.op}function Fc(e){return Uc(e)&&Mc(e)}function Uc(e){for(const t of e.filters)if(t instanceof Lc)return!1;return!0}function zc(e){if(e instanceof Dc)return e.field.canonicalString()+e.op.toString()+mc(e.value);if(Fc(e))return e.filters.map(e=>zc(e)).join(",");{const t=e.filters.map(e=>zc(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Vc(e,t){return e instanceof Dc?function(e,t){return t instanceof Dc&&e.op===t.op&&e.field.isEqual(t.field)&&uc(e.value,t.value)}(e,t):e instanceof Lc?function(e,t){return t instanceof Lc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Vc(n,t.filters[r]),!0)}(e,t):void Jo()}function Bc(e){return e instanceof Dc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(mc(e.value))}(e):e instanceof Lc?function(e){return e.op.toString()+" {"+e.getFilters().map(Bc).join(" ,")+"}"}(e):"Filter"}class qc extends Dc{constructor(e,t,n){super(e,t,n),this.key=_l.fromName(n.referenceValue)}matches(e){const t=_l.comparator(e.key,this.key);return this.matchesComparison(t)}}class Wc extends Dc{constructor(e,t){super(e,"in",t),this.keys=Kc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Hc extends Dc{constructor(e,t){super(e,"not-in",t),this.keys=Kc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Kc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>_l.fromName(e.referenceValue))}class Gc extends Dc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bc(t)&&dc(t.arrayValue,this.value)}}class $c extends Dc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&dc(this.value.arrayValue,t)}}class Qc extends Dc{constructor(e,t){super(e,"not-in",t)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!dc(this.value.arrayValue,t)}}class Zc extends Dc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>dc(this.value.arrayValue,e))}}class Yc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function Jc(e){return new Yc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xc(e){const t=el(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>zc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Dl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>mc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>mc(e)).join(",")),t.ue=e}return t.ue}function eu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Pc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Vc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ac(e.startAt,t.startAt)&&Ac(e.endAt,t.endAt)}function tu(e){return _l.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class nu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ru(e,t,n,r,i,s,a,o){return new nu(e,t,n,r,i,s,a,o)}function iu(e){return new nu(e)}function su(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function au(e){return null!==e.collectionGroup}function ou(e){const t=el(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new $l(xl.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Rc(r,n))}),e.has(xl.keyField().canonicalString())||t.ce.push(new Rc(xl.keyField(),n))}return t.ce}function lu(e){const t=el(e);return t.le||(t.le=cu(t,ou(e))),t.le}function cu(e,t){if("F"===e.limitType)return Jc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Rc(e.field,t)});const n=e.endAt?new Ic(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ic(e.startAt.position,e.startAt.inclusive):null;return Jc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function uu(e,t){const n=e.filters.concat([t]);return new nu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function du(e,t,n){return new nu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hu(e,t){return eu(lu(e),lu(t))&&e.limitType===t.limitType}function fu(e){return"".concat(Xc(lu(e)),"|lt:").concat(e.limitType)}function pu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Bc(e)).join(", "),"]")),Dl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>mc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>mc(e)).join(",")),"Target(".concat(t,")")}(lu(e)),"; limitType=").concat(e.limitType,")")}function mu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_l.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ou(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=jc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ou(e),t))&&!(e.endAt&&!function(e,t,n){const r=jc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ou(e),t))}(e,t)}function gu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yu(e){return(t,n)=>{let r=!1;for(const i of ou(e)){const e=vu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function vu(e,t,n){const r=e.field.isKeyField()?_l.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hc(r,i):Jo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Jo()}}class bu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ql(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Wl(this.inner)}size(){return this.innerSize}}const wu=new Hl(_l.comparator);function xu(){return wu}const _u=new Hl(_l.comparator);function Eu(){let e=_u;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ku(e){let t=_u;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Nu(){return Tu()}function Su(){return Tu()}function Tu(){return new bu(e=>e.toString(),(e,t)=>e.isEqual(t))}const Cu=new Hl(_l.comparator),Iu=new $l(_l.comparator);function ju(){let e=Iu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Au=new $l(pl);function Ru(){return Au}function Pu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ll(t)?"-0":t}}function Ou(e){return{integerValue:""+e}}function Du(e,t){return Ml(t)?Ou(t):Pu(e,t)}class Lu{constructor(){this._=void 0}}function Mu(e,t,n){return e instanceof zu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&rc(t)&&(t=ic(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vu?Bu(e,t):e instanceof qu?Wu(e,t):function(e,t){const n=Uu(e,t),r=Ku(n)+Ku(e.Pe);return vc(n)&&vc(e.Pe)?Ou(r):Pu(e.serializer,r)}(e,t)}function Fu(e,t,n){return e instanceof Vu?Bu(e,t):e instanceof qu?Wu(e,t):n}function Uu(e,t){return e instanceof Hu?function(e){return vc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class zu extends Lu{}class Vu extends Lu{constructor(e){super(),this.elements=e}}function Bu(e,t){const n=Gu(t);for(const r of e.elements)n.some(e=>uc(e,r))||n.push(r);return{arrayValue:{values:n}}}class qu extends Lu{constructor(e){super(),this.elements=e}}function Wu(e,t){let n=Gu(t);for(const r of e.elements)n=n.filter(e=>!uc(e,r));return{arrayValue:{values:n}}}class Hu extends Lu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ku(e){return tc(e.integerValue||e.doubleValue)}function Gu(e){return bc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class $u{constructor(e,t){this.field=e,this.transform=t}}class Qu{constructor(e,t){this.version=e,this.transformResults=t}}class Zu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zu}static exists(e){return new Zu(void 0,e)}static updateTime(e){return new Zu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ju{}function Xu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new cd(e.key,Zu.none()):new id(e.key,e.data,Zu.none());{const n=e.data,r=Sc.empty();let i=new $l(xl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new sd(e.key,r,new Zl(i.toArray()),Zu.none())}}function ed(e,t,n){e instanceof id?function(e,t,n){const r=e.value.clone(),i=od(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof sd?function(e,t,n){if(!Yu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=od(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ad(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function td(e,t,n,r){return e instanceof id?function(e,t,n,r){if(!Yu(e.precondition,t))return n;const i=e.value.clone(),s=ld(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof sd?function(e,t,n,r){if(!Yu(e.precondition,t))return n;const i=ld(e.fieldTransforms,r,t),s=t.data;return s.setAll(ad(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Yu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function nd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Uu(r.transform,e||null);null!=i&&(null===n&&(n=Sc.empty()),n.set(r.field,i))}return n||null}function rd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ml(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vu&&t instanceof Vu||e instanceof qu&&t instanceof qu?ml(e.elements,t.elements,uc):e instanceof Hu&&t instanceof Hu?uc(e.Pe,t.Pe):e instanceof zu&&t instanceof zu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class id extends Ju{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class sd extends Ju{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ad(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function od(e,t,n){const r=new Map;Xo(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Fu(a,o,n[i]))}return r}function ld(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Mu(e,s,t))}return r}class cd extends Ju{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ud extends Ju{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ed(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=td(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=td(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Su();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Xu(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(yl.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ju())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(e,t)=>rd(e,t))&&ml(this.baseMutations,e.baseMutations,(e,t)=>rd(e,t))}}class hd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xo(e.mutations.length===n.length);let r=Cu;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new hd(e,t,n,r)}}class fd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class pd{constructor(e,t){this.count=e,this.unchangedNames=t}}var md,gd;function yd(e){switch(e){default:return Jo();case tl.CANCELLED:case tl.UNKNOWN:case tl.DEADLINE_EXCEEDED:case tl.RESOURCE_EXHAUSTED:case tl.INTERNAL:case tl.UNAVAILABLE:case tl.UNAUTHENTICATED:return!1;case tl.INVALID_ARGUMENT:case tl.NOT_FOUND:case tl.ALREADY_EXISTS:case tl.PERMISSION_DENIED:case tl.FAILED_PRECONDITION:case tl.ABORTED:case tl.OUT_OF_RANGE:case tl.UNIMPLEMENTED:case tl.DATA_LOSS:return!0}}function vd(e){if(void 0===e)return Qo("GRPC error has no .code"),tl.UNKNOWN;switch(e){case md.OK:return tl.OK;case md.CANCELLED:return tl.CANCELLED;case md.UNKNOWN:return tl.UNKNOWN;case md.DEADLINE_EXCEEDED:return tl.DEADLINE_EXCEEDED;case md.RESOURCE_EXHAUSTED:return tl.RESOURCE_EXHAUSTED;case md.INTERNAL:return tl.INTERNAL;case md.UNAVAILABLE:return tl.UNAVAILABLE;case md.UNAUTHENTICATED:return tl.UNAUTHENTICATED;case md.INVALID_ARGUMENT:return tl.INVALID_ARGUMENT;case md.NOT_FOUND:return tl.NOT_FOUND;case md.ALREADY_EXISTS:return tl.ALREADY_EXISTS;case md.PERMISSION_DENIED:return tl.PERMISSION_DENIED;case md.FAILED_PRECONDITION:return tl.FAILED_PRECONDITION;case md.ABORTED:return tl.ABORTED;case md.OUT_OF_RANGE:return tl.OUT_OF_RANGE;case md.UNIMPLEMENTED:return tl.UNIMPLEMENTED;case md.DATA_LOSS:return tl.DATA_LOSS;default:return Jo()}}(gd=md||(md={}))[gd.OK=0]="OK",gd[gd.CANCELLED=1]="CANCELLED",gd[gd.UNKNOWN=2]="UNKNOWN",gd[gd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gd[gd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gd[gd.NOT_FOUND=5]="NOT_FOUND",gd[gd.ALREADY_EXISTS=6]="ALREADY_EXISTS",gd[gd.PERMISSION_DENIED=7]="PERMISSION_DENIED",gd[gd.UNAUTHENTICATED=16]="UNAUTHENTICATED",gd[gd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gd[gd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gd[gd.ABORTED=10]="ABORTED",gd[gd.OUT_OF_RANGE=11]="OUT_OF_RANGE",gd[gd.UNIMPLEMENTED=12]="UNIMPLEMENTED",gd[gd.INTERNAL=13]="INTERNAL",gd[gd.UNAVAILABLE=14]="UNAVAILABLE",gd[gd.DATA_LOSS=15]="DATA_LOSS";let bd=null;function wd(){return new TextEncoder}const xd=new Io([4294967295,4294967295],0);function _d(e){const t=wd().encode(e),n=new jo;return n.update(t),new Uint8Array(n.digest())}function Ed(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Io([n,r],0),new Io([i,s],0)]}class kd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Nd("Invalid padding: ".concat(t));if(n<0)throw new Nd("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Nd("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Nd("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Io.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Io.fromNumber(n)));return 1===r.compare(xd)&&(r=new Io([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=_d(e),[n,r]=Ed(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new kd(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=_d(e),[n,r]=Ed(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Sd(yl.min(),r,new Hl(pl),xu(),ju())}}class Td{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Td(n,t,ju(),ju(),ju())}}class Cd{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Id{constructor(e,t){this.targetId=e,this.me=t}}class jd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ad{constructor(){this.fe=0,this.ge=Od(),this.pe=Jl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ju(),t=ju(),n=ju();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Jo()}}),new Td(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Od()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xo(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Rd{constructor(e){this.Le=e,this.Be=new Map,this.ke=xu(),this.qe=Pd(),this.Qe=new Hl(pl)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Jo()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(tu(i))if(0===n){const e=new _l(i.path);this.Ue(t,e,Cc.newNoDocument(e,yl.min()))}else Xo(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==bd||bd.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=nc(n).toUint8Array()}catch(e){if(e instanceof Yl)return Zo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new kd(s,r,i)}catch(e){return Zo(e instanceof Nd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&tu(i.target)){const t=new _l(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Cc.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=ju();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new Sd(e,t,this.Qe,this.ke,n);return this.ke=xu(),this.qe=Pd(),this.Qe=new Hl(pl),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ad,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new $l(pl),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||$o("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ad),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Pd(){return new Hl(_l.comparator)}function Od(){return new Hl(_l.comparator)}const Dd={asc:"ASCENDING",desc:"DESCENDING"},Ld={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Md={and:"AND",or:"OR"};class Fd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ud(e,t){return e.useProto3Json||Dl(t)?t:{value:t}}function zd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bd(e,t){return zd(e,t.toTimestamp())}function qd(e){return Xo(!!e),yl.fromTimestamp(function(e){const t=ec(e);return new gl(t.seconds,t.nanos)}(e))}function Wd(e,t){return Hd(e,t).canonicalString()}function Hd(e,t){const n=function(e){return new bl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Kd(e){const t=bl.fromString(e);return Xo(hh(t)),t}function Gd(e,t){return Wd(e.databaseId,t.path)}function $d(e,t){const n=Kd(t);if(n.get(1)!==e.databaseId.projectId)throw new nl(tl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new nl(tl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _l(Jd(n))}function Qd(e,t){return Wd(e.databaseId,t)}function Zd(e){const t=Kd(e);return 4===t.length?bl.emptyPath():Jd(t)}function Yd(e){return new bl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jd(e){return Xo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xd(e,t,n){return{name:Gd(e,t),fields:n.value.mapValue.fields}}function eh(e,t){let n;if(t instanceof id)n={update:Xd(e,t.key,t.value)};else if(t instanceof cd)n={delete:Gd(e,t.key)};else if(t instanceof sd)n={update:Xd(e,t.key,t.data),updateMask:dh(t.fieldMask)};else{if(!(t instanceof ud))return Jo();n={verify:Gd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof zu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof qu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Hu)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Jo()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Jo()}(e,t.precondition)),n}function th(e,t){return{documents:[Qd(e,t.path)]}}function nh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Qd(e,i);const s=function(e){if(0!==e.length)return uh(Lc.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:lh(e.field),direction:sh(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Ud(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function rh(e){let t=Zd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xo(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ih(e);return t instanceof Lc&&Fc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Rc(ch(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Dl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ic(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ic(n,t)}(n.endAt)),ru(t,i,a,s,o,"F",l,c)}function ih(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ch(e.unaryFilter.field);return Dc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ch(e.unaryFilter.field);return Dc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ch(e.unaryFilter.field);return Dc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ch(e.unaryFilter.field);return Dc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jo()}}(e):void 0!==e.fieldFilter?function(e){return Dc.create(ch(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jo()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Lc.create(e.compositeFilter.filters.map(e=>ih(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Jo()}}(e.compositeFilter.op))}(e):Jo()}function sh(e){return Dd[e]}function ah(e){return Ld[e]}function oh(e){return Md[e]}function lh(e){return{fieldPath:e.canonicalString()}}function ch(e){return xl.fromServerFormat(e.fieldPath)}function uh(e){return e instanceof Dc?function(e){if("=="===e.op){if(xc(e.value))return{unaryFilter:{field:lh(e.field),op:"IS_NAN"}};if(wc(e.value))return{unaryFilter:{field:lh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xc(e.value))return{unaryFilter:{field:lh(e.field),op:"IS_NOT_NAN"}};if(wc(e.value))return{unaryFilter:{field:lh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lh(e.field),op:ah(e.op),value:e.value}}}(e):e instanceof Lc?function(e){const t=e.getFilters().map(e=>uh(e));return 1===t.length?t[0]:{compositeFilter:{op:oh(e.op),filters:t}}}(e):Jo()}function dh(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function hh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class fh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yl.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yl.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jl.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new fh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ph{constructor(e){this.ct=e}}function mh(e){const t=rh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?du(t,t.limit,"L"):t}class gh{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(tc(e.integerValue));else if("doubleValue"in e){const n=tc(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Ll(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=ec(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(nc(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Nc(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Ec(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Jo()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(tc(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),_l.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}gh.vt=new gh;class yh{constructor(){this.un=new vh}addToCollectionParentIndex(e,t){return this.un.add(t),Al.resolve()}getCollectionParents(e,t){return Al.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Al.resolve()}deleteFieldIndex(e,t){return Al.resolve()}deleteAllFieldIndexes(e){return Al.resolve()}createTargetIndexes(e,t){return Al.resolve()}getDocumentsMatchingTarget(e,t){return Al.resolve(null)}getIndexType(e,t){return Al.resolve(0)}getFieldIndexes(e,t){return Al.resolve([])}getNextCollectionGroupToUpdate(e){return Al.resolve(null)}getMinOffset(e,t){return Al.resolve(Sl.min())}getMinOffsetFromCollectionGroup(e,t){return Al.resolve(Sl.min())}updateCollectionGroup(e,t,n){return Al.resolve()}updateIndexEntries(e,t){return Al.resolve()}}class vh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new $l(bl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new $l(bl.comparator)).toArray()}}new Uint8Array(0);class bh{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new bh(e,bh.DEFAULT_COLLECTION_PERCENTILE,bh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}bh.DEFAULT_COLLECTION_PERCENTILE=10,bh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bh.DEFAULT=new bh(41943040,bh.DEFAULT_COLLECTION_PERCENTILE,bh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bh.DISABLED=new bh(-1,0,0);class wh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wh(0)}static kn(){return new wh(-1)}}class xh{constructor(){this.changes=new bu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Al.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _h{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Eh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&td(n.mutation,e,Zl.empty(),gl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ju()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ju();const r=Nu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Eu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Nu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ju()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=xu();const s=Tu(),a=Tu();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof sd)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),td(a.mutation,t,a.mutation.getFieldMask(),gl.now())):s.set(t.key,Zl.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new _h(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Tu();let r=new Hl((e,t)=>e-t),i=ju();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Zl.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||ju()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Su();l.forEach(e=>{if(!i.has(e)){const r=Xu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Al.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return _l.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):au(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Al.resolve(Nu());let a=-1,o=i;return s.next(t=>Al.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Al.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,ju())).next(e=>({batchId:a,changes:ku(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _l(t)).next(e=>{let t=Eu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Eu();return this.indexManager.getCollectionParents(e,i).next(a=>Al.forEach(a,a=>{const o=function(e,t){return new nu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Cc.newInvalidDocument(r)))});let n=Eu();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&td(s.mutation,r,Zl.empty(),gl.now()),mu(t,r)&&(n=n.insert(e,r))}),n})}}class kh{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Al.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:qd(e.createTime)}}(t)),Al.resolve()}getNamedQuery(e,t){return Al.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:mh(e.bundledQuery),readTime:qd(e.readTime)}}(t)),Al.resolve()}}class Nh{constructor(){this.overlays=new Hl(_l.comparator),this.Ir=new Map}getOverlay(e,t){return Al.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Nu();return Al.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),Al.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),Al.resolve()}getOverlaysForCollection(e,t,n){const r=Nu(),i=t.length+1,s=new _l(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Al.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Hl((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Nu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Nu(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Al.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new fd(t,n));let i=this.Ir.get(t);void 0===i&&(i=ju(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Sh{constructor(){this.sessionToken=Jl.EMPTY_BYTE_STRING}getSessionToken(e){return Al.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Al.resolve()}}class Th{constructor(){this.Tr=new $l(Ch.Er),this.dr=new $l(Ch.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Ch(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new Ch(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new _l(new bl([])),n=new Ch(t,e),r=new Ch(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new _l(new bl([])),n=new Ch(t,e),r=new Ch(t,e+1);let i=ju();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ch(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ch{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return _l.comparator(e.key,t.key)||pl(e.wr,t.wr)}static Ar(e,t){return pl(e.wr,t.wr)||_l.comparator(e.key,t.key)}}class Ih{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new $l(Ch.Er)}checkEmpty(e){return Al.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new dd(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Ch(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Al.resolve(s)}lookupMutationBatch(e,t){return Al.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return Al.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Al.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Al.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ch(t,0),r=new Ch(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),Al.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $l(pl);return t.forEach(e=>{const t=new Ch(e,0),r=new Ch(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),Al.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;_l.isDocumentKey(i)||(i=i.child(""));const s=new Ch(new _l(i),0);let a=new $l(pl);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},s),Al.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Xo(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Al.forEach(t.mutations,r=>{const i=new Ch(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new Ch(t,0),r=this.br.firstAfterOrEqual(n);return Al.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Al.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jh{constructor(e){this.Mr=e,this.docs=new Hl(_l.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Al.resolve(n?n.document.mutableCopy():Cc.newInvalidDocument(t))}getEntries(e,t){let n=xu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Cc.newInvalidDocument(e))}),Al.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=xu();const s=t.path,a=new _l(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Tl(Nl(a),n)<=0||(r.has(a.key)||mu(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Al.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Jo()}Or(e,t){return Al.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Ah(this)}getSize(e){return Al.resolve(this.size)}}class Ah extends xh{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),Al.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Rh{constructor(e){this.persistence=e,this.Nr=new bu(e=>Xc(e),eu),this.lastRemoteSnapshotVersion=yl.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Th,this.targetCount=0,this.kr=wh.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),Al.resolve()}getLastRemoteSnapshotVersion(e){return Al.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Al.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Al.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Al.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new wh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Al.resolve()}updateTargetData(e,t){return this.Kn(t),Al.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Al.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Al.waitFor(i).next(()=>r)}getTargetCount(e){return Al.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Al.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Al.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Al.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Al.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Al.resolve(n)}containsKey(e,t){return Al.resolve(this.Br.containsKey(t))}}class Ph{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ol(0),this.Kr=!1,this.Kr=!0,this.$r=new Sh,this.referenceDelegate=e(this),this.Ur=new Rh(this),this.indexManager=new yh,this.remoteDocumentCache=function(e){return new jh(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new ph(t),this.Gr=new kh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Ih(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){$o("MemoryPersistence","Starting transaction:",e);const r=new Oh(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return Al.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Oh extends Il{constructor(e){super(),this.currentSequenceNumber=e}}class Dh{constructor(e){this.persistence=e,this.Jr=new Th,this.Yr=null}static Zr(e){return new Dh(e)}get Xr(){if(this.Yr)return this.Yr;throw Jo()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Al.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Al.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Al.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Al.forEach(this.Xr,n=>{const r=_l.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,yl.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Al.or([()=>Al.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Lh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=ju(),r=ju();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Lh(e,t.fromCache,n,r)}}class Mh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Fh{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=wn()?8:Rl(vn())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Mh;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(Go()<=zn.DEBUG&&$o("QueryEngine","SDK will not create cache indexes for query:",pu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Al.resolve()):(Go()<=zn.DEBUG&&$o("QueryEngine","Query:",pu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Go()<=zn.DEBUG&&$o("QueryEngine","The SDK decides to create cache indexes for query:",pu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lu(t))):Al.resolve())}Yi(e,t){if(su(t))return Al.resolve(null);let n=lu(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=du(t,null,"F"),n=lu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=ju(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,du(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return su(t)||r.isEqual(yl.min())?Al.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?Al.resolve(null):(Go()<=zn.DEBUG&&$o("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pu(t)),this.rs(e,s,t,kl(r,-1)).next(e=>e))})}ts(e,t){let n=new $l(yu(e));return t.forEach((t,r)=>{mu(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Go()<=zn.DEBUG&&$o("QueryEngine","Using full collection scan to execute query:",pu(t)),this.Ji.getDocumentsMatchingQuery(e,t,Sl.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Uh{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Hl(pl),this._s=new bu(e=>Xc(e),eu),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Eh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function zh(e,t,n,r){return new Uh(e,t,n,r)}async function Vh(e,t){const n=el(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=ju();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:s}))})})}function Bh(e){const t=el(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function qh(e,t,n){let r=ju(),i=ju();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=xu();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(yl.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):$o("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ps:r,Is:i}})}function Wh(e,t){const n=el(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Hh(e,t){const n=el(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,Al.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new fh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function Kh(e,t,n){const r=el(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Pl(e))throw e;$o("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function Gh(e,t,n){const r=el(e);let i=yl.min(),s=ju();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=el(e),i=r._s.get(n);return void 0!==i?Al.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,lu(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:yl.min(),n?s:ju())).next(e=>($h(r,gu(t),e),{documents:e,Ts:s})))}function $h(e,t,n){let r=e.us.get(t)||yl.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class Qh{constructor(){this.activeTargetIds=Ru()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zh{constructor(){this.so=new Qh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Qh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yh{_o(e){}shutdown(){}}class Jh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$o("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){$o("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xh=null;function ef(){return null===Xh?Xh=268435456+Math.round(2147483648*Math.random()):Xh++,"0x"+Xh.toString(16)}const tf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nf{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const rf="WebChannelConnection";class sf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const s=ef(),a=this.xo(e,t.toUriEncodedString());$o("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then(t=>($o("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw Zo("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ho,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=tf[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=ef();return new Promise((s,a)=>{const o=new Po;o.setWithCredentials(!0),o.listenOnce(Do.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Lo.NO_ERROR:const t=o.getResponseJson();$o(rf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Lo.TIMEOUT:$o(rf,"RPC '".concat(e,"' ").concat(i," timed out")),a(new nl(tl.DEADLINE_EXCEEDED,"Request time out"));break;case Lo.HTTP_ERROR:const n=o.getStatus();if($o(rf,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(tl).indexOf(t)>=0?t:tl.UNKNOWN}(t.status);a(new nl(e,t.message))}else a(new nl(tl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new nl(tl.UNAVAILABLE,"Connection failed."));break;default:Jo()}}finally{$o(rf,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);$o(rf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=ef(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=zo(),a=Uo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");$o(rf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new nf({Io:t=>{h?$o(rf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||($o(rf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),$o(rf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Oo.EventType.OPEN,()=>{h||($o(rf,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),p(u,Oo.EventType.CLOSE,()=>{h||(h=!0,$o(rf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),p(u,Oo.EventType.ERROR,t=>{h||(h=!0,Zo(rf,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new nl(tl.UNAVAILABLE,"The operation could not be completed")))}),p(u,Oo.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];Xo(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){$o(rf,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=md[e];if(void 0!==t)return vd(t)}(t),i=a.message;void 0===n&&(n=tl.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new nl(n,i)),u.close()}else $o(rf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}}),p(a,Fo.STAT_EVENT,t=>{t.stat===Mo.PROXY?$o(rf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Mo.NOPROXY&&$o(rf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function af(){return"undefined"!=typeof document?document:null}function of(e){return new Fd(e,!0)}class lf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&$o("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class cf{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new lf(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===tl.RESOURCE_EXHAUSTED?(Qo(t.toString()),Qo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===tl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new nl(tl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return $o("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():($o("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uf extends cf{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Jo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Xo(void 0===t||"string"==typeof t),Jl.fromBase64String(t||"")):(Xo(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Jl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?tl.UNKNOWN:vd(e.code);return new nl(t,e.message||"")}(a);n=new jd(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=$d(e,r.document.name),s=qd(r.document.updateTime),a=r.document.createTime?qd(r.document.createTime):yl.min(),o=new Sc({mapValue:{fields:r.document.fields}}),l=Cc.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Cd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=$d(e,r.document),s=r.readTime?qd(r.readTime):yl.min(),a=Cc.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Cd([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=$d(e,r.document),s=r.removedTargetIds||[];n=new Cd([],s,i,null)}else{if(!("filter"in t))return Jo();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new pd(r,i),a=e.targetId;n=new Id(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return yl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?yl.min():t.readTime?qd(t.readTime):yl.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Yd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=tu(r)?{documents:th(e,r)}:{query:nh(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Vd(e,t.resumeToken);const r=Ud(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(yl.min())>0){n.readTime=zd(e,t.snapshotVersion.toTimestamp());const r=Ud(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jo()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Yd(this.serializer),t.removeTarget=e,this.a_(t)}}class df extends cf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Xo(!!e.streamToken),this.lastStreamToken=e.streamToken,Xo(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Xo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Xo(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?qd(e.updateTime):qd(t);return n.isEqual(yl.min())&&(n=qd(t)),new Qu(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=qd(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Yd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>eh(this.serializer,e))};this.a_(t)}}class hf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new nl(tl.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Mo(e,Hd(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===tl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new nl(tl.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Lo(e,Hd(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===tl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new nl(tl.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ff{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(Qo(t),this.D_=!1):$o("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class pf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{Ef(this)&&($o("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=el(e);t.L_.add(4),await gf(t),t.q_.set("Unknown"),t.L_.delete(4),await mf(t)}(this))})}),this.q_=new ff(n,r)}}async function mf(e){if(Ef(e))for(const t of e.B_)await t(!0)}async function gf(e){for(const t of e.B_)await t(!1)}function yf(e,t){const n=el(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),_f(n)?xf(n):Bf(n).r_()&&bf(n,t))}function vf(e,t){const n=el(e),r=Bf(n);n.N_.delete(t),r.r_()&&wf(n,t),0===n.N_.size&&(r.r_()?r.o_():Ef(n)&&n.q_.set("Unknown"))}function bf(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bf(e).A_(t)}function wf(e,t){e.Q_.xe(t),Bf(e).R_(t)}function xf(e){e.Q_=new Rd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Bf(e).start(),e.q_.v_()}function _f(e){return Ef(e)&&!Bf(e).n_()&&e.N_.size>0}function Ef(e){return 0===el(e).L_.size}function kf(e){e.Q_=void 0}async function Nf(e){e.q_.set("Online")}async function Sf(e){e.N_.forEach((t,n)=>{bf(e,t)})}async function Tf(e,t){kf(e),_f(e)?(e.q_.M_(t),xf(e)):e.q_.set("Unknown")}async function Cf(e,t,n){if(e.q_.set("Online"),t instanceof jd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){$o("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await If(e,n)}else if(t instanceof Cd?e.Q_.Ke(t):t instanceof Id?e.Q_.He(t):e.Q_.We(t),!n.isEqual(yl.min()))try{const t=await Bh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Jl.EMPTY_BYTE_STRING,r.snapshotVersion)),wf(e,t);const i=new fh(r.target,t,n,r.sequenceNumber);bf(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){$o("RemoteStore","Failed to raise snapshot:",t),await If(e,t)}}async function If(e,t,n){if(!Pl(t))throw t;e.L_.add(1),await gf(e),e.q_.set("Offline"),n||(n=()=>Bh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{$o("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await mf(e)})}function jf(e,t){return t().catch(n=>If(e,n,t))}async function Af(e){const t=el(e),n=qf(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Rf(t);)try{const e=await Wh(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Pf(t,e)}catch(e){await If(t,e)}Of(t)&&Df(t)}function Rf(e){return Ef(e)&&e.O_.length<10}function Pf(e,t){e.O_.push(t);const n=qf(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Of(e){return Ef(e)&&!qf(e).n_()&&e.O_.length>0}function Df(e){qf(e).start()}async function Lf(e){qf(e).p_()}async function Mf(e){const t=qf(e);for(const n of e.O_)t.m_(n.mutations)}async function Ff(e,t,n){const r=e.O_.shift(),i=hd.from(r,t,n);await jf(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Af(e)}async function Uf(e,t){t&&qf(e).V_&&await async function(e,t){if(function(e){return yd(e)&&e!==tl.ABORTED}(t.code)){const n=e.O_.shift();qf(e).s_(),await jf(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Af(e)}}(e,t),Of(e)&&Df(e)}async function zf(e,t){const n=el(e);n.asyncQueue.verifyOperationInProgress(),$o("RemoteStore","RemoteStore received new credentials");const r=Ef(n);n.L_.add(3),await gf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await mf(n)}async function Vf(e,t){const n=el(e);t?(n.L_.delete(2),await mf(n)):t||(n.L_.add(2),await gf(n),n.q_.set("Unknown"))}function Bf(e){return e.K_||(e.K_=function(e,t,n){const r=el(e);return r.w_(),new uf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Nf.bind(null,e),Ro:Sf.bind(null,e),mo:Tf.bind(null,e),d_:Cf.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),_f(e)?xf(e):e.q_.set("Unknown")):(await e.K_.stop(),kf(e))})),e.K_}function qf(e){return e.U_||(e.U_=function(e,t,n){const r=el(e);return r.w_(),new df(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Lf.bind(null,e),mo:Uf.bind(null,e),f_:Mf.bind(null,e),g_:Ff.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Af(e)):(await e.U_.stop(),e.O_.length>0&&($o("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class Wf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Wf(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nl(tl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hf(e,t){if(Qo("AsyncQueue","".concat(t,": ").concat(e)),Pl(e))return new nl(tl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Kf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||_l.comparator(t.key,n.key):(e,t)=>_l.comparator(e.key,t.key),this.keyedMap=Eu(),this.sortedSet=new Hl(this.comparator)}static emptySet(e){return new Kf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Kf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Gf{constructor(){this.W_=new Hl(_l.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Jo():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class $f{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new $f(e,t,Kf.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Qf{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Zf{constructor(){this.queries=Yf(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=el(e),r=n.queries;n.queries=Yf(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new nl(tl.ABORTED,"Firestore shutting down"))}}function Yf(){return new bu(e=>fu(e),hu)}async function Jf(e,t){const n=el(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new Qf,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Hf(e,"Initialization of query '".concat(pu(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&np(n)}async function Xf(e,t){const n=el(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ep(e,t){const n=el(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&np(n)}function tp(e,t,n){const r=el(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function np(e){e.Y_.forEach(e=>{e.next()})}var rp,ip;(ip=rp||(rp={})).ea="default",ip.Cache="cache";class sp{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new $f(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=$f.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rp.Cache}}class ap{constructor(e){this.key=e}}class op{constructor(e){this.key=e}}class lp{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ju(),this.mutatedKeys=ju(),this.Aa=yu(e),this.Ra=new Kf(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Gf,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=mu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jo()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new $f(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Gf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ju(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new op(e))}),this.da.forEach(n=>{e.has(n)||t.push(new ap(n))}),t}ba(e){this.Ta=e.Ts,this.da=ju();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return $f.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class cp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class up{constructor(e){this.key=e,this.va=!1}}class dp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new bu(e=>fu(e),hu),this.Ma=new Map,this.xa=new Set,this.Oa=new Hl(_l.comparator),this.Na=new Map,this.La=new Th,this.Ba={},this.ka=new Map,this.qa=wh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function hp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Pp(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await pp(r,t,n,!0),i}async function fp(e,t){const n=Pp(e);await pp(n,t,!0,!1)}async function pp(e,t,n,r){const i=await Hh(e.localStore,lu(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await mp(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&yf(e.remoteStore,i),o}async function mp(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await Gh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Tp(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await Gh(e.localStore,t,!0),a=new lp(t,s.Ts),o=a.ma(s.documents),l=Td.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Tp(e,n,c.wa);const u=new cp(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function gp(e,t,n){const r=el(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(e=>!hu(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Kh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vf(r.remoteStore,i.targetId),Np(r,i.targetId)}).catch(jl)):(Np(r,i.targetId),await Kh(r.localStore,i.targetId,!0))}async function yp(e,t){const n=el(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vf(n.remoteStore,r.targetId))}async function vp(e,t){const n=el(e);try{const e=await function(e,t){const n=el(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Jl.EMPTY_BYTE_STRING,yl.min()).withLastLimboFreeSnapshotVersion(yl.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Ur.updateTargetData(e,c))});let o=xu(),l=ju();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(qh(e,s,t.documentUpdates).next(e=>{o=e.Ps,l=e.Is})),!r.isEqual(yl.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Al.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.os=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(Xo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Xo(r.va):e.removedDocuments.size>0&&(Xo(r.va),r.va=!1))}),await jp(n,e,t)}catch(e){await jl(e)}}function bp(e,t,n){const r=el(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=el(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&np(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wp(e,t,n){const r=el(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new Hl(_l.comparator);e=e.insert(s,Cc.newNoDocument(s,yl.min()));const n=ju().add(s),i=new Sd(yl.min(),new Map,new Hl(pl),e,n);await vp(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),Ip(r)}else await Kh(r.localStore,t,!1).then(()=>Np(r,t,n)).catch(jl)}async function xp(e,t){const n=el(e),r=t.batch.batchId;try{const e=await function(e,t){const n=el(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Al.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Xo(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ju();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);kp(n,r,null),Ep(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jp(n,e)}catch(e){await jl(e)}}async function _p(e,t,n){const r=el(e);try{const e=await function(e,t){const n=el(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Xo(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);kp(r,t,n),Ep(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await jp(r,e)}catch(n){await jl(n)}}function Ep(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function kp(e,t,n){const r=el(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Np(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||Sp(e,t)})}function Sp(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(vf(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Ip(e))}function Tp(e,t,n){for(const r of n)r instanceof ap?(e.La.addReference(r.key,t),Cp(e,r)):r instanceof op?($o("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Sp(e,r.key)):Jo()}function Cp(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||($o("SyncEngine","New document in limbo: "+n),e.xa.add(r),Ip(e))}function Ip(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new _l(bl.fromString(t)),r=e.qa.next();e.Na.set(r,new up(n)),e.Oa=e.Oa.insert(n,r),yf(e.remoteStore,new fh(lu(iu(n.path)),r,"TargetPurposeLimboResolution",Ol.oe))}}async function jp(e,t,n){const r=el(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,o)=>{a.push(r.Ka(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Lh.Wi(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=el(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Al.forEach(t,t=>Al.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Al.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Pl(e))throw e;$o("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function Ap(e,t){const n=el(e);if(!n.currentUser.isEqual(t)){$o("SyncEngine","User change. New user:",t.toKey());const e=await Vh(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new nl(tl.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await jp(n,e.hs)}}function Rp(e,t){const n=el(e),r=n.Na.get(t);if(r&&r.va)return ju().add(r.key);{let e=ju();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Pp(e){const t=el(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wp.bind(null,t),t.Ca.d_=ep.bind(null,t.eventManager),t.Ca.$a=tp.bind(null,t.eventManager),t}function Op(e){const t=el(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_p.bind(null,t),t}class Dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return zh(this.persistence,new Fh,e.initialUser,this.serializer)}Ga(e){return new Ph(Dh.Zr,this.serializer)}Wa(e){return new Zh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dp.provider={build:()=>new Dp};class Lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>bp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ap.bind(null,this.syncEngine),await Vf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Zf}createDatastore(e){const t=of(e.databaseInfo.databaseId),n=function(e){return new sf(e)}(e.databaseInfo);return function(e,t,n,r){return new hf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new pf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>bp(this.syncEngine,e,0),Jh.D()?new Jh:new Yh)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new dp(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=el(e);$o("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await gf(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Lp.provider={build:()=>new Lp};class Mp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Fp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new nl(tl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=el(e),r={documents:t.map(e=>Gd(n.serializer,e))},i=await n.Lo("BatchGetDocuments",n.serializer.databaseId,bl.emptyPath(),r,t.length),s=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Xo(!!t.found),t.found.name,t.found.updateTime;const n=$d(e,t.found.name),r=qd(t.found.updateTime),i=t.found.createTime?qd(t.found.createTime):yl.min(),s=new Sc({mapValue:{fields:t.found.fields}});return Cc.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Xo(!!t.missing),Xo(!!t.readTime);const n=$d(e,t.missing),r=qd(t.readTime);return Cc.newNoDocument(n,r)}(e,t):Jo()}(n.serializer,e);s.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=s.get(e.toString());Xo(!!t),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new cd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=_l.fromPath(t);this.mutations.push(new ud(n,this.precondition(n)))}),await async function(e,t){const n=el(e),r={writes:t.map(e=>eh(n.serializer,e))};await n.Mo("Commit",n.serializer.databaseId,bl.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jo();t=yl.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new nl(tl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yl.min())?Zu.exists(!1):Zu.updateTime(t):Zu.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yl.min()))throw new nl(tl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zu.updateTime(t)}return Zu.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Up{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this._u=n.maxAttempts,this.t_=new lf(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new Fp(this.datastore),t=this.cu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.lu(e)}))}).catch(e=>{this.lu(e)})})}cu(e){try{const t=this.updateFunction(e);return!Dl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yd(t)}return!1}}class zp{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Wo.UNAUTHENTICATED,this.clientId=fl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{$o("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>($o("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(We){const n=Hf(We,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Vp(e,t){e.asyncQueue.verifyOperationInProgress(),$o("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Vh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Bp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await qp(e);$o("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>zf(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>zf(t.remoteStore,n)),e._onlineComponents=t}async function qp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){$o("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vp(e,e._uninitializedComponentsProvider._offline)}catch(We){const n=We;if(!function(e){return"FirebaseError"===e.name?e.code===tl.FAILED_PRECONDITION||e.code===tl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),await Vp(e,new Dp)}}else $o("FirestoreClient","Using default OfflineComponentProvider"),await Vp(e,new Dp);return e._offlineComponents}async function Wp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?($o("FirestoreClient","Using user provided OnlineComponentProvider"),await Bp(e,e._uninitializedComponentsProvider._online)):($o("FirestoreClient","Using default OnlineComponentProvider"),await Bp(e,new Lp))),e._onlineComponents}function Hp(e){return Wp(e).then(e=>e.syncEngine)}function Kp(e){return Wp(e).then(e=>e.datastore)}async function Gp(e){const t=await Wp(e),n=t.eventManager;return n.onListen=hp.bind(null,t.syncEngine),n.onUnlisten=gp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=fp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=yp.bind(null,t.syncEngine),n}function $p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new rl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Mp({next:o=>{s.Za(),t.enqueueAndForget(()=>Xf(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new nl(tl.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new nl(tl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new sp(iu(n.path),s,{includeMetadataChanges:!0,_a:!0});return Jf(e,a)}(await Gp(e),e.asyncQueue,t,n,r)),r.promise}function Qp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new rl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Mp({next:n=>{s.Za(),t.enqueueAndForget(()=>Xf(e,a)),n.fromCache&&"server"===r.source?i.reject(new nl(tl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new sp(n,s,{includeMetadataChanges:!0,_a:!0});return Jf(e,a)}(await Gp(e),e.asyncQueue,t,n,r)),r.promise}function Zp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Yp=new Map;function Jp(e,t,n){if(!n)throw new nl(tl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xp(e){if(!_l.isDocumentKey(e))throw new nl(tl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function em(e){if(_l.isDocumentKey(e))throw new nl(tl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function tm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Jo()}function nm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new nl(tl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tm(e);throw new nl(tl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function rm(e,t){if(t<=0)throw new nl(tl.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class im{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new nl(tl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new nl(tl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new nl(tl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new nl(tl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new nl(tl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new nl(tl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new im({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nl(tl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new nl(tl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new im(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new sl;switch(e.type){case"firstParty":return new cl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new nl(tl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yp.get(e);t&&($o("ComponentProvider","Removing Datastore"),Yp.delete(e),t.terminate())}(this),Promise.resolve()}}class am{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new am(this.firestore,e,this._query)}}class om{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new om(this.firestore,e,this._key)}}class lm extends am{constructor(e,t,n){super(e,t,iu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new om(this.firestore,null,new _l(e))}withConverter(e){return new lm(this.firestore,e,this._path)}}function cm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=On(e),Jp("collection","path",t),e instanceof sm){const n=bl.fromString(t,...r);return em(n),new lm(e,null,n)}{if(!(e instanceof om||e instanceof lm))throw new nl(tl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(bl.fromString(t,...r));return em(n),new lm(e.firestore,null,n)}}function um(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=On(e),1===arguments.length&&(t=fl.newId()),Jp("doc","path",t),e instanceof sm){const n=bl.fromString(t,...r);return Xp(n),new om(e,null,new _l(n))}{if(!(e instanceof om||e instanceof lm))throw new nl(tl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(bl.fromString(t,...r));return Xp(n),new om(e.firestore,e instanceof lm?e.converter:null,new _l(n))}}class dm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new lf(this,"async_queue_retry"),this.Vu=()=>{const e=af();e&&$o("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=af();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=af();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new rl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(qe){if(!Pl(qe))throw qe;$o("AsyncQueue","Operation failed with retryable error: "+qe)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Qo("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=Wf.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&Jo()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class hm extends sm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new dm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dm(e),this._firestoreClient=void 0,await e}}}function fm(e){if(e._terminated)throw new nl(tl.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||pm(e),e._firestoreClient}function pm(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ac(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Zp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new zp(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class mm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mm(Jl.fromBase64String(e))}catch(e){throw new nl(tl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new mm(Jl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new nl(tl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ym{constructor(e){this._methodName=e}}class vm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nl(tl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nl(tl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pl(this._lat,e._lat)||pl(this._long,e._long)}}class bm{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const wm=/^__.*__$/;class xm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new sd(e,this.data,this.fieldMask,t,this.fieldTransforms):new id(e,this.data,t,this.fieldTransforms)}}class _m{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new sd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Em(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jo()}}class km{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new km(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Em(this.Cu)&&wm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Nm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||of(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new km({Cu:e,methodName:t,qu:n,path:xl.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sm(e){const t=e._freezeSettings(),n=of(e._databaseId);return new Nm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Mm("Data must be an object, but it was:",a,r);const o=Dm(r,a);let l,c;if(s.merge)l=new Zl(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Fm(t,r,n);if(!a.contains(i))throw new nl(tl.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Bm(e,i)||e.push(i)}l=new Zl(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new xm(new Sc(o),l,c)}class Cm extends ym{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cm}}class Im extends ym{_toFieldTransform(e){return new $u(e.path,new zu)}isEqual(e){return e instanceof Im}}class jm extends ym{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new Hu(e.serializer,Du(e.serializer,this.$u));return new $u(e.path,t)}isEqual(e){return e instanceof jm&&this.$u===e.$u}}function Am(e,t,n,r){const i=e.Qu(1,t,n);Mm("Data must be an object, but it was:",i,r);const s=[],a=Sc.empty();ql(r,(e,r)=>{const o=zm(t,e,n);r=On(r);const l=i.Nu(o);if(r instanceof Cm)s.push(o);else{const e=Om(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new Zl(s);return new _m(a,o,i.fieldTransforms)}function Rm(e,t,n,r,i,s){const a=e.Qu(1,t,n),o=[Fm(t,r,n)],l=[i];if(s.length%2!=0)throw new nl(tl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Fm(t,s[h])),l.push(s[h+1]);const c=[],u=Sc.empty();for(let h=o.length-1;h>=0;--h)if(!Bm(c,o[h])){const e=o[h];let t=l[h];t=On(t);const n=a.Nu(e);if(t instanceof Cm)c.push(e);else{const r=Om(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Zl(c);return new _m(u,d,a.fieldTransforms)}function Pm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Om(n,e.Qu(r?4:3,t))}function Om(e,t){if(Lm(e=On(e)))return Mm("Unsupported field value:",t,e),Dm(e,t);if(e instanceof ym)return function(e,t){if(!Em(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Om(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=On(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Du(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=gl.fromDate(e);return{timestampValue:zd(t.serializer,n)}}if(e instanceof gl){const n=new gl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:zd(t.serializer,n)}}if(e instanceof vm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mm)return{bytesValue:Vd(t.serializer,e._byteString)};if(e instanceof om){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Wd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof bm)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return Pu(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(tm(e)))}(e,t)}function Dm(e,t){const n={};return Wl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ql(e,(e,r)=>{const i=Om(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Lm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gl||e instanceof vm||e instanceof mm||e instanceof om||e instanceof ym||e instanceof bm)}function Mm(e,t,n){if(!Lm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=tm(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Fm(e,t,n){if((t=On(t))instanceof gm)return t._internalPath;if("string"==typeof t)return zm(e,t);throw Vm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Um=new RegExp("[~\\*/\\[\\]]");function zm(e,t,n){if(t.search(Um)>=0)throw Vm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new gm(...t.split("."))._internalPath}catch(r){throw Vm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Vm(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new nl(tl.INVALID_ARGUMENT,o+e+l)}function Bm(e,t){return e.some(e=>e.isEqual(t))}class qm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new om(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wm extends qm{data(){return super.data()}}function Hm(e,t){return"string"==typeof t?zm(e,t):t instanceof gm?t._internalPath:t._delegate._internalPath}function Km(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new nl(tl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gm{}class $m extends Gm{}function Qm(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Gm&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Jm).length,n=e.filter(e=>e instanceof Zm).length;if(t>1||t>0&&n>0)throw new nl(tl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Zm extends $m{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Zm(e,t,n)}_apply(e){const t=this._parse(e);return ag(e._query,t),new am(e.firestore,e.converter,uu(e._query,t))}_parse(e){const t=Sm(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new nl(tl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){sg(a,s);const t=[];for(const n of a)t.push(ig(r,e,n));o={arrayValue:{values:t}}}else o=ig(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||sg(a,s),o=Pm(n,t,a,"in"===s||"not-in"===s);return Dc.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Ym(e,t,n){const r=t,i=Hm("where",e);return Zm._create(i,r,n)}class Jm extends Gm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jm(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Lc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ag(n,i),n=uu(n,i)}(e._query,t),new am(e.firestore,e.converter,uu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Xm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(e=>og("or",e)),Jm._create("or",t)}class eg extends $m{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new eg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new nl(tl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new nl(tl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rc(t,n)}(e._query,this._field,this._direction);return new am(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new nu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function tg(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Hm("orderBy",e);return eg._create(n,t)}class ng extends $m{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new ng(e,t,n)}_apply(e){return new am(e.firestore,e.converter,du(e._query,this._limit,this._limitType))}}function rg(e){return rm("limit",e),ng._create("limit",e,"F")}function ig(e,t,n){if("string"==typeof(n=On(n))){if(""===n)throw new nl(tl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!au(t)&&-1!==n.indexOf("/"))throw new nl(tl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(bl.fromString(n));if(!_l.isDocumentKey(r))throw new nl(tl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return yc(e,new _l(r))}if(n instanceof om)return yc(e,n._key);throw new nl(tl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(tm(n),"."))}function sg(e,t){if(!Array.isArray(e)||0===e.length)throw new nl(tl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ag(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new nl(tl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new nl(tl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function og(e,t){if(!(t instanceof Zm||t instanceof Jm))throw new nl(tl.INVALID_ARGUMENT,"Function ".concat(e,"() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'."))}class lg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(cc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Jo()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ql(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>tc(e.doubleValue));return new bm(i)}convertGeoPoint(e){return new vm(tc(e.latitude),tc(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ic(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const t=ec(e);return new gl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=bl.fromString(e);Xo(hh(n));const r=new oc(n.get(1),n.get(3)),i=new _l(n.popFirst(5));return r.isEqual(t)||Qo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function cg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ug extends lg{constructor(e){super(),this.firestore=e}convertBytes(e){return new mm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new om(this.firestore,null,t)}}class dg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hg extends qm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Hm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class fg extends hg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class pg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new dg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new fg(this._firestore,this._userDataWriter,n.key,n,new dg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new nl(tl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new fg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new dg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new fg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:mg(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function mg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jo()}}function gg(e){e=nm(e,om);const t=nm(e.firestore,hm);return $p(fm(t),e._key).then(n=>_g(t,e,n))}class yg extends lg{constructor(e){super(),this.firestore=e}convertBytes(e){return new mm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new om(this.firestore,null,t)}}function vg(e){e=nm(e,am);const t=nm(e.firestore,hm),n=fm(t),r=new yg(t);return Km(e._query),Qp(n,e._query).then(n=>new pg(t,r,e,n))}function bg(e,t,n){e=nm(e,om);const r=nm(e.firestore,hm),i=cg(e.converter,t,n);return xg(r,[Tm(Sm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Zu.none())])}function wg(e,t,n){e=nm(e,om);const r=nm(e.firestore,hm),i=Sm(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=On(t))||t instanceof gm?Rm(i,"updateDoc",e._key,t,n,o):Am(i,"updateDoc",e._key,t),xg(r,[s.toMutation(e._key,Zu.exists(!0))])}function xg(e,t){return function(e,t){const n=new rl;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Op(e);try{const e=await function(e,t){const n=el(e),r=gl.now(),i=t.reduce((e,t)=>e.add(t.key),ju());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=xu(),l=ju();return n.cs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=nd(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new sd(e.key,t,Tc(t.value.mapValue),Zu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:ku(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Hl(pl)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await jp(r,e.changes),await Af(r.remoteStore)}catch(e){const t=Hf(e,"Failed to persist write");n.reject(t)}}(await Hp(e),t,n)),n.promise}(fm(e),t)}function _g(e,t,n){const r=n.docs.get(t._key),i=new yg(e);return new hg(e,i,t._key,r,new dg(n.hasPendingWrites,n.fromCache),t.converter)}const Eg={maxAttempts:5};function kg(e,t){if((e=On(e)).firestore!==t)throw new nl(tl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Ng extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sm(e)}get(e){const t=kg(e,this._firestore),n=new ug(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Jo();const r=e[0];if(r.isFoundDocument())return new qm(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new qm(this._firestore,n,t._key,null,t.converter);throw Jo()})}set(e,t,n){const r=kg(e,this._firestore),i=cg(r.converter,t,n),s=Tm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=kg(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=On(t))||t instanceof gm?Rm(this._dataReader,"Transaction.update",r._key,t,n,a):Am(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=kg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=kg(e,this._firestore),n=new yg(this._firestore);return super.get(e).then(e=>new hg(this._firestore,n,t._key,e._document,new dg(!1,!1),t.converter))}}function Sg(e,t,n){e=nm(e,hm);const r=Object.assign(Object.assign({},Eg),n);return function(e){if(e.maxAttempts<1)throw new nl(tl.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new rl;return e.asyncQueue.enqueueAndForget(async()=>{const i=await Kp(e);new Up(e.asyncQueue,i,n,t,r).au()}),r.promise}(fm(e),n=>t(new Ng(e,n)),r)}function Tg(){return new Im("serverTimestamp")}function Cg(e){return new jm("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ho=e}(Zr),Hr(new Dn("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new hm(new ol(e.getProvider("auth-internal")),new dl(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new nl(tl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xr(qo,"4.7.3",e),Xr(qo,"4.7.3","esm2017")}();Xr("firebase","10.14.1","app");const Ig="firebasestorage.googleapis.com",jg="storageBucket";class Ag extends En{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Og(e),"Firebase Storage: ".concat(t," (").concat(Og(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ag.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Rg,Pg;function Og(e){return"storage/"+e}function Dg(){return new Ag(Rg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Lg(){return new Ag(Rg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Mg(){return new Ag(Rg.CANCELED,"User canceled the upload/download.")}function Fg(){return new Ag(Rg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ug(e){return new Ag(Rg.INVALID_ARGUMENT,e)}function zg(){return new Ag(Rg.APP_DELETED,"The Firebase app was deleted.")}function Vg(e,t){return new Ag(Rg.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Bg(e){throw new Ag(Rg.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Rg||(Rg={}));class qg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=qg.makeFromUrl(e,t)}catch(qe){return new qg(e,"")}if(""===n.path)return n;throw r=e,new Ag(Rg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Ig?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new qg(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Ag(Rg.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Wg{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Hg(e){return"string"===typeof e||e instanceof String}function Kg(e){return Gg()&&e instanceof Blob}function Gg(){return"undefined"!==typeof Blob}function $g(e,t,n,r){if(r<t)throw Ug("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Ug("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Qg(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Zg(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Yg(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Pg||(Pg={}));class Jg{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Xg(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Pg.NO_ERROR,i=n.getStatus();if(!t||Yg(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Pg.ABORT;return void e(!1,new Xg(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Xg(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(qe){r(qe)}else if(null!==i){const e=Dg();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?zg():Mg())}else{r(Lg())}};this.canceled_?t(0,new Xg(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Xg{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function ey(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ty(){const e=ey();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Gg())return new Blob(n);throw new Ag(Rg.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function ny(e){if("undefined"===typeof atob)throw t="base-64",new Ag(Rg.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const ry="raw",iy="base64",sy="base64url",ay="data_url";class oy{constructor(e,t){this.data=e,this.contentType=t||null}}function ly(e,t){switch(e){case ry:return new oy(cy(t));case iy:case sy:return new oy(uy(e,t));case ay:return new oy(function(e){const t=new dy(e);return t.base64?uy(iy,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(qe){throw Vg(ay,"Malformed data URL.")}return cy(t)}(t.rest)}(t),new dy(t).contentType)}throw Dg()}function cy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function uy(e,t){switch(e){case iy:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Vg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case sy:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Vg(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ny(t)}catch(qe){if(qe.message.includes("polyfill"))throw qe;throw Vg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class dy{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Vg(ay,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class hy{constructor(e,t){let n=0,r="";Kg(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Kg(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new hy(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new hy(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Gg()){const e=t.map(e=>e instanceof hy?e.data_:e);return new hy(ty.apply(null,e))}{const e=t.map(e=>Hg(e)?ly(ry,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new hy(r,!0)}}uploadData(){return this.data_}}function fy(e){let t;try{t=JSON.parse(e)}catch(qe){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function py(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function my(e,t){return t}class gy{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||my}}let yy=null;function vy(){if(yy)return yy;const e=[];e.push(new gy("bucket")),e.push(new gy("generation")),e.push(new gy("metageneration")),e.push(new gy("name","fullPath",!0));const t=new gy("name");t.xform=function(e,t){return function(e){return!Hg(e)||e.length<2?e:py(e)}(t)},e.push(t);const n=new gy("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new gy("timeCreated")),e.push(new gy("updated")),e.push(new gy("md5Hash",null,!0)),e.push(new gy("cacheControl",null,!0)),e.push(new gy("contentDisposition",null,!0)),e.push(new gy("contentEncoding",null,!0)),e.push(new gy("contentLanguage",null,!0)),e.push(new gy("contentType",null,!0)),e.push(new gy("metadata","customMetadata",!0)),yy=e,yy}function by(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new qg(n,r);return t._makeStorageReference(i)}})}(r,e),r}function wy(e,t,n){const r=fy(t);if(null===r)return null;return by(e,r,n)}function xy(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class _y{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ey(e){if(!e)throw Dg()}function ky(e,t){return function(n,r){const i=wy(e,r,t);return Ey(null!==i),i}}function Ny(e,t){return function(n,r){const i=wy(e,r,t);return Ey(null!==i),function(e,t,n,r){const i=fy(t);if(null===i)return null;if(!Hg(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(t=>{const i=e.bucket,s=e.fullPath;return Qg("/b/"+a(i)+"/o/"+a(s),n,r)+Zg({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function Sy(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ag(Rg.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Ag(Rg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Ag(Rg.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ag(Rg.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Ty(e){const t=Sy(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Ag(Rg.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Cy(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Iy(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=Cy(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xy(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=hy.getBlob(c,r,u);if(null===d)throw Fg();const h={name:l.fullPath},f=Qg(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new _y(f,"POST",ky(e,n),p);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=Sy(t),m}class jy{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pg.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pg.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pg.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw Bg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(qe){return-1}}getResponse(){if(!this.sent_)throw Bg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Ay extends jy{initXhr(){this.xhr_.responseType="text"}}function Ry(){return new Ay}class Py{constructor(e,t){this._service=e,this._location=t instanceof qg?t:qg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Py(e,t)}get root(){const e=new qg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return py(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new qg(this._location.bucket,e);return new Py(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Ag(Rg.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Oy(e,t,n){e._throwIfRoot("uploadBytes");const r=Iy(e.storage,e._location,vy(),new hy(t,!0),n);return e.storage.makeRequestWithTokens(r,Ry).then(t=>({metadata:t,ref:e}))}function Dy(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Qg(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new _y(r,"GET",Ny(e,n),i);return s.errorHandler=Ty(t),s}(e.storage,e._location,vy());return e.storage.makeRequestWithTokens(t,Ry).then(e=>{if(null===e)throw new Ag(Rg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function Ly(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new qg(e._location.bucket,n);return new Py(e.storage,r)}function My(e,t){if(e instanceof zy){const n=e;if(null==n._bucket)throw new Ag(Rg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jg+"' property when initializing the app?");const r=new Py(n,n._bucket);return null!=t?My(r,t):r}return void 0!==t?Ly(e,t):e}function Fy(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof zy)return function(e,t){return new Py(e,t)}(e,t);throw Ug("To use ref(service, url), the first argument must be a Storage instance.")}return My(e,t)}function Uy(e,t){const n=null===t||void 0===t?void 0:t[jg];return null==n?null:qg.makeFromBucketSpec(n,e)}class zy{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Ig,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?qg.makeFromBucketSpec(r,this._host):Uy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=qg.makeFromBucketSpec(this._url,e):this._bucket=Uy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$g("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$g("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Py(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Wg(zg());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Zg(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Jg(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Vy="@firebase/storage",By="0.13.2",qy="storage";function Wy(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new zy(r,i,s,n,Zr)}Hr(new Dn(qy,Wy,"PUBLIC").setMultipleInstances(!0)),Xr(Vy,By,""),Xr(Vy,By,"esm2017");const Hy="@firebase/installations",Ky="0.6.9",Gy=1e4,$y="w:".concat(Ky),Qy="FIS_v2",Zy=36e5,Yy=new kn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Jy(e){return e instanceof En&&e.code.includes("request-failed")}function Xy(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function ev(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function tv(e,t){const n=(await t.json()).error;return Yy.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function nv(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function rv(e,t){let{refreshToken:n}=t;const r=nv(e);return r.append("Authorization",function(e){return"".concat(Qy," ").concat(e)}(n)),r}async function iv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function sv(e){return new Promise(t=>{setTimeout(t,e)})}const av=/^[cdef][\w-]{21}$/;function ov(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return av.test(t)?t:""}catch(e){return""}}function lv(e){return"".concat(e.appName,"!").concat(e.appId)}const cv=new Map;function uv(e,t){const n=lv(e);dv(n,t),function(e,t){const n=fv();n&&n.postMessage({key:e,fid:t});pv()}(n,t)}function dv(e,t){const n=cv.get(e);if(n)for(const r of n)r(t)}let hv=null;function fv(){return!hv&&"BroadcastChannel"in self&&(hv=new BroadcastChannel("[Firebase] FID Change"),hv.onmessage=e=>{dv(e.data.key,e.data.fid)}),hv}function pv(){0===cv.size&&hv&&(hv.close(),hv=null)}const mv="firebase-installations-store";let gv=null;function yv(){return gv||(gv=ir("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(mv)}})),gv}async function vv(e,t){const n=lv(e),r=(await yv()).transaction(mv,"readwrite"),i=r.objectStore(mv),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||uv(e,t.fid),t}async function bv(e){const t=lv(e),n=(await yv()).transaction(mv,"readwrite");await n.objectStore(mv).delete(t),await n.done}async function wv(e,t){const n=lv(e),r=(await yv()).transaction(mv,"readwrite"),i=r.objectStore(mv),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||uv(e,a.fid),a}async function xv(e){let t;const n=await wv(e.appConfig,n=>{const r=function(e){const t=e||{fid:ov(),registrationStatus:0};return kv(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Yy.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=Xy(n),a=nv(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:Qy,appId:n.appId,sdkVersion:$y},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await iv(()=>fetch(s,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:ev(e.authToken)}}throw await tv("Create Installation",u)}(e,t);return vv(e.appConfig,n)}catch(qe){throw Jy(qe)&&409===qe.customData.serverCode?await bv(e.appConfig):await vv(e.appConfig,{fid:t.fid,registrationStatus:0}),qe}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:_v(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function _v(e){let t=await Ev(e.appConfig);for(;1===t.registrationStatus;)await sv(100),t=await Ev(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await xv(e);return n||t}return t}function Ev(e){return wv(e,e=>{if(!e)throw Yy.create("installation-not-found");return kv(e)})}function kv(e){return 1===(t=e).registrationStatus&&t.registrationTime+Gy<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Nv(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Xy(e),"/").concat(n,"/authTokens:generate")}(n,t),s=rv(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:$y,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await iv(()=>fetch(i,l));if(c.ok){return ev(await c.json())}throw await tv("Generate Auth Token",c)}async function Sv(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await wv(e.appConfig,r=>{if(!Cv(r))throw Yy.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Zy}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Tv(e.appConfig);for(;1===n.authToken.requestStatus;)await sv(100),n=await Tv(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Sv(e,t):r}(e,n),r;{if(!navigator.onLine)throw Yy.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Nv(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await vv(e.appConfig,r),n}catch(qe){if(!Jy(qe)||401!==qe.customData.serverCode&&404!==qe.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await vv(e.appConfig,n)}else await bv(e.appConfig);throw qe}}(e,n),n}});return t?await t:r.authToken}function Tv(e){return wv(e,e=>{if(!Cv(e))throw Yy.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Gy<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function Cv(e){return void 0!==e&&2===e.registrationStatus}async function Iv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await xv(e);t&&await t}(n);return(await Sv(n,t)).token}function jv(e){return Yy.create("missing-app-config-values",{valueName:e})}const Av="installations",Rv=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw jv("App Configuration");if(!e.name)throw jv("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw jv(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Kr(t,"heartbeat"),_delete:()=>Promise.resolve()}},Pv=e=>{const t=Kr(e.getProvider("app").getImmediate(),Av).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await xv(t);return r?r.catch(console.error):Sv(t).catch(console.error),n.fid}(t),getToken:e=>Iv(t,e)}};Hr(new Dn(Av,Rv,"PUBLIC")),Hr(new Dn("installations-internal",Pv,"PRIVATE")),Xr(Hy,Ky),Xr(Hy,Ky,"esm2017");const Ov="analytics",Dv="https://www.googletagmanager.com/gtag/js",Lv=new Hn("@firebase/analytics"),Mv=new kn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Fv(e){if(!e.startsWith(Dv)){const t=Mv.create("invalid-gtag-resource",{gtagURL:e});return Lv.warn(t.message),""}return e}function Uv(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function zv(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Fv}),r=document.createElement("script"),i="".concat(Dv,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Vv(e,t,n,r){return async function(i){try{for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Uv(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(qe){Lv.error(qe)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=a;await async function(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const e=(await Uv(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(qe){Lv.error(qe)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(qe){Lv.error(qe)}}}const Bv=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function qv(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Wv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bv,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Mv.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Mv.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Kv;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),Hv({appId:r,apiKey:i,measurementId:s},a,o,t)}async function Hv(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Bv;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Mv.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(qe){if(l)return Lv.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===qe||void 0===qe?void 0:qe.message,"]")),{appId:o,measurementId:l};throw qe}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:qv(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(s,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw Mv.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return s.deleteThrottleMetadata(o),t}catch(qe){const r=qe;if(!function(e){if(!(e instanceof En)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(o),l)return Lv.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:o,measurementId:l};throw qe}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?Pn(i,s.intervalMillis,30):Pn(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(o,u),Lv.debug("Calling attemptFetch again in ".concat(c," millis")),Hv(e,u,n,s)}}class Kv{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Gv,$v;function Qv(e){$v=e}function Zv(e){Gv=e}async function Yv(e,t,n,r,i,s,a){var o;const l=Wv(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Lv.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>Lv.error(e)),t.push(l);const c=async function(){if(!xn())return Lv.warn(Mv.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await _n()}catch(qe){return Lv.warn(Mv.create("indexeddb-unavailable",{errorInfo:null===qe||void 0===qe?void 0:qe.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Dv)&&n.src.includes(e))return n;return null})(s)||zv(s,u.measurementId),$v&&(i("consent","default",$v),Qv(void 0)),i("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),Gv&&(i("set",Gv),Zv(void 0)),u.measurementId}class Jv{constructor(e){this.app=e}_delete(){return delete Xv[this.app.options.appId],Promise.resolve()}}let Xv={},eb=[];const tb={};let nb,rb,ib="dataLayer",sb="gtag",ab=!1;function ob(){const e=[];if(bn()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=Mv.create("invalid-analytics-context",{errorInfo:t});Lv.warn(n.message)}}function lb(e,t,n){ob();const r=e.options.appId;if(!r)throw Mv.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Mv.create("no-api-key");Lv.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Xv[r])throw Mv.create("already-exists",{id:r});if(!ab){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ib);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=Vv(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Xv,eb,tb,ib,sb);rb=e,nb=t,ab=!0}Xv[r]=Yv(e,eb,tb,t,nb,ib,n);return new Jv(e)}function cb(e,t,n,r){e=On(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(rb,Xv[e.app.options.appId],t,n,r).catch(e=>Lv.error(e))}const ub="@firebase/analytics",db="0.10.8";Hr(new Dn(Ov,(e,t)=>{let{options:n}=t;return lb(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Hr(new Dn("analytics-internal",function(e){try{const t=e.getProvider(Ov).getImmediate();return{logEvent:(e,n,r)=>cb(t,e,n,r)}}catch(qe){throw Mv.create("interop-component-reg-failed",{reason:qe})}},"PRIVATE")),Xr(ub,db),Xr(ub,db,"esm2017");const hb=["REACT_APP_FIREBASE_API_KEY","REACT_APP_FIREBASE_AUTH_DOMAIN","REACT_APP_FIREBASE_PROJECT_ID","REACT_APP_FIREBASE_STORAGE_BUCKET","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","REACT_APP_FIREBASE_APP_ID"].filter(e=>!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5000",REACT_APP_ENVIRONMENT:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyDt3ilVFm5BryPqb2DeXPF0mCXiWbvU7H8",REACT_APP_FIREBASE_APP_ID:"1:624853863549:web:b5c22a8c65db67d5949a6a",REACT_APP_FIREBASE_AUTH_DOMAIN:"skillwagers.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-7YFELE6P82",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"624853863549",REACT_APP_FIREBASE_PROJECT_ID:"skillwagers",REACT_APP_FIREBASE_STORAGE_BUCKET:"skillwagers.appspot.com"}[e]);if(hb.length>0)throw console.error("Missing required Firebase environment variables:",hb),new Error("Missing Firebase configuration: ".concat(hb.join(", ")));const fb=Yr({apiKey:"AIzaSyDt3ilVFm5BryPqb2DeXPF0mCXiWbvU7H8",authDomain:"skillwagers.firebaseapp.com",projectId:"skillwagers",storageBucket:"skillwagers.appspot.com",messagingSenderId:"624853863549",appId:"1:624853863549:web:b5c22a8c65db67d5949a6a",measurementId:"G-7YFELE6P82"}),pb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr();const t=Kr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Kr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Sn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;gi(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:_o,persistence:[Pa,ga,va]}),r=mn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>So)return;const i=null===n||void 0===n?void 0:n.token;To!==i&&(To=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))})(e.toString());!function(e,t,n){On(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){On(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const i=hn("auth");return i&&Rs(n,"http://".concat(i)),n}(fb),mb=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Kr("object"==typeof e?e:Jr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=fn("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=nm(e,sm))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Wo.MOCK_USER;else{t=yn(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new nl(tl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Wo(s)}e._authCredentials=new al(new il(t,n))}}(r,...e)}return r}(fb),gb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr(),t=arguments.length>1?arguments[1]:void 0;e=On(e);const n=Kr(e,qy).getImmediate({identifier:t}),r=fn("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:yn(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(fb);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr();e=On(e);const t=Kr(e,Ov);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Kr(e,Ov);if(n.isInitialized()){const e=n.getImmediate();if(Sn(t,n.getOptions()))return e;throw Mv.create("already-initialized")}const r=n.initialize({options:t})}(e)}(fb);var yb=n(579);const vb=(0,s.createContext)(),bb=()=>{const e=(0,s.useContext)(vb);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},wb=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(null),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null),d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;const n=um(mb,"users",e.uid),r=await gg(n);if(r.exists()){const i=Be({lastLoginAt:Tg(),email:e.email,displayName:e.displayName||r.data().displayName,photoURL:null!==e.photoURL?e.photoURL:r.data().photoURL},t);return await wg(n,i),Be(Be({},r.data()),i)}{const r=Be({uid:e.uid,email:e.email,displayName:e.displayName||t.displayName||"",photoURL:e.photoURL||null,createdAt:Tg(),lastLoginAt:Tg(),betaBalance:100,lastDailyRewardAt:null,stats:{wins:0,losses:0,totalChallenges:0}},t);return await bg(n,r),r}},h=async e=>{try{const t=um(mb,"users",e),n=await gg(t);return n.exists()?n.data():null}catch(t){return console.error("Error fetching user profile:",t),null}};(0,s.useEffect)(()=>{const e=function(e,t,n,r){return On(e).onAuthStateChanged(t,n,r)}(pb,async e=>{if(r(e),e)try{const t=await d(e);a(t)}catch(t){console.error("Error handling user auth state:",t);const n=await h(e.uid);a(n)}else a(null);l(!1)});return e},[]);const f=async()=>{try{if(!n)throw new Error("No authenticated user");const e=await h(n);return a(e),e}catch(e){throw console.error("Error refreshing profile:",e),e}},p={currentUser:n,userProfile:i,token:c,login:async(e,t)=>{const n=await function(e,t,n){return Gr(e.app)?Promise.reject(bi(e)):oa(On(e),Ks.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ca(e),t})}(pb,e,t);return n.user},register:async(e,t,n,r)=>{const i=await async function(e,t,n){if(Gr(e.app))return Promise.reject(bi(e));const r=ks(e),i=As(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xs),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ca(e),t}),a=await ea._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(pb,e,t),s=i.user;await da(s,{displayName:n});const o=await d(s,{displayName:n,dateOfBirth:r,betaUser:!0});return a(o),s},googleSignIn:async()=>{const e=new Zs,t=await async function(e,t,n){if(Gr(e.app))return Promise.reject(yi(e,"operation-not-supported-in-this-environment"));const r=ks(e);wi(e,t,Gs);const i=Ma(r,n);return new Wa(r,"signInViaPopup",t,i).executeNotNull()}(pb,e),n=t.user,r=await d(n,{betaUser:!0,provider:"google"});return a(r),n},logout:async()=>{await ha(pb),r(null),a(null),u(null)},updateUserProfile:async e=>{try{if(!n)throw new Error("No authenticated user");const t=um(mb,"users",n.uid);await wg(t,Be(Be({},e),{},{updatedAt:new Date}));const r=await h(n);return a(r),r}catch(t){throw console.error("Error updating profile:",t),t}},verifyAge:async e=>{try{if(!n)throw new Error("No authenticated user");const t=new Date(e),r=new Date,i=r.getFullYear()-t.getFullYear(),s=r.getMonth()-t.getMonth();if(!(i>18||18===i&&s>0||18===i&&0===s&&r.getDate()>=t.getDate()))throw new Error("Must be 18 years or older to use this platform");const o=um(mb,"users",n.uid);return await wg(o,{ageVerified:!0,dateOfBirth:e,ageVerifiedAt:new Date}),a(t=>Be(Be({},t),{},{ageVerified:!0,dateOfBirth:e})),{success:!0,ageVerified:!0}}catch(t){throw console.error("Error verifying age:",t),t}},refreshProfile:f,claimDailyReward:async()=>{try{if(!n)throw new Error("No authenticated user");const e=um(mb,"users",n.uid),t=await Sg(mb,async t=>{var n;const r=await t.get(e);if(!r.exists())throw new Error("User document not found");const i=r.data(),s=new Date,a=null===(n=i.lastDailyRewardAt)||void 0===n?void 0:n.toDate();if(a){const e=s-a,t=864e5;if(e<t){const n=t-e;throw new Error("Daily reward already claimed. Next reward in ".concat(Math.ceil(n/6e4)," minutes."))}}return t.update(e,{betaBalance:Cg(100),lastDailyRewardAt:Tg(),"stats.totalRewardsClaimed":Cg(1)}),{success:!0,amount:100,newBalance:(i.betaBalance||0)+100}});return await f(),t}catch(e){if(console.error("Error claiming daily reward:",e),e.message&&(e.message.includes("database")||e.message.includes("datastore")))return console.error("Database setup issue detected, but continuing with user experience"),await f(),{success:!0,amount:100,newBalance:((null===i||void 0===i?void 0:i.betaBalance)||0)+100};throw e}},claimDevFunds:async()=>{try{if(!n)throw new Error("No authenticated user");const e=um(mb,"users",n.uid);return await wg(e,{betaBalance:Cg(100),lastDevFundsClaim:new Date,"stats.totalFundsClaimed":Cg(100)}),await f(),{success:!0,amount:100}}catch(e){throw console.error("Error claiming dev funds:",e),e}},loading:o};return(0,yb.jsx)(vb.Provider,{value:p,children:!o&&t})},xb=e=>{let{size:t="sm",className:n=""}=e;return(0,yb.jsx)("span",{className:"inline-flex items-center ".concat({xs:"px-1 py-0.5 text-xs",sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base"}[t]," font-semibold text-white rounded-full shadow-sm animate-pulse ").concat(n),style:{backgroundColor:"#6f4cff"},children:"BETA"})};function _b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Eb=["title","titleId"];function kb(e,t){let{title:n,titleId:r}=e,i=_b(e,Eb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Nb=s.forwardRef(kb),Sb=()=>{const{currentUser:e,userProfile:t,claimDailyReward:n}=bb(),[r,i]=(0,s.useState)(!1),[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(!1),h=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(null===t||void 0===t||!t.lastDailyRewardAt)return c(!0),void o(null);const e=()=>{const e=t.lastDailyRewardAt.toDate(),n=new Date-e,r=864e5;if(n>=r)c(!0),o(null);else{c(!1);o(r-n)}};e();const n=setInterval(e,6e4);return()=>clearInterval(n)},[null===t||void 0===t?void 0:t.lastDailyRewardAt]),(0,s.useEffect)(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);if(!e)return null;const f=(null===t||void 0===t?void 0:t.betaBalance)||0;return(0,yb.jsxs)("div",{className:"relative",ref:h,children:[(0,yb.jsxs)("div",{className:"flex items-center gap-2 bg-gray-800 rounded-lg px-3 py-2 border border-gray-700 hover:border-primaryAccent transition-colors cursor-pointer",onClick:()=>i(!r),children:[(0,yb.jsx)("span",{className:"text-yellow-400 text-sm",children:"\ud83e\ude99"}),(0,yb.jsx)("span",{className:"text-white font-medium text-sm",children:f.toLocaleString()}),(0,yb.jsx)("button",{className:"p-1 rounded-full transition-colors ".concat(l?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"),disabled:!l,title:l?"Claim daily reward":"Daily reward not available yet",children:(0,yb.jsx)(Nb,{className:"w-3 h-3"})})]}),r&&(0,yb.jsx)("div",{className:"absolute right-0 mt-2 w-72 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50 p-4",children:(0,yb.jsxs)("div",{className:"text-center",children:[(0,yb.jsx)("div",{className:"text-lg font-semibold text-white mb-2",children:"Daily Reward"}),(0,yb.jsx)("div",{className:"text-yellow-400 text-2xl mb-3",children:"\ud83e\ude99 +100"}),l?(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-gray-300 text-sm mb-4",children:"You can claim your daily reward now!"}),(0,yb.jsx)("button",{onClick:async()=>{if(l&&e&&!u){d(!0);try{await n(),i(!1),rn.success("100 Coins Claimed Successfully!",{duration:4e3,icon:"\ud83e\ude99",style:{background:"#10b981",color:"#fff"}})}catch(t){console.error("Error claiming reward:",t);let e="Failed to claim reward. Please try again.";!t.message||t.message.includes("database")||t.message.includes("datastore")||(t.message.includes("already claimed")||t.message.includes("Next reward"))&&(e=t.message),rn.error(e,{duration:4e3,style:{background:"#ef4444",color:"#fff"}})}finally{d(!1)}}},disabled:u,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors",children:u?"Claiming...":"Claim Reward"})]}):(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-gray-300 text-sm mb-2",children:"Next reward available in:"}),(0,yb.jsx)("div",{className:"text-primaryAccent font-mono text-lg mb-4",children:a?(e=>{const t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);return"".concat(t,"h ").concat(n,"m")})(a):"Calculating..."}),(0,yb.jsx)("button",{disabled:!0,className:"w-full bg-gray-600 text-gray-400 font-medium py-2 px-4 rounded-lg cursor-not-allowed",children:"Reward Claimed"})]}),(0,yb.jsx)("div",{className:"mt-4 p-3 bg-gray-700 rounded-lg",children:(0,yb.jsx)("p",{className:"text-xs text-gray-400",children:"\ud83d\udca1 Daily rewards reset every 24 hours. Come back tomorrow for another +100 coins!"})})]})})]})},Tb=["title","titleId"];function Cb(e,t){let{title:n,titleId:r}=e,i=_b(e,Tb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Ib=s.forwardRef(Cb),jb=e=>{let{src:t,alt:n="User avatar",size:r="md",className:i="",fallbackInitials:a=""}=e;const[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!0),d={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16","2xl":"h-20 w-20"},h={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-7 w-7",xl:"h-10 w-10","2xl":"h-12 w-12"},f={sm:"text-xs",md:"text-sm",lg:"text-base",xl:"text-lg","2xl":"text-xl"};return!t||o?a?(0,yb.jsx)("div",{className:"".concat(d[r]," ").concat(i," rounded-full bg-blue-500 flex items-center justify-center text-white font-medium ").concat(f[r]),children:a.slice(0,2).toUpperCase()}):(0,yb.jsx)("div",{className:"".concat(d[r]," ").concat(i," rounded-full bg-gray-300 flex items-center justify-center text-gray-600"),children:(0,yb.jsx)(Ib,{className:h[r]})}):(0,yb.jsxs)("div",{className:"".concat(d[r]," ").concat(i," rounded-full overflow-hidden border border-gray-300 bg-gray-100"),children:[c&&(0,yb.jsx)("div",{className:"h-full w-full bg-gray-200 animate-pulse rounded-full flex items-center justify-center",children:(0,yb.jsx)(Ib,{className:"".concat(h[r]," text-gray-400")})}),(0,yb.jsx)("img",{src:t,alt:n,className:"h-full w-full object-cover ".concat(c?"hidden":"block"),onLoad:()=>{u(!1)},onError:()=>{l(!0),u(!1)},loading:"lazy"})]})},Ab=["title","titleId"];function Rb(e,t){let{title:n,titleId:r}=e,i=_b(e,Ab);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Pb=s.forwardRef(Rb),Ob=["title","titleId"];function Db(e,t){let{title:n,titleId:r}=e,i=_b(e,Ob);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Lb=s.forwardRef(Db),Mb=["title","titleId"];function Fb(e,t){let{title:n,titleId:r}=e,i=_b(e,Mb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Ub=s.forwardRef(Fb),zb=["title","titleId"];function Vb(e,t){let{title:n,titleId:r}=e,i=_b(e,zb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Bb=s.forwardRef(Vb),qb=()=>{var e,t;const{currentUser:n,userProfile:r,logout:i}=bb(),[a,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),u=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&(o(!1),c(!1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);if(!n)return(0,yb.jsx)(Re,{to:"/login",className:"rounded-xl border border-brand text-brand px-4 py-2 hover:bg-brand hover:text-white transition-colors text-sm font-medium",children:"Login/Register"});const d=[{label:"Profile",icon:Ib,href:"/profile",description:"View your profile information"},{label:"Statistics",icon:Pb,href:"/statistics",description:"View your performance stats"},{label:"Settings",icon:Lb,href:"/settings",description:"Account settings and preferences"}];return(0,yb.jsxs)("div",{className:"relative",ref:u,children:[(0,yb.jsxs)("button",{onClick:()=>o(!a),onKeyDown:e=>{"Escape"===e.key&&(o(!1),c(!1))},className:"flex items-center gap-3 hover:bg-gray-800 p-2 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-primaryAccent focus:ring-offset-2 focus:ring-offset-gray-900","aria-expanded":a,"aria-haspopup":"true",children:[(0,yb.jsx)(jb,{src:n.photoURL,alt:(null===r||void 0===r?void 0:r.displayName)||n.displayName||"User",size:"md",fallbackInitials:(null===(e=(null===r||void 0===r?void 0:r.displayName)||n.displayName)||void 0===e?void 0:e.charAt(0))||(null===(t=n.email)||void 0===t?void 0:t.charAt(0))||"U"}),(0,yb.jsx)("span",{className:"text-sm text-gray-300 hidden sm:block",children:(null===r||void 0===r?void 0:r.displayName)||n.displayName||n.email}),(0,yb.jsx)(Ub,{className:"w-4 h-4 text-gray-400 transition-transform ".concat(a?"rotate-180":"")})]}),a&&(0,yb.jsx)("div",{className:"absolute right-0 mt-2 w-64 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50",role:"menu","aria-orientation":"vertical",children:(0,yb.jsxs)("div",{className:"py-1",children:[d.map(e=>(0,yb.jsxs)(Re,{to:e.href,className:"flex items-center px-4 py-3 text-sm text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",role:"menuitem",onClick:()=>o(!1),children:[(0,yb.jsx)(e.icon,{className:"w-4 h-4 mr-3 text-gray-400"}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("div",{className:"font-medium",children:e.label}),(0,yb.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})]},e.label)),(0,yb.jsx)("div",{className:"border-t border-gray-700 mt-1 pt-1",children:(0,yb.jsxs)("button",{onClick:async()=>{if(l)try{await i(),o(!1),c(!1)}catch(e){console.error("Sign out error:",e)}else c(!0)},className:"flex items-center w-full px-4 py-3 text-sm transition-colors ".concat(l?"bg-red-600 text-white hover:bg-red-700":"text-gray-300 hover:bg-gray-700 hover:text-white"),role:"menuitem",children:[(0,yb.jsx)(Bb,{className:"w-4 h-4 mr-3 text-gray-400"}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("div",{className:"font-medium",children:l?"Confirm Sign Out":"Sign Out"}),(0,yb.jsx)("div",{className:"text-xs text-gray-500",children:l?"Click again to confirm":"End your session"})]})]})})]})})]})},Wb=["title","titleId"];function Hb(e,t){let{title:n,titleId:r}=e,i=_b(e,Wb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Kb=s.forwardRef(Hb),Gb=["title","titleId"];function $b(e,t){let{title:n,titleId:r}=e,i=_b(e,Gb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Qb=s.forwardRef($b),Zb=["title","titleId"];function Yb(e,t){let{title:n,titleId:r}=e,i=_b(e,Zb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Jb=s.forwardRef(Yb),Xb=["title","titleId"];function ew(e,t){let{title:n,titleId:r}=e,i=_b(e,Xb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const tw=s.forwardRef(ew),nw=["title","titleId"];function rw(e,t){let{title:n,titleId:r}=e,i=_b(e,nw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const iw=s.forwardRef(rw),sw=()=>{const{currentUser:e}=bb(),[t,n]=(0,s.useState)(!1),r=[{path:"/",label:"Home",icon:Kb},{path:"/wagering",label:"Browse Wagering",icon:Qb},...e?[{path:"/wagers",label:"My Wagers",icon:Qb}]:[],{path:"/marketplace",label:"Marketplace",icon:Jb}];return(0,yb.jsx)("nav",{className:"fixed top-0 w-full z-50 backdrop-blur-gaming border-b border-gray-700",children:(0,yb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,yb.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,yb.jsxs)(Pe,{to:"/",className:"flex items-center gap-2",children:[(0,yb.jsx)("img",{src:"/icons/skillwagers-512.png",alt:"SkillWagers",className:"h-6 w-6"}),(0,yb.jsx)("span",{className:"font-bold text-brandAccent text-xl",children:"SkillWagers"}),(0,yb.jsx)(xb,{size:"xs",className:"ml-2"})]}),(0,yb.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:r.map(e=>{let{path:t,label:n,icon:r}=e;return(0,yb.jsxs)(Pe,{to:t,className:e=>{let{isActive:t}=e;return"flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 ".concat(t?"text-brand":"text-gray-300 hover:text-brand")},children:[(0,yb.jsx)(r,{className:"w-4 h-4"}),(0,yb.jsx)("span",{children:n})]},t)})}),(0,yb.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[e&&(0,yb.jsx)(Sb,{}),(0,yb.jsx)(qb,{})]}),(0,yb.jsx)("div",{className:"md:hidden",children:(0,yb.jsx)("button",{onClick:()=>n(!t),className:"text-gray-300 hover:text-white p-2",children:t?(0,yb.jsx)(tw,{className:"w-6 h-6"}):(0,yb.jsx)(iw,{className:"w-6 h-6"})})})]}),t&&(0,yb.jsx)("div",{className:"md:hidden",children:(0,yb.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-dark-800 rounded-lg mt-2",children:[r.map(e=>{let{path:t,label:r,icon:i}=e;return(0,yb.jsxs)(Pe,{to:t,onClick:()=>n(!1),className:e=>{let{isActive:t}=e;return"flex items-center space-x-2 px-3 py-2 rounded-md text-base font-medium ".concat(t?"bg-dark-700 text-brand":"text-gray-300 hover:text-brand hover:bg-dark-700")},children:[(0,yb.jsx)(i,{className:"w-5 h-5"}),(0,yb.jsx)("span",{children:r})]},t)}),(0,yb.jsx)("div",{className:"border-t border-gray-600 pt-2 mt-2",children:(0,yb.jsx)("div",{className:"px-3 py-2",children:(0,yb.jsx)(qb,{})})})]})})]})})},aw=e=>{let{children:t,adminOnly:n=!1}=e;const{currentUser:r,userProfile:i,loading:s}=bb(),a=te();return s?(0,yb.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center",children:[(0,yb.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,yb.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primaryAccent to-red-500 rounded-lg flex items-center justify-center",children:(0,yb.jsx)("span",{className:"text-white font-bold text-sm",children:"SW"})}),(0,yb.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"SkillWagers"}),(0,yb.jsx)(xb,{size:"xs"})]}),(0,yb.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primaryAccent"}),(0,yb.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Loading..."})]}):r?!n||i&&i.isAdmin?t:(0,yb.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center",children:(0,yb.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[(0,yb.jsxs)("div",{className:"flex justify-center items-center space-x-2 mb-4",children:[(0,yb.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primaryAccent to-red-500 rounded-lg flex items-center justify-center",children:(0,yb.jsx)("span",{className:"text-white font-bold text-sm",children:"SW"})}),(0,yb.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"SkillWagers"}),(0,yb.jsx)(xb,{size:"xs"})]}),(0,yb.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),(0,yb.jsx)("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page. Admin privileges required."}),(0,yb.jsx)("button",{onClick:()=>window.history.back(),className:"bg-primaryAccent text-white px-4 py-2 rounded-md hover:bg-secondary-600 transition-colors",children:"Go Back"})]})}):(0,yb.jsx)(ve,{to:"/login",state:{from:a},replace:!0})},ow=()=>{const[e,t]=(0,s.useState)(!1);(0,s.useEffect)(()=>{localStorage.getItem("hasSeenBetaModel")||t(!0)},[]);return e?(0,yb.jsx)("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:(0,yb.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-xl",children:[(0,yb.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to SkillWagers (Beta)"}),(0,yb.jsx)("p",{className:"text-gray-600 mb-4",children:"You're in early access. All currency is fake for testing. Let's run through a quick demo."}),(0,yb.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 mb-4",children:[(0,yb.jsx)("h4",{className:"text-sm font-semibold text-purple-800 mb-2",children:"Beta Features:"}),(0,yb.jsxs)("ul",{className:"text-xs text-purple-700 space-y-1",children:[(0,yb.jsx)("li",{children:"\u2022 $100 free starting balance (fake currency)"}),(0,yb.jsx)("li",{children:"\u2022 Test challenges and wagers"}),(0,yb.jsx)("li",{children:"\u2022 Limited marketplace functionality"}),(0,yb.jsx)("li",{children:"\u2022 Development features for testing"})]})]}),(0,yb.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 mb-6",children:[(0,yb.jsx)("h4",{className:"text-sm font-semibold text-gray-800 mb-1",children:"Important:"}),(0,yb.jsx)("p",{className:"text-xs text-gray-600",children:"This is not real money. All transactions are simulated for testing purposes. Data may be reset during development."})]}),(0,yb.jsx)("button",{className:"w-full rounded-xl px-4 py-3 bg-brand text-white font-semibold hover:bg-brand transition-colors",onClick:()=>{t(!1),localStorage.setItem("hasSeenBetaModel","true")},children:"Got it, let's test"})]})}):null},lw=[{id:1,title:"Create a Challenge",frontIcon:"\ud83c\udfaf",desc:"Set the game, rules, and stake. Your challenge appears to eligible opponents."},{id:2,title:"Find an Opponent",frontIcon:"\ud83e\udd1d",desc:"Match with a player at your skill level, agree to terms, and lock in."},{id:3,title:"Submit Proof",frontIcon:"\ud83d\udce4",desc:"Upload match evidence or connect supported game data once available."},{id:4,title:"Automatic Settlement",frontIcon:"\u26a1",desc:"Escrow resolves to the verified winner. Disputes follow clear steps."}];function cw(e){let{item:t,index:n}=e;const[r,i]=(0,s.useState)(!1),a=()=>i(e=>!e),o={0:"ring-blue-500/40",1:"ring-brand/40",2:"ring-pink-500/40",3:"ring-red-500/40"};return(0,yb.jsx)("div",{className:"how-card w-full aspect-square cursor-pointer",onClick:a,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a())},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),tabIndex:0,role:"button","aria-expanded":r,"aria-label":"How it works card: ".concat(t.title),children:(0,yb.jsxs)("div",{className:"how-card-inner relative w-full h-full ".concat(r?"flipped":""),children:[(0,yb.jsxs)("div",{className:"how-card-face how-card-front absolute w-full h-full rounded-2xl bg-gray-800 text-white ring-1 ring-white/10 ".concat(o[n]," flex flex-col items-center justify-center gap-2"),children:[(0,yb.jsx)("span",{className:"text-4xl",children:t.frontIcon}),(0,yb.jsx)("span",{className:"text-lg font-semibold text-center px-2",children:t.title})]}),(0,yb.jsxs)("div",{className:"how-card-face how-card-back absolute w-full h-full rounded-2xl bg-gray-800 text-white flex flex-col items-center justify-center px-4 text-center ring-1 ring-white/10 ".concat(o[n]),children:[(0,yb.jsx)("h3",{className:"text-lg font-semibold mb-2",children:t.title}),(0,yb.jsx)("p",{className:"text-sm leading-relaxed",children:t.desc})]})]})})}function uw(){return(0,yb.jsxs)("section",{"aria-labelledby":"how-it-works",className:"mx-auto max-w-6xl px-4",children:[(0,yb.jsx)("h2",{id:"how-it-works",className:"mb-6 text-2xl font-bold text-brand",children:"How it works"}),(0,yb.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:lw.map((e,t)=>(0,yb.jsx)(cw,{item:e,index:t},e.id))})]})}const dw=["title","titleId"];function hw(e,t){let{title:n,titleId:r}=e,i=_b(e,dw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const fw=s.forwardRef(hw),pw=["title","titleId"];function mw(e,t){let{title:n,titleId:r}=e,i=_b(e,pw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const gw=s.forwardRef(mw),yw=["title","titleId"];function vw(e,t){let{title:n,titleId:r}=e,i=_b(e,yw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const bw=s.forwardRef(vw),ww=["title","titleId"];function xw(e,t){let{title:n,titleId:r}=e,i=_b(e,ww);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const _w=s.forwardRef(xw),Ew=["title","titleId"];function kw(e,t){let{title:n,titleId:r}=e,i=_b(e,Ew);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const Nw=s.forwardRef(kw),Sw=["title","titleId"];function Tw(e,t){let{title:n,titleId:r}=e,i=_b(e,Sw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Cw=s.forwardRef(Tw),Iw=()=>{const{currentUser:e}=bb(),t=[{icon:fw,title:"Any Skill-Based Challenge",description:"Create competitions for gaming, sports, fitness, art, trivia, or any measurable skill where outcomes depend on ability, not chance."},{icon:gw,title:"Secure Escrow",description:"Your stakes are safely held in escrow until challenges are completed and verified."},{icon:bw,title:"Fair Competition Rewards",description:"Win by demonstrating superior skills in transparent, fair competitions with secure payouts."},{icon:_w,title:"Transparent Matching",description:"Challenge specific opponents or find matches based on skill level and competition type."},{icon:Nw,title:"Quick Resolution",description:"Fast challenge resolution with proof submission and automated settlement when both parties confirm results."},{icon:Cw,title:"Dispute Resolution",description:"Fair and transparent dispute resolution system managed by our admin team."}];return(0,yb.jsxs)("div",{className:"min-h-screen",children:[(0,yb.jsx)("section",{className:"relative overflow-hidden bg-gray-900 py-20",children:(0,yb.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,yb.jsxs)("div",{className:"text-center",children:[(0,yb.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Create and Compete in ",(0,yb.jsx)("span",{className:"gaming-text",children:"Any Skill-Based Challenge"})]}),(0,yb.jsx)("p",{className:"text-xl md:text-2xl text-gray-200 mb-8 max-w-4xl mx-auto",children:"Turn any skill into a fair, wager-based competition. Whether it's gaming mastery, athletic prowess, artistic talent, trivia knowledge, or any other measurable ability\u2014challenge others and prove your expertise."}),(0,yb.jsxs)("div",{className:"bg-dark-700 rounded-lg p-6 mb-8 max-w-3xl mx-auto border border-gray-600",children:[(0,yb.jsx)("p",{className:"text-gray-300 text-lg italic mb-2",children:"Example Challenge:"}),(0,yb.jsx)("p",{className:"text-white text-base",children:'"Challenge someone to a push-up contest for $5 each. Both players record unedited video proof, submit their performance, and the winner takes the pot. SkillWagers ensures fair play and secure handling of every match."'})]}),(0,yb.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e?(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)(Re,{to:"/wagering",className:"btn-primary text-lg px-8 py-4",children:"Browse Challenges"}),(0,yb.jsx)(Re,{to:"/create-challenge",className:"btn-outline text-lg px-8 py-4",children:"Create Challenge"})]}):(0,yb.jsx)(Re,{to:"/login",className:"btn-accent text-lg px-8 py-4 inline-block",children:"Start a Challenge"})})]})})}),(0,yb.jsx)("section",{className:"py-16 bg-dark-800",children:(0,yb.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,yb.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{value:"Beta",label:"Current Status"},{value:"Early Access",label:"Platform Stage"},{value:"Skill-Based",label:"Competition Type"},{value:"18+",label:"Age Requirement"}].map((e,t)=>(0,yb.jsxs)("div",{className:"text-center",children:[(0,yb.jsx)("div",{className:"text-3xl md:text-4xl font-bold gaming-text mb-2",children:e.value}),(0,yb.jsx)("div",{className:"text-gray-300 text-sm md:text-base font-medium",children:e.label})]},t))})})}),(0,yb.jsx)("section",{className:"py-20",children:(0,yb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,yb.jsxs)("div",{className:"text-center mb-16",children:[(0,yb.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["Why Choose ",(0,yb.jsx)("span",{className:"gaming-text",children:"SkillWagers"}),"?"]}),(0,yb.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"The secure, fair, and transparent platform for any skill-based competition you can imagine."})]}),(0,yb.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,t)=>(0,yb.jsxs)("div",{className:"card-gradient group transition-colors duration-300",children:[(0,yb.jsxs)("div",{className:"flex items-center mb-4",children:[(0,yb.jsx)("div",{className:"p-3 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg",children:(0,yb.jsx)(e.icon,{className:"w-6 h-6 text-white"})}),(0,yb.jsx)("h3",{className:"text-xl font-semibold text-white ml-4",children:e.title})]}),(0,yb.jsx)("p",{className:"text-gray-300 leading-relaxed",children:e.description})]},t))})]})}),(0,yb.jsx)("section",{className:"py-20 bg-dark-800",children:(0,yb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,yb.jsxs)("div",{className:"text-center mb-12",children:[(0,yb.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["Challenge ",(0,yb.jsx)("span",{className:"gaming-text",children:"Categories"})]}),(0,yb.jsx)("p",{className:"text-xl text-gray-300",children:"Compete in any skill-based category where talent and practice determine the winner"})]}),(0,yb.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:["Gaming","Fitness","Sports","Trivia","Art & Design","Programming","Music","Languages","Speed Skills","Strategy Games"].map((e,t)=>(0,yb.jsx)("div",{className:"card text-center transition-colors duration-300",children:(0,yb.jsx)("div",{className:"text-lg font-semibold text-white",children:e})},t))})]})}),(0,yb.jsx)("section",{className:"py-20",children:(0,yb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,yb.jsxs)("div",{className:"text-center mb-16",children:[(0,yb.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["How It ",(0,yb.jsx)("span",{className:"gaming-text",children:"Works"})]}),(0,yb.jsx)("p",{className:"text-xl text-gray-300",children:"Simple steps to start competing and earning"})]}),(0,yb.jsx)(uw,{})]})}),!e&&(0,yb.jsx)("section",{className:"py-20 bg-gray-800",children:(0,yb.jsxs)("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[(0,yb.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:["Ready to Join Our ",(0,yb.jsx)("span",{className:"gaming-text",children:"Beta"}),"?"]}),(0,yb.jsx)("p",{className:"text-xl text-gray-200 mb-8",children:"Be among the first to test our skill-based competition platform and help shape its future."}),(0,yb.jsx)(Re,{to:"/login",className:"btn-accent text-lg px-8 py-4 inline-block",children:"Join SkillWagers Today"}),(0,yb.jsx)("div",{className:"mt-8 p-4 bg-dark-700 rounded-lg border border-yellow-500 max-w-2xl mx-auto",children:(0,yb.jsx)("p",{className:"text-yellow-300 text-sm font-medium",children:"\u26a0\ufe0f Beta Notice: SkillWagers is currently in Beta. All currency used in this version is simulated and has no real-world value."})})]})})]})};function jw(){return(0,yb.jsx)("div",{className:"min-h-screen bg-gray-900",children:(0,yb.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,yb.jsxs)("div",{className:"text-center py-12",children:[(0,yb.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:"My Challenges"}),(0,yb.jsx)("p",{className:"text-gray-400 mb-8",children:"Coming soon! For now, browse and create challenges from other pages."}),(0,yb.jsxs)(Re,{to:"/create-challenge",className:"inline-flex items-center px-4 py-2 bg-primaryAccent hover:bg-secondary-600 text-white font-medium rounded-lg transition-colors",children:[(0,yb.jsx)(Nb,{className:"h-4 w-4 mr-2"}),"Create Challenge"]})]})})})}const Aw=["title","titleId"];function Rw(e,t){let{title:n,titleId:r}=e,i=_b(e,Aw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Pw=s.forwardRef(Rw),Ow=["title","titleId"];function Dw(e,t){let{title:n,titleId:r}=e,i=_b(e,Ow);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Lw=s.forwardRef(Dw),Mw=()=>{const{currentUser:e}=bb(),[t,n]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[a,o]=(0,s.useState)({category:"all",skillLevel:"all",wagerRange:"all"}),[l,c]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{try{i(!0);let e=Qm(cm(mb,"challenges"),Ym("status","==","open"),tg("createdAt","desc"),rg(20));const t=(await vg(e)).docs.map(e=>{var t;return Be(Be({id:e.id},e.data()),{},{createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date})});n(t)}catch(e){console.error("Error fetching challenges:",e)}finally{i(!1)}})()},[a]);const u=e=>e?new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.ceil((e-new Date)/864e5),"day"):"Unknown",d=e=>{const t={beginner:"bg-green-900 bg-opacity-30 text-green-300 border border-green-600",intermediate:"bg-yellow-900 bg-opacity-30 text-yellow-300 border border-yellow-600",advanced:"bg-red-900 bg-opacity-30 text-red-300 border border-red-600"};return"".concat(t[e]||t.beginner," px-2 py-1 rounded-full text-xs font-medium")},h=t.filter(e=>{var t,n;const r=(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(l.toLowerCase())),i="all"===a.category||e.category===a.category,s="all"===a.skillLevel||e.skillLevel===a.skillLevel;let o=!0;if("all"!==a.wagerRange){const t=e.wagerAmount||0;switch(a.wagerRange){case"low":o=t<=10;break;case"medium":o=t>10&&t<=50;break;case"high":o=t>50;break;default:o=!0}}return r&&i&&s&&o});return(0,yb.jsx)("main",{className:"min-h-screen bg-gray-900 py-8",children:(0,yb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,yb.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Available Challenges"}),(0,yb.jsx)("p",{className:"text-gray-400",children:"Browse and join skill-based challenges. Test your abilities and compete with others!"})]}),e&&(0,yb.jsxs)(Re,{to:"/create-challenge",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-brand hover:bg-brand",children:[(0,yb.jsx)(Nb,{className:"h-4 w-4 mr-2"}),"Create Challenge"]})]}),(0,yb.jsx)("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 mb-8",children:(0,yb.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,yb.jsx)("div",{className:"flex-1",children:(0,yb.jsxs)("div",{className:"relative",children:[(0,yb.jsx)(Pw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,yb.jsx)("input",{type:"text",placeholder:"Search challenges...",value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-primaryAccent focus:border-primaryAccent"})]})}),(0,yb.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,yb.jsxs)("select",{value:a.category,onChange:e=>o(t=>Be(Be({},t),{},{category:e.target.value})),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-primaryAccent focus:border-primaryAccent",children:[(0,yb.jsx)("option",{value:"all",children:"All Categories"}),(0,yb.jsx)("option",{value:"gaming",children:"Gaming"}),(0,yb.jsx)("option",{value:"trivia",children:"Trivia"}),(0,yb.jsx)("option",{value:"sports",children:"Sports Knowledge"}),(0,yb.jsx)("option",{value:"puzzle",children:"Puzzle Solving"}),(0,yb.jsx)("option",{value:"creative",children:"Creative"})]}),(0,yb.jsxs)("select",{value:a.skillLevel,onChange:e=>o(t=>Be(Be({},t),{},{skillLevel:e.target.value})),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-primaryAccent focus:border-primaryAccent",children:[(0,yb.jsx)("option",{value:"all",children:"All Skill Levels"}),(0,yb.jsx)("option",{value:"beginner",children:"Beginner"}),(0,yb.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,yb.jsx)("option",{value:"advanced",children:"Advanced"})]}),(0,yb.jsxs)("select",{value:a.wagerRange,onChange:e=>o(t=>Be(Be({},t),{},{wagerRange:e.target.value})),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-primaryAccent focus:border-primaryAccent",children:[(0,yb.jsx)("option",{value:"all",children:"All Wager Amounts"}),(0,yb.jsx)("option",{value:"low",children:"1-10 SIM"}),(0,yb.jsx)("option",{value:"medium",children:"11-50 SIM"}),(0,yb.jsx)("option",{value:"high",children:"50+ SIM"})]})]})]})}),(0,yb.jsx)("div",{className:"space-y-6",children:r?(0,yb.jsxs)("div",{className:"text-center py-12",children:[(0,yb.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primaryAccent mx-auto"}),(0,yb.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading challenges..."})]}):0===h.length?(0,yb.jsxs)("div",{className:"text-center py-12",children:[(0,yb.jsx)(fw,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,yb.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No challenges found"}),(0,yb.jsx)("p",{className:"text-gray-400 mb-6",children:l||"all"!==a.category||"all"!==a.skillLevel||"all"!==a.wagerRange?"Try adjusting your search or filters.":"No challenges are currently available. Check back later!"}),(0,yb.jsx)(Re,{to:"/create-challenge",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-brand hover:bg-brand focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand",children:"Create the First Challenge"})]}):(0,yb.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:h.map(e=>{return(0,yb.jsxs)(Re,{to:"/challenge/".concat(e.id),className:"bg-gray-800 rounded-xl border border-gray-700 p-6 hover:bg-gray-750 transition-colors duration-200",children:[(0,yb.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,yb.jsxs)("div",{className:"flex-1",children:[(0,yb.jsx)("h3",{className:"text-lg font-semibold text-white mb-2 line-clamp-2",children:e.title}),(0,yb.jsx)("p",{className:"text-gray-400 text-sm line-clamp-3 mb-3",children:e.description})]})}),(0,yb.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,yb.jsx)("span",{className:d(e.skillLevel),children:e.skillLevel||"Beginner"}),(0,yb.jsxs)("div",{className:"flex items-center text-brand font-semibold",children:[(0,yb.jsx)(bw,{className:"h-4 w-4 mr-1"}),(t=e.wagerAmount||0,"".concat(t," SIM"))]})]}),(0,yb.jsxs)("div",{className:"text-xs text-gray-500 flex items-center",children:[(0,yb.jsx)(Lw,{className:"h-3 w-3 mr-1"}),(0,yb.jsxs)("span",{children:["Created ",u(e.createdAt)]})]})]},e.id);var t})})}),(0,yb.jsxs)("div",{className:"border rounded-xl p-6 mt-8",style:{backgroundColor:"#6f4cff",borderColor:"#6f4cff"},children:[(0,yb.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Beta Testing Notice"}),(0,yb.jsx)("p",{className:"text-white opacity-90",children:"All challenges in this beta use fake SIM currency. You start with 100 SIM in test funds to experiment with the platform. No real money transactions occur during beta testing."})]})]})})},Fw=["_f"],Uw=["name"],zw=["_f"],Vw=["ref","message","type"],Bw=["formControl"];var qw=e=>"checkbox"===e.type,Ww=e=>e instanceof Date,Hw=e=>null==e;const Kw=e=>"object"===typeof e;var Gw=e=>!Hw(e)&&!Array.isArray(e)&&Kw(e)&&!Ww(e),$w=e=>Gw(e)&&e.target?qw(e.target)?e.target.checked:e.target.value:e,Qw=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),Zw="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Yw(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(Zw&&(e instanceof Blob||r)||!n&&!Gw(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return Gw(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Yw(e[n]));else t=e}return t}var Jw=e=>/^\w*$/.test(e),Xw=e=>void 0===e,ex=e=>Array.isArray(e)?e.filter(Boolean):[],tx=e=>ex(e.replace(/["|']|\]/g,"").split(/\.|\[/)),nx=(e,t,n)=>{if(!t||!Gw(e))return n;const r=(Jw(t)?[t]:tx(t)).reduce((e,t)=>Hw(e)?e:e[t],e);return Xw(r)||r===e?Xw(e[t])?n:e[t]:r},rx=e=>"boolean"===typeof e,ix=(e,t,n)=>{let r=-1;const i=Jw(t)?[t]:tx(t),s=i.length,a=s-1;for(;++r<s;){const t=i[r];let s=n;if(r!==a){const n=e[t];s=Gw(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const sx="blur",ax="focusout",ox="onBlur",lx="onChange",cx="onSubmit",ux="onTouched",dx="all",hx="max",fx="min",px="maxLength",mx="minLength",gx="pattern",yx="required",vx="validate",bx=s.createContext(null);bx.displayName="HookFormContext";var wx=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const i=s;return t._proxyFormState[i]!==dx&&(t._proxyFormState[i]=!r||dx),n&&(n[i]=!0),e[i]}});return i};const xx="undefined"!==typeof window?s.useLayoutEffect:s.useEffect;var _x=e=>"string"===typeof e,Ex=(e,t,n,r,i)=>_x(e)?(r&&t.watch.add(e),nx(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),nx(n,e))):(r&&(t.watchAll=!0),n),kx=e=>Hw(e)||!Kw(e);function Nx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(kx(e)||kx(t))return e===t;if(Ww(e)&&Ww(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const r=e[s];if(!i.includes(s))return!1;if("ref"!==s){const e=t[s];if(Ww(r)&&Ww(e)||Gw(r)&&Gw(e)||Array.isArray(r)&&Array.isArray(e)?!Nx(r,e,n):r!==e)return!1}}return!0}var Sx=(e,t,n,r,i)=>t?Be(Be({},n[e]),{},{types:Be(Be({},n[e]&&n[e].types?n[e].types:{}),{},{[r]:i||!0})}):{},Tx=e=>Array.isArray(e)?e:[e],Cx=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function Ix(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],s=t[r];if(i&&Gw(i)&&s){const e=Ix(i,s);Gw(e)&&(n[r]=e)}else e[r]&&(n[r]=s)}return n}var jx=e=>Gw(e)&&!Object.keys(e).length,Ax=e=>"file"===e.type,Rx=e=>"function"===typeof e,Px=e=>{if(!Zw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ox=e=>"select-multiple"===e.type,Dx=e=>"radio"===e.type,Lx=e=>Px(e)&&e.isConnected;function Mx(e,t){const n=Array.isArray(t)?t:Jw(t)?[t]:tx(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Xw(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(Gw(r)&&jx(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Xw(e[t]))return!1;return!0}(r))&&Mx(e,n.slice(0,-1)),e}function Fx(e){return Array.isArray(e)||Gw(e)&&!(e=>{for(const t in e)if(Rx(e[t]))return!0;return!1})(e)}function Ux(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n in e)Fx(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ux(e[n],t[n])):Hw(e[n])||(t[n]=!0);return t}function zx(e,t,n){n||(n=Ux(t));for(const r in e)Fx(e[r])?Xw(t)||kx(n[r])?n[r]=Ux(e[r],Array.isArray(e[r])?[]:{}):zx(e[r],Hw(t)?{}:t[r],n[r]):n[r]=!Nx(e[r],t[r]);return n}const Vx={value:!1,isValid:!1},Bx={value:!0,isValid:!0};var qx=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Xw(e[0].attributes.value)?Xw(e[0].value)||""===e[0].value?Bx:{value:e[0].value,isValid:!0}:Bx:Vx}return Vx},Wx=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return Xw(e)?e:n?""===e?NaN:e?+e:e:r&&_x(e)?new Date(e):i?i(e):e};const Hx={isValid:!1,value:null};var Kx=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Hx):Hx;function Gx(e){const t=e.ref;return Ax(t)?t.files:Dx(t)?Kx(e.refs).value:Ox(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):qw(t)?qx(e.refs).value:Wx(Xw(t.value)?e.ref.value:t.value,e)}var $x=e=>e instanceof RegExp,Qx=e=>Xw(e)?e:$x(e)?e.source:Gw(e)?$x(e.value)?e.value.source:e.value:e,Zx=e=>({isOnSubmit:!e||e===cx,isOnBlur:e===ox,isOnChange:e===lx,isOnAll:e===dx,isOnTouch:e===ux});const Yx="AsyncFunction";var Jx=e=>!!e&&!!e.validate&&!!(Rx(e.validate)&&e.validate.constructor.name===Yx||Gw(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Yx)),Xx=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const e_=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=nx(e,i);if(n){const{_f:e}=n,s=_b(n,Fw);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(e_(s,t))break}else if(Gw(s)&&e_(s,t))break}}};function t_(e,t,n){const r=nx(e,n);if(r||Jw(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),s=nx(t,r),a=nx(e,r);if(s&&!Array.isArray(s)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};if(a&&a.root&&a.root.type)return{name:"".concat(r,".root"),error:a.root};i.pop()}return{name:n}}var n_=(e,t,n)=>{const r=Tx(nx(e,n));return ix(r,"root",t[n]),ix(e,n,r),e};function r_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(_x(e)||Array.isArray(e)&&e.every(_x)||rx(e)&&!e)return{type:n,message:_x(e)?e:"",ref:t}}var i_=e=>Gw(e)&&!$x(e)?e:{value:e,message:""},s_=async(e,t,n,r,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:p,name:m,valueAsNumber:g,mount:y}=e._f,v=nx(n,m);if(!y||t.has(m))return{};const b=o?o[0]:a,w=e=>{i&&b.reportValidity&&(b.setCustomValidity(rx(e)?"":e||""),b.reportValidity())},x={},_=Dx(a),E=qw(a),k=_||E,N=(g||Ax(a))&&Xw(a.value)&&Xw(v)||Px(a)&&""===a.value||""===v||Array.isArray(v)&&!v.length,S=Sx.bind(null,m,r,x),T=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:px,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mx;const s=e?t:n;x[m]=Be({type:e?r:i,message:s,ref:a},S(e?r:i,s))};if(s?!Array.isArray(v)||!v.length:l&&(!k&&(N||Hw(v))||rx(v)&&!v||E&&!qx(o).isValid||_&&!Kx(o).isValid)){const{value:e,message:t}=_x(l)?{value:!!l,message:l}:i_(l);if(e&&(x[m]=Be({type:yx,message:t,ref:b},S(yx,t)),!r))return w(t),x}if(!N&&(!Hw(d)||!Hw(h))){let e,t;const n=i_(h),i=i_(d);if(Hw(v)||isNaN(v)){const r=a.valueAsDate||new Date(v),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==a.type,l="week"==a.type;_x(n.value)&&v&&(e=o?s(v)>s(n.value):l?v>n.value:r>new Date(n.value)),_x(i.value)&&v&&(t=o?s(v)<s(i.value):l?v<i.value:r<new Date(i.value))}else{const r=a.valueAsNumber||(v?+v:v);Hw(n.value)||(e=r>n.value),Hw(i.value)||(t=r<i.value)}if((e||t)&&(T(!!e,n.message,i.message,hx,fx),!r))return w(x[m].message),x}if((c||u)&&!N&&(_x(v)||s&&Array.isArray(v))){const e=i_(c),t=i_(u),n=!Hw(e.value)&&v.length>+e.value,i=!Hw(t.value)&&v.length<+t.value;if((n||i)&&(T(n,e.message,t.message),!r))return w(x[m].message),x}if(f&&!N&&_x(v)){const{value:e,message:t}=i_(f);if($x(e)&&!v.match(e)&&(x[m]=Be({type:gx,message:t,ref:a},S(gx,t)),!r))return w(t),x}if(p)if(Rx(p)){const e=r_(await p(v,n),b);if(e&&(x[m]=Be(Be({},e),S(vx,e.message)),!r))return w(e.message),x}else if(Gw(p)){let e={};for(const t in p){if(!jx(e)&&!r)break;const i=r_(await p[t](v,n),b,t);i&&(e=Be(Be({},i),S(t,i.message)),w(i.message),r&&(x[m]=e))}if(!jx(e)&&(x[m]=Be({ref:b},e),!r))return x}return w(!0),x};const a_={mode:cx,reValidateMode:lx,shouldFocusError:!0};function o_(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Be(Be({},a_),t),r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Rx(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},s=(Gw(n.defaultValues)||Gw(n.values))&&Yw(n.defaultValues||n.values)||{},a=n.shouldUnregister?{}:Yw(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d=Be({},u);const h={array:Cx(),state:Cx()},f=n.criteriaMode===dx,p=async e=>{if(!n.disabled&&(u.isValid||d.isValid||e)){const e=n.resolver?jx((await b()).errors):await w(i,!0);e!==r.isValid&&h.state.next({isValid:e})}},m=(e,t)=>{!n.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?ix(r.validatingFields,e,t):Mx(r.validatingFields,e))}),h.state.next({validatingFields:r.validatingFields,isValidating:!jx(r.validatingFields)}))},g=(e,t,n,r)=>{const l=nx(i,e);if(l){const i=nx(a,e,Xw(n)?nx(s,e):n);Xw(i)||r&&r.defaultChecked||t?ix(a,e,t?i:Gx(l._f)):E(e,i),o.mount&&p()}},y=(e,t,i,a,o)=>{let l=!1,c=!1;const f={name:e};if(!n.disabled){if(!i||a){(u.isDirty||d.isDirty)&&(c=r.isDirty,r.isDirty=f.isDirty=x(),l=c!==f.isDirty);const n=Nx(nx(s,e),t);c=!!nx(r.dirtyFields,e),n?Mx(r.dirtyFields,e):ix(r.dirtyFields,e,!0),f.dirtyFields=r.dirtyFields,l=l||(u.dirtyFields||d.dirtyFields)&&c!==!n}if(i){const t=nx(r.touchedFields,e);t||(ix(r.touchedFields,e,i),f.touchedFields=r.touchedFields,l=l||(u.touchedFields||d.touchedFields)&&t!==i)}l&&o&&h.state.next(f)}return l?f:{}},v=(t,i,s,a)=>{const o=nx(r.errors,t),l=(u.isValid||d.isValid)&&rx(i)&&r.isValid!==i;if(n.delayError&&s?(e=(e=>t=>{clearTimeout(c),c=setTimeout(e,t)})(()=>((e,t)=>{ix(r.errors,e,t),h.state.next({errors:r.errors})})(t,s)),e(n.delayError)):(clearTimeout(c),e=null,s?ix(r.errors,t,s):Mx(r.errors,t)),(s?!Nx(o,s):o)||!jx(a)||l){const e=Be(Be(Be({},a),l&&rx(i)?{isValid:i}:{}),{},{errors:r.errors,name:t});r=Be(Be({},r),e),h.state.next(e)}},b=async e=>{m(e,!0);const t=await n.resolver(a,n.context,((e,t,n,r)=>{const i={};for(const s of e){const e=nx(t,s);e&&ix(i,s,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return m(e),t},w=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const s in e){const o=e[s];if(o){const{_f:e}=o,s=_b(o,zw);if(e){const s=l.array.has(e.name),c=o._f&&Jx(o._f);c&&u.validatingFields&&m([e.name],!0);const d=await s_(o,l.disabled,a,f,n.shouldUseNativeValidation&&!t,s);if(c&&u.validatingFields&&m([e.name]),d[e.name]&&(i.valid=!1,t))break;!t&&(nx(d,e.name)?s?n_(r.errors,d,e.name):ix(r.errors,e.name,d[e.name]):Mx(r.errors,e.name))}!jx(s)&&await w(s,t,i)}}return i.valid},x=(e,t)=>!n.disabled&&(e&&t&&ix(a,e,t),!Nx(I(),s)),_=(e,t,n)=>Ex(e,l,Be({},o.mount?a:Xw(t)?s:_x(e)?{[e]:t}:t),n,t),E=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=nx(i,e);let s=t;if(r){const n=r._f;n&&(!n.disabled&&ix(a,e,Wx(t,n)),s=Px(n.ref)&&Hw(t)?"":t,Ox(n.ref)?[...n.ref.options].forEach(e=>e.selected=s.includes(e.value)):n.refs?qw(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(s)?e.checked=!!s.find(t=>t===e.value):e.checked=s===e.value||!!s)}):n.refs.forEach(e=>e.checked=e.value===s):Ax(n.ref)?n.ref.value="":(n.ref.value=s,n.ref.type||h.state.next({name:e,values:Yw(a)})))}(n.shouldDirty||n.shouldTouch)&&y(e,s,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&C(e)},k=(e,t,n)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const s=t[r],a=e+"."+r,o=nx(i,a);(l.array.has(e)||Gw(s)||o&&!o._f)&&!Ww(s)?k(a,s,n):E(a,s,n)}},N=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=nx(i,e),f=l.array.has(e),p=Yw(t);ix(a,e,p),f?(h.array.next({name:e,values:Yw(a)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&n.shouldDirty&&h.state.next({name:e,dirtyFields:zx(s,a),isDirty:x(e,p)})):!c||c._f||Hw(p)?E(e,p,n):k(e,p,n),Xx(e,l)&&h.state.next(Be(Be({},r),{},{name:e})),h.state.next({name:o.mount?e:void 0,values:Yw(a)})},S=async t=>{o.mount=!0;const s=t.target;let c=s.name,g=!0;const x=nx(i,c),_=e=>{g=Number.isNaN(e)||Ww(e)&&isNaN(e.getTime())||Nx(e,nx(a,c,e))},E=Zx(n.mode),k=Zx(n.reValidateMode);if(x){let o,S;const T=s.type?Gx(x._f):$w(t),I=t.type===sx||t.type===ax,j=!((N=x._f).mount&&(N.required||N.min||N.max||N.maxLength||N.minLength||N.pattern||N.validate))&&!n.resolver&&!nx(r.errors,c)&&!x._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(I,nx(r.touchedFields,c),r.isSubmitted,k,E),A=Xx(c,l,I);ix(a,c,T),I?s&&s.readOnly||(x._f.onBlur&&x._f.onBlur(t),e&&e(0)):x._f.onChange&&x._f.onChange(t);const R=y(c,T,I),P=!jx(R)||A;if(!I&&h.state.next({name:c,type:t.type,values:Yw(a)}),j)return(u.isValid||d.isValid)&&("onBlur"===n.mode?I&&p():I||p()),P&&h.state.next(Be({name:c},A?{}:R));if(!I&&A&&h.state.next(Be({},r)),n.resolver){const{errors:e}=await b([c]);if(_(T),g){const t=t_(r.errors,i,c),n=t_(e,i,t.name||c);o=n.error,c=n.name,S=jx(e)}}else m([c],!0),o=(await s_(x,l.disabled,a,f,n.shouldUseNativeValidation))[c],m([c]),_(T),g&&(o?S=!1:(u.isValid||d.isValid)&&(S=await w(i,!0)));g&&(x._f.deps&&(!Array.isArray(x._f.deps)||x._f.deps.length>0)&&C(x._f.deps),v(c,S,o,R))}var N},T=(e,t)=>{if(nx(r.errors,t)&&e.focus)return e.focus(),1},C=async function(e){let t,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=Tx(e);if(n.resolver){const n=await(async e=>{const{errors:t}=await b(e);if(e)for(const n of e){const e=nx(t,n);e?ix(r.errors,n,e):Mx(r.errors,n)}else r.errors=t;return t})(Xw(e)?e:o);t=jx(n),s=e?!o.some(e=>nx(n,e)):t}else e?(s=(await Promise.all(o.map(async e=>{const t=nx(i,e);return await w(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||r.isValid)&&p()):s=t=await w(i);return h.state.next(Be(Be(Be({},!_x(e)||(u.isValid||d.isValid)&&t!==r.isValid?{}:{name:e}),n.resolver||!e?{isValid:t}:{}),{},{errors:r.errors})),a.shouldFocus&&!s&&e_(i,T,e?o:l.mount),s},I=(e,t)=>{let n=Be({},o.mount?a:s);return t&&(n=Ix(t.dirtyFields?r.dirtyFields:r.touchedFields,n)),Xw(e)?n:_x(e)?nx(n,e):e.map(e=>nx(n,e))},j=(e,t)=>({invalid:!!nx((t||r).errors,e),isDirty:!!nx((t||r).dirtyFields,e),error:nx((t||r).errors,e),isValidating:!!nx(r.validatingFields,e),isTouched:!!nx((t||r).touchedFields,e)}),A=(e,t,n)=>{const s=(nx(i,e,{_f:{}})._f||{}).ref,a=nx(r.errors,e)||{},{ref:o,message:l,type:c}=a,u=_b(a,Vw);ix(r.errors,e,Be(Be(Be({},u),t),{},{ref:s})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&s&&s.focus&&s.focus()},R=e=>h.state.subscribe({next:t=>{var n,i,o;n=e.name,i=t.name,o=e.exact,n&&i&&n!==i&&!Tx(n).some(e=>e&&(o?e===i:e.startsWith(i)||i.startsWith(e)))||!((e,t,n,r)=>{n(e);const{name:i}=e,s=_b(e,Uw);return jx(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!r||dx))})(t,e.formState||u,z,e.reRenderRoot)||e.callback(Be(Be(Be({values:Be({},a)},r),t),{},{defaultValues:s}))}}).unsubscribe,P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const o of e?Tx(e):l.mount)l.mount.delete(o),l.array.delete(o),t.keepValue||(Mx(i,o),Mx(a,o)),!t.keepError&&Mx(r.errors,o),!t.keepDirty&&Mx(r.dirtyFields,o),!t.keepTouched&&Mx(r.touchedFields,o),!t.keepIsValidating&&Mx(r.validatingFields,o),!n.shouldUnregister&&!t.keepDefaultValue&&Mx(s,o);h.state.next({values:Yw(a)}),h.state.next(Be(Be({},r),t.keepDirty?{isDirty:x()}:{})),!t.keepIsValid&&p()},O=e=>{let{disabled:t,name:n}=e;(rx(t)&&o.mount||t||l.disabled.has(n))&&(t?l.disabled.add(n):l.disabled.delete(n))},D=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=nx(i,e);const a=rx(t.disabled)||rx(n.disabled);return ix(i,e,Be(Be({},r||{}),{},{_f:Be(Be({},r&&r._f?r._f:{ref:{name:e}}),{},{name:e,mount:!0},t)})),l.mount.add(e),r?O({disabled:rx(t.disabled)?t.disabled:n.disabled,name:e}):g(e,!0,t.value),Be(Be(Be({},a?{disabled:t.disabled||n.disabled}:{}),n.progressive?{required:!!t.required,min:Qx(t.min),max:Qx(t.max),minLength:Qx(t.minLength),maxLength:Qx(t.maxLength),pattern:Qx(t.pattern)}:{}),{},{name:e,onChange:S,onBlur:S,ref:a=>{if(a){D(e,t),r=nx(i,e);const n=Xw(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,o=(e=>Dx(e)||qw(e))(n),l=r._f.refs||[];if(o?l.find(e=>e===n):n===r._f.ref)return;ix(i,e,{_f:Be(Be({},r._f),o?{refs:[...l.filter(Lx),n,...Array.isArray(nx(s,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n})}),g(e,!1,void 0,n)}else r=nx(i,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!Qw(l.array,e)||!o.action)&&l.unMount.add(e)}})},L=()=>n.shouldFocusError&&e_(i,T,l.mount),M=(e,t)=>async s=>{let o;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let c=Yw(a);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await b();r.errors=e,c=Yw(t)}else await w(i);if(l.disabled.size)for(const e of l.disabled)Mx(c,e);if(Mx(r.errors,"root"),jx(r.errors)){h.state.next({errors:{}});try{await e(c,s)}catch(u){o=u}}else t&&await t(Be({},r.errors),s),L(),setTimeout(L);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jx(r.errors)&&!o,submitCount:r.submitCount+1,errors:r.errors}),o)throw o},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?Yw(e):s,d=Yw(c),f=jx(e),p=f?s:d;if(t.keepDefaultValues||(s=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(zx(s,a))]);for(const t of Array.from(e))nx(r.dirtyFields,t)?ix(p,t,nx(a,t)):N(t,nx(p,t))}else{if(Zw&&Xw(e))for(const e of l.mount){const t=nx(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Px(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)N(e,nx(p,e));else i={}}a=n.shouldUnregister?t.keepDefaultValues?Yw(s):{}:Yw(p),h.array.next({values:Be({},p)}),h.state.next({values:Be({},p)})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!t.keepIsValid||!!t.keepDirtyValues,o.watch=!!n.shouldUnregister,h.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!f&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||Nx(e,s))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:f?{}:t.keepDirtyValues?t.keepDefaultValues&&a?zx(s,a):r.dirtyFields:t.keepDefaultValues&&e?zx(s,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:s})},U=(e,t)=>F(Rx(e)?e(a):e,t),z=e=>{r=Be(Be({},r),e)},V={control:{register:D,unregister:P,getFieldState:j,handleSubmit:M,setError:A,_subscribe:R,_runSchema:b,_focusError:L,_getWatch:_,_getDirty:x,_setValid:p,_setFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&l&&!n.disabled){if(o.action=!0,p&&Array.isArray(nx(i,e))){const t=l(nx(i,e),c.argA,c.argB);f&&ix(i,e,t)}if(p&&Array.isArray(nx(r.errors,e))){const t=l(nx(r.errors,e),c.argA,c.argB);f&&ix(r.errors,e,t),((e,t)=>{!ex(nx(e,t)).length&&Mx(e,t)})(r.errors,e)}if((u.touchedFields||d.touchedFields)&&p&&Array.isArray(nx(r.touchedFields,e))){const t=l(nx(r.touchedFields,e),c.argA,c.argB);f&&ix(r.touchedFields,e,t)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=zx(s,a)),h.state.next({name:e,isDirty:x(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ix(a,e,t)},_setDisabledField:O,_setErrors:e=>{r.errors=e,h.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>ex(nx(o.mount?a:s,e,n.shouldUnregister?nx(s,e,[]):[])),_reset:F,_resetDefaultValues:()=>Rx(n.defaultValues)&&n.defaultValues().then(e=>{U(e,n.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=nx(i,e);t&&(t._f.refs?t._f.refs.every(e=>!Lx(e)):!Lx(t._f.ref))&&P(e)}l.unMount=new Set},_disableForm:e=>{rx(e)&&(h.state.next({disabled:e}),e_(i,(t,n)=>{const r=nx(i,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:h,_proxyFormState:u,get _fields(){return i},get _formValues(){return a},get _state(){return o},set _state(e){o=e},get _defaultValues(){return s},get _names(){return l},set _names(e){l=e},get _formState(){return r},get _options(){return n},set _options(e){n=Be(Be({},n),e)}},subscribe:e=>(o.mount=!0,d=Be(Be({},d),e.formState),R(Be(Be({},e),{},{formState:d}))),trigger:C,register:D,handleSubmit:M,watch:(e,t)=>Rx(e)?h.state.subscribe({next:n=>"values"in n&&e(_(void 0,t),n)}):_(e,t,!0),setValue:N,getValues:I,reset:U,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};nx(i,e)&&(Xw(t.defaultValue)?N(e,Yw(nx(s,e))):(N(e,t.defaultValue),ix(s,e,Yw(t.defaultValue))),t.keepTouched||Mx(r.touchedFields,e),t.keepDirty||(Mx(r.dirtyFields,e),r.isDirty=t.defaultValue?x(e,Yw(nx(s,e))):x()),t.keepError||(Mx(r.errors,e),u.isValid&&p()),h.state.next(Be({},r)))},clearErrors:e=>{e&&Tx(e).forEach(e=>Mx(r.errors,e)),h.state.next({errors:e?r.errors:{}})},unregister:P,setError:A,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=nx(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&Rx(e.select)&&e.select())}},getFieldState:j};return Be(Be({},V),{},{formControl:V})}function l_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=s.useRef(void 0),n=s.useRef(void 0),[r,i]=s.useState({isDirty:!1,isValidating:!1,isLoading:Rx(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Rx(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=Be(Be({},e.formControl),{},{formState:r}),e.defaultValues&&!Rx(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const n=o_(e),{formControl:i}=n,s=_b(n,Bw);t.current=Be(Be({},s),{},{formState:r})}const a=t.current.control;return a._options=e,xx(()=>{const e=a._subscribe({formState:a._proxyFormState,callback:()=>i(Be({},a._formState)),reRenderRoot:!0});return i(e=>Be(Be({},e),{},{isReady:!0})),a._formState.isReady=!0,e},[a]),s.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),s.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),s.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),s.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),s.useEffect(()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==r.isDirty&&a._subjects.state.next({isDirty:e})}},[a,r.isDirty]),s.useEffect(()=>{e.values&&!Nx(e.values,n.current)?(a._reset(e.values,Be({keepFieldsRef:!0},a._options.resetOptions)),n.current=e.values,i(e=>Be({},e))):a._resetDefaultValues()},[a,e.values]),s.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next(Be({},a._formState))),a._removeUnmounted()}),t.current.formState=wx(r,a),t.current}const c_=(e,t,n)=>{if(e&&"reportValidity"in e){const r=nx(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},u_=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?c_(r.ref,n,e):r&&r.refs&&r.refs.forEach(t=>c_(t,n,e))}},d_=(e,t)=>{t.shouldUseNativeValidation&&u_(e,t);const n={};for(const r in e){const i=nx(t.fields,r),s=Object.assign(e[r]||{},{ref:i&&i.ref});if(h_(t.names||Object.keys(e),r)){const e=Object.assign({},nx(n,r));ix(e,"root",s),ix(n,r,e)}else ix(n,r,s)}return n},h_=(e,t)=>{const n=f_(t);return e.some(e=>f_(e).match("^".concat(n,"\\.\\d+")))};function f_(e){return e.replace(/\]|\[/g,"")}Object.freeze({status:"aborted"});function p_(e,t,n){var r;function i(n,r){var i,s,a;Object.defineProperty(n,"_zod",{value:null!==(i=n._zod)&&void 0!==i?i:{},enumerable:!1}),null!==(s=(a=n._zod).traits)&&void 0!==s||(a.traits=new Set),n._zod.traits.add(e),t(n,r);for(const e in o.prototype)e in n||Object.defineProperty(n,e,{value:o.prototype[e].bind(n)});n._zod.constr=o,n._zod.def=r}const s=null!==(r=null===n||void 0===n?void 0:n.Parent)&&void 0!==r?r:Object;class a extends s{}function o(e){var t,r;const s=null!==n&&void 0!==n&&n.Parent?new a:this;i(s,e),null!==(t=(r=s._zod).deferred)&&void 0!==t||(r.deferred=[]);for(const n of s._zod.deferred)n();return s}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:t=>{var r;return!!(null!==n&&void 0!==n&&n.Parent&&t instanceof n.Parent)||(null===t||void 0===t||null===(r=t._zod)||void 0===r||null===(r=r.traits)||void 0===r?void 0:r.has(e))}}),Object.defineProperty(o,"name",{value:e}),o}Symbol("zod_brand");class m_ extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class g_ extends Error{constructor(e){super("Encountered unidirectional transform during encode: ".concat(e)),this.name="ZodEncodeError"}}const y_={};function v_(e){return e&&Object.assign(y_,e),y_}function b_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|";return e.map(e=>F_(e)).join(t)}function w_(e,t){return"bigint"===typeof t?t.toString():t}function x_(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function __(e){return null===e||void 0===e}function E_(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const k_=Symbol("evaluating");function N_(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==k_)return void 0===r&&(r=k_,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function S_(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function T_(){const e={};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){const t=Object.getOwnPropertyDescriptors(i);Object.assign(e,t)}return Object.defineProperties({},e)}function C_(e){return JSON.stringify(e)}const I_="captureStackTrace"in Error?Error.captureStackTrace:function(){};function j_(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}const A_=x_(()=>{var e;if("undefined"!==typeof navigator&&null!==(e=navigator)&&void 0!==e&&null!==(e=e.userAgent)&&void 0!==e&&e.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(It){return!1}});function R_(e){if(!1===j_(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!1!==j_(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function P_(e){return R_(e)?Be({},e):Array.isArray(e)?[...e]:e}const O_=new Set(["string","number","symbol"]);new Set(["string","number","bigint","boolean","symbol","undefined"]);function D_(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function L_(e,t,n){const r=new e._zod.constr(null!==t&&void 0!==t?t:e._zod.def);return(!t||null!==n&&void 0!==n&&n.parent)&&(r._zod.parent=e),r}function M_(e){const t=e;if(!t)return{};if("string"===typeof t)return{error:()=>t};if(void 0!==(null===t||void 0===t?void 0:t.message)){if(void 0!==(null===t||void 0===t?void 0:t.error))throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"===typeof t.error?Be(Be({},t),{},{error:()=>t.error}):t}function F_(e){return"bigint"===typeof e?e.toString()+"n":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_VALUE,Number.MAX_VALUE;function U_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++){var n;if(!0!==(null===(n=e.issues[r])||void 0===n?void 0:n.continue))return!0}return!1}function z_(e,t){return t.map(t=>{var n,r;return null!==(n=(r=t).path)&&void 0!==n||(r.path=[]),t.path.unshift(e),t})}function V_(e){return"string"===typeof e?e:null===e||void 0===e?void 0:e.message}function B_(e,t,n){var r;const i=Be(Be({},e),{},{path:null!==(r=e.path)&&void 0!==r?r:[]});if(!e.message){var s,a,o,l,c,u,d,h,f;const r=null!==(s=null!==(a=null!==(o=null!==(l=V_(null===(c=e.inst)||void 0===c||null===(c=c._zod.def)||void 0===c||null===(u=c.error)||void 0===u?void 0:u.call(c,e)))&&void 0!==l?l:V_(null===t||void 0===t||null===(d=t.error)||void 0===d?void 0:d.call(t,e)))&&void 0!==o?o:V_(null===(h=n.customError)||void 0===h?void 0:h.call(n,e)))&&void 0!==a?a:V_(null===(f=n.localeError)||void 0===f?void 0:f.call(n,e)))&&void 0!==s?s:"Invalid input";i.message=r}return delete i.inst,delete i.continue,null!==t&&void 0!==t&&t.reportInput||delete i.input,i}function q_(e){return Array.isArray(e)?"array":"string"===typeof e?"string":"unknown"}function W_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,i,s]=t;return"string"===typeof r?{message:r,code:"custom",input:i,inst:s}:Be({},r)}const H_=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,w_,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},K_=p_("$ZodError",H_),G_=p_("$ZodError",H_,{Parent:Error});const $_=e=>(t,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new m_;if(a.issues.length){var o;const t=new(null!==(o=null===i||void 0===i?void 0:i.Err)&&void 0!==o?o:e)(a.issues.map(e=>B_(e,s,v_())));throw I_(t,null===i||void 0===i?void 0:i.callee),t}return a.value},Q_=$_(G_),Z_=e=>async(t,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){var o;const t=new(null!==(o=null===i||void 0===i?void 0:i.Err)&&void 0!==o?o:e)(a.issues.map(e=>B_(e,s,v_())));throw I_(t,null===i||void 0===i?void 0:i.callee),t}return a.value},Y_=Z_(G_),J_=e=>(t,n,r)=>{const i=r?Be(Be({},r),{},{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new m_;return s.issues.length?{success:!1,error:new(null!==e&&void 0!==e?e:K_)(s.issues.map(e=>B_(e,i,v_())))}:{success:!0,data:s.value}},X_=J_(G_),eE=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(e=>B_(e,i,v_())))}:{success:!0,data:s.value}},tE=eE(G_),nE=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return $_(e)(t,n,i)},rE=e=>(t,n,r)=>$_(e)(t,n,r),iE=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Z_(e)(t,n,i)},sE=e=>async(t,n,r)=>Z_(e)(t,n,r),aE=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return J_(e)(t,n,i)},oE=e=>(t,n,r)=>J_(e)(t,n,r),lE=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return eE(e)(t,n,i)},cE=e=>async(t,n,r)=>eE(e)(t,n,r),uE=/^[cC][^\s-]{8,}$/,dE=/^[0-9a-z]+$/,hE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,fE=/^[0-9a-vA-V]{20}$/,pE=/^[A-Za-z0-9]{27}$/,mE=/^[a-zA-Z0-9_-]{21}$/,gE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,yE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,vE=e=>e?new RegExp("^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-".concat(e,"[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$")):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,bE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;const wE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,_E=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,EE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kE=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,NE=/^[A-Za-z0-9_-]*$/,SE=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,TE=/^\+(?:[0-9]){6,14}[0-9]$/,CE="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",IE=new RegExp("^".concat(CE,"$"));function jE(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"===typeof e.precision?-1===e.precision?"".concat(t):0===e.precision?"".concat(t,":[0-5]\\d"):"".concat(t,":[0-5]\\d\\.\\d{").concat(e.precision,"}"):"".concat(t,"(?::[0-5]\\d(?:\\.\\d+)?)?")}const AE=/^(?:true|false)$/i,RE=/^[^A-Z]*$/,PE=/^[^a-z]*$/;const OE=p_("$ZodCheck",(e,t)=>{var n,r,i;null!==(n=e._zod)&&void 0!==n||(e._zod={}),e._zod.def=t,null!==(r=(i=e._zod).onattach)&&void 0!==r||(i.onattach=[])}),DE=p_("$ZodCheckMaxLength",(e,t)=>{var n,r;OE.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!__(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{var n;const r=null!==(n=e._zod.bag.maximum)&&void 0!==n?n:Number.POSITIVE_INFINITY;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const i=q_(r);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),LE=p_("$ZodCheckMinLength",(e,t)=>{var n,r;OE.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!__(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{var n;const r=null!==(n=e._zod.bag.minimum)&&void 0!==n?n:Number.NEGATIVE_INFINITY;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const i=q_(r);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),ME=p_("$ZodCheckLengthEquals",(e,t)=>{var n,r;OE.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!__(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{const r=n.value,i=r.length;if(i===t.length)return;const s=q_(r),a=i>t.length;n.issues.push(Be(Be({origin:s},a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length}),{},{inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort}))}}),FE=p_("$ZodCheckStringFormat",(e,t)=>{var n,r,i,s;OE.init(e,t),e._zod.onattach.push(e=>{const n=e._zod.bag;var r;(n.format=t.format,t.pattern)&&(null!==(r=n.patterns)&&void 0!==r||(n.patterns=new Set),n.patterns.add(t.pattern))}),t.pattern?null!==(n=(i=e._zod).check)&&void 0!==n||(i.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push(Be(Be({origin:"string",code:"invalid_format",format:t.format,input:n.value},t.pattern?{pattern:t.pattern.toString()}:{}),{},{inst:e,continue:!t.abort}))}):null!==(r=(s=e._zod).check)&&void 0!==r||(s.check=()=>{})}),UE=p_("$ZodCheckRegex",(e,t)=>{FE.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),zE=p_("$ZodCheckLowerCase",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=RE),FE.init(e,t)}),VE=p_("$ZodCheckUpperCase",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=PE),FE.init(e,t)}),BE=p_("$ZodCheckIncludes",(e,t)=>{OE.init(e,t);const n=D_(t.includes),r=new RegExp("number"===typeof t.position?"^.{".concat(t.position,"}").concat(n):n);t.pattern=r,e._zod.onattach.push(e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),qE=p_("$ZodCheckStartsWith",(e,t)=>{var n;OE.init(e,t);const r=new RegExp("^".concat(D_(t.prefix),".*"));null!==(n=t.pattern)&&void 0!==n||(t.pattern=r),e._zod.onattach.push(e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),WE=p_("$ZodCheckEndsWith",(e,t)=>{var n;OE.init(e,t);const r=new RegExp(".*".concat(D_(t.suffix),"$"));null!==(n=t.pattern)&&void 0!==n||(t.pattern=r),e._zod.onattach.push(e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});const HE=p_("$ZodCheckOverwrite",(e,t)=>{OE.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class KE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"===typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e);for(const i of r)this.content.push(i)}compile(){var e;const t=Function,n=null===this||void 0===this?void 0:this.args,r=[...(null!==(e=null===this||void 0===this?void 0:this.content)&&void 0!==e?e:[""]).map(e=>"  ".concat(e))];return new t(...n,r.join("\n"))}}const GE={major:4,minor:1,patch:12},$E=p_("$ZodType",(e,t)=>{var n,r;null!==e&&void 0!==e||(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=GE;const i=[...null!==(n=e._zod.def.checks)&&void 0!==n?n:[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const o of i)for(const t of o._zod.onattach)t(e);if(0===i.length){var s,a;null!==(s=(r=e._zod).deferred)&&void 0!==s||(r.deferred=[]),null===(a=e._zod.deferred)||void 0===a||a.push(()=>{e._zod.run=e._zod.parse})}else{const t=(e,t,n)=>{let r,i=U_(e);for(const s of t){if(s._zod.def.when){if(!s._zod.def.when(e))continue}else if(i)continue;const t=e.issues.length,a=s._zod.check(e);if(a instanceof Promise&&!1===(null===n||void 0===n?void 0:n.async))throw new m_;if(r||a instanceof Promise)r=(null!==r&&void 0!==r?r:Promise.resolve()).then(async()=>{await a;e.issues.length!==t&&(i||(i=U_(e,t)))});else{if(e.issues.length===t)continue;i||(i=U_(e,t))}}return r?r.then(()=>e):e},n=(n,r,s)=>{if(U_(n))return n.aborted=!0,n;const a=t(r,i,s);if(a instanceof Promise){if(!1===s.async)throw new m_;return a.then(t=>e._zod.parse(t,s))}return e._zod.parse(a,s)};e._zod.run=(r,s)=>{if(s.skipChecks)return e._zod.parse(r,s);if("backward"===s.direction){const t=e._zod.parse({value:r.value,issues:[]},Be(Be({},s),{},{skipChecks:!0}));return t instanceof Promise?t.then(e=>n(e,r,s)):n(t,r,s)}const a=e._zod.parse(r,s);if(a instanceof Promise){if(!1===s.async)throw new m_;return a.then(e=>t(e,i,s))}return t(a,i,s)}}e["~standard"]={validate:t=>{try{var n;const r=X_(e,t);return r.success?{value:r.data}:{issues:null===(n=r.error)||void 0===n?void 0:n.issues}}catch(It){return tE(e,t).then(e=>{var t;return e.success?{value:e.data}:{issues:null===(t=e.error)||void 0===t?void 0:t.issues}})}},vendor:"zod",version:1}}),QE=p_("$ZodString",(e,t)=>{var n,r,i;$E.init(e,t),e._zod.pattern=null!==(n=[...null!==(r=null===e||void 0===e||null===(i=e._zod.bag)||void 0===i?void 0:i.patterns)&&void 0!==r?r:[]].pop())&&void 0!==n?n:(e=>{var t,n;const r=e?"[\\s\\S]{".concat(null!==(t=null===e||void 0===e?void 0:e.minimum)&&void 0!==t?t:0,",").concat(null!==(n=null===e||void 0===e?void 0:e.maximum)&&void 0!==n?n:"","}"):"[\\s\\S]*";return new RegExp("^".concat(r,"$"))})(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"===typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ZE=p_("$ZodStringFormat",(e,t)=>{FE.init(e,t),QE.init(e,t)}),YE=p_("$ZodGUID",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=yE),ZE.init(e,t)}),JE=p_("$ZodUUID",(e,t)=>{var n;if(t.version){var r;const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error('Invalid UUID version: "'.concat(t.version,'"'));null!==(r=t.pattern)&&void 0!==r||(t.pattern=vE(e))}else null!==(n=t.pattern)&&void 0!==n||(t.pattern=vE());ZE.init(e,t)}),XE=p_("$ZodEmail",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=bE),ZE.init(e,t)}),ek=p_("$ZodURL",(e,t)=>{ZE.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:SE.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(t.normalize?n.value=i.href:n.value=r)}catch(It){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),tk=p_("$ZodEmoji",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ZE.init(e,t)}),nk=p_("$ZodNanoID",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=mE),ZE.init(e,t)}),rk=p_("$ZodCUID",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=uE),ZE.init(e,t)}),ik=p_("$ZodCUID2",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=dE),ZE.init(e,t)}),sk=p_("$ZodULID",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=hE),ZE.init(e,t)}),ak=p_("$ZodXID",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=fE),ZE.init(e,t)}),ok=p_("$ZodKSUID",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=pE),ZE.init(e,t)}),lk=p_("$ZodISODateTime",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=function(e){const t=jE({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r="".concat(t,"(?:").concat(n.join("|"),")");return new RegExp("^".concat(CE,"T(?:").concat(r,")$"))}(t)),ZE.init(e,t)}),ck=p_("$ZodISODate",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=IE),ZE.init(e,t)}),uk=p_("$ZodISOTime",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=new RegExp("^".concat(jE(t),"$"))),ZE.init(e,t)}),dk=p_("$ZodISODuration",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=gE),ZE.init(e,t)}),hk=p_("$ZodIPv4",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=wE),ZE.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),fk=p_("$ZodIPv6",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=xE),ZE.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=n=>{try{new URL("http://[".concat(n.value,"]"))}catch(r){n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),pk=p_("$ZodCIDRv4",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=_E),ZE.init(e,t)}),mk=p_("$ZodCIDRv6",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=EE),ZE.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(2!==r.length)throw new Error;const[e,t]=r;if(!t)throw new Error;const n=Number(t);if("".concat(n)!==t)throw new Error;if(n<0||n>128)throw new Error;new URL("http://[".concat(e,"]"))}catch(i){n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function gk(e){if(""===e)return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch(t){return!1}}const yk=p_("$ZodBase64",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=kE),ZE.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{gk(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});const vk=p_("$ZodBase64URL",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=NE),ZE.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{(function(e){if(!NE.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return gk(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),bk=p_("$ZodE164",(e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=TE),ZE.init(e,t)});const wk=p_("$ZodJWT",(e,t)=>{ZE.init(e,t),e._zod.check=n=>{(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return(!("typ"in i)||"JWT"===(null===i||void 0===i?void 0:i.typ))&&!!i.alg&&(!t||"alg"in i&&i.alg===t)}catch(n){return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),xk=p_("$ZodBoolean",(e,t)=>{$E.init(e,t),e._zod.pattern=AE,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(It){}const i=n.value;return"boolean"===typeof i||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),_k=p_("$ZodUnknown",(e,t)=>{$E.init(e,t),e._zod.parse=e=>e}),Ek=p_("$ZodNever",(e,t)=>{$E.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function kk(e,t,n){e.issues.length&&t.issues.push(...z_(n,e.issues)),t.value[n]=e.value}const Nk=p_("$ZodArray",(e,t)=>{$E.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const s=[];for(let e=0;e<i.length;e++){const a=i[e],o=t.element._zod.run({value:a,issues:[]},r);o instanceof Promise?s.push(o.then(t=>kk(t,n,e))):kk(o,n,e)}return s.length?Promise.all(s).then(()=>n):n}});function Sk(e,t,n,r){e.issues.length&&t.issues.push(...z_(n,e.issues)),void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Tk(e){const t=Object.keys(e.shape);for(const s of t){var n;if(null===(n=e.shape)||void 0===n||null===(n=n[s])||void 0===n||null===(n=n._zod)||void 0===n||null===(n=n.traits)||void 0===n||!n.has("$ZodType"))throw new Error('Invalid element at key "'.concat(s,'": expected a Zod schema'))}const r=(i=e.shape,Object.keys(i).filter(e=>"optional"===i[e]._zod.optin&&"optional"===i[e]._zod.optout));var i;return Be(Be({},e),{},{keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)})}function Ck(e,t,n,r,i,s){const a=[],o=i.keySet,l=i.catchall._zod,c=l.def.type;for(const u of Object.keys(t)){if(o.has(u))continue;if("never"===c){a.push(u);continue}const i=l.run({value:t[u],issues:[]},r);i instanceof Promise?e.push(i.then(e=>Sk(e,n,u,t))):Sk(i,n,u,t)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const Ik=p_("$ZodObject",(e,t)=>{$E.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(null===n||void 0===n||!n.get){const e=t.shape;Object.defineProperty(t,"shape",{get:()=>{const n=Be({},e);return Object.defineProperty(t,"shape",{value:n}),n}})}const r=x_(()=>Tk(t));N_(e._zod,"propValues",()=>{const e=t.shape,n={};for(const t in e){const i=e[t]._zod;if(i.values){var r;null!==(r=n[t])&&void 0!==r||(n[t]=new Set);for(const e of i.values)n[t].add(e)}}return n});const i=j_,s=t.catchall;let a;e._zod.parse=(t,n)=>{null!==a&&void 0!==a||(a=r.value);const o=t.value;if(!i(o))return t.issues.push({expected:"object",code:"invalid_type",input:o,inst:e}),t;t.value={};const l=[],c=a.shape;for(const e of a.keys){const r=c[e]._zod.run({value:o[e],issues:[]},n);r instanceof Promise?l.push(r.then(n=>Sk(n,t,e,o))):Sk(r,t,e,o)}return s?Ck(l,o,t,n,r.value,e):l.length?Promise.all(l).then(()=>t):t}}),jk=p_("$ZodObjectJIT",(e,t)=>{Ik.init(e,t);const n=e._zod.parse,r=x_(()=>Tk(t));let i;const s=j_,a=!y_.jitless,o=a&&A_.value,l=t.catchall;let c;e._zod.parse=(u,d)=>{null!==c&&void 0!==c||(c=r.value);const h=u.value;return s(h)?a&&o&&!1===(null===d||void 0===d?void 0:d.async)&&!0!==d.jitless?(i||(i=(e=>{const t=new KE(["shape","payload","ctx"]),n=r.value,i=e=>{const t=C_(e);return"shape[".concat(t,"]._zod.run({ value: input[").concat(t,"], issues: [] }, ctx)")};t.write("const input = payload.value;");const s=Object.create(null);let a=0;for(const r of n.keys)s[r]="key_".concat(a++);t.write("const newResult = {};");for(const r of n.keys){const e=s[r],n=C_(r);t.write("const ".concat(e," = ").concat(i(r),";")),t.write("\n        if (".concat(e,".issues.length) {\n          payload.issues = payload.issues.concat(").concat(e,".issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [").concat(n,", ...iss.path] : [").concat(n,"]\n          })));\n        }\n        \n        \n        if (").concat(e,".value === undefined) {\n          if (").concat(n," in input) {\n            newResult[").concat(n,"] = undefined;\n          }\n        } else {\n          newResult[").concat(n,"] = ").concat(e,".value;\n        }\n        \n      "))}t.write("payload.value = newResult;"),t.write("return payload;");const o=t.compile();return(t,n)=>o(e,t,n)})(t.shape)),u=i(u,d),l?Ck([],h,u,d,c,e):u):n(u,d):(u.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),u)}});function Ak(e,t,n,r){for(const s of e)if(0===s.issues.length)return t.value=s.value,t;const i=e.filter(e=>!U_(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>B_(e,r,v_())))}),t)}const Rk=p_("$ZodUnion",(e,t)=>{$E.init(e,t),N_(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),N_(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),N_(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),N_(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp("^(".concat(e.map(e=>E_(e.source)).join("|"),")$"))}});const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(n)return r(i,s);let a=!1;const o=[];for(const e of t.options){const t=e._zod.run({value:i.value,issues:[]},s);if(t instanceof Promise)o.push(t),a=!0;else{if(0===t.issues.length)return t;o.push(t)}}return a?Promise.all(o).then(t=>Ak(t,i,e,s)):Ak(o,i,e,s)}}),Pk=p_("$ZodIntersection",(e,t)=>{$E.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,i=t.left._zod.run({value:r,issues:[]},n),s=t.right._zod.run({value:r,issues:[]},n);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(t=>{let[n,r]=t;return Dk(e,n,r)}):Dk(e,i,s)}});function Ok(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(R_(e)&&R_(t)){const n=Object.keys(t),r=Object.keys(e).filter(e=>-1!==n.indexOf(e)),i=Be(Be({},e),t);for(const s of r){const n=Ok(e[s],t[s]);if(!n.valid)return{valid:!1,mergeErrorPath:[s,...n.mergeErrorPath]};i[s]=n.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=Ok(e[r],t[r]);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Dk(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),U_(e))return e;const r=Ok(t.value,n.value);if(!r.valid)throw new Error("Unmergable intersection. Error path: "+"".concat(JSON.stringify(r.mergeErrorPath)));return e.value=r.data,e}const Lk=p_("$ZodEnum",(e,t)=>{$E.init(e,t);const n=function(e){const t=Object.values(e).filter(e=>"number"===typeof e),n=Object.entries(e).filter(e=>{let[n,r]=e;return-1===t.indexOf(+n)}).map(e=>{let[t,n]=e;return n});return n}(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp("^(".concat(n.filter(e=>O_.has(typeof e)).map(e=>"string"===typeof e?D_(e):e.toString()).join("|"),")$")),e._zod.parse=(t,i)=>{const s=t.value;return r.has(s)||t.issues.push({code:"invalid_value",values:n,input:s,inst:e}),t}}),Mk=p_("$ZodTransform",(e,t)=>{$E.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new g_(e.constructor.name);const i=t.transform(n.value,n);if(r.async){return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(n.value=e,n))}if(i instanceof Promise)throw new m_;return n.value=i,n}});function Fk(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const Uk=p_("$ZodOptional",(e,t)=>{$E.init(e,t),e._zod.optin="optional",e._zod.optout="optional",N_(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),N_(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat(E_(e.source),")?$")):void 0}),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>Fk(t,e.value)):Fk(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),zk=p_("$ZodNullable",(e,t)=>{$E.init(e,t),N_(e._zod,"optin",()=>t.innerType._zod.optin),N_(e._zod,"optout",()=>t.innerType._zod.optout),N_(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat(E_(e.source),"|null)$")):void 0}),N_(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),Vk=p_("$ZodDefault",(e,t)=>{$E.init(e,t),e._zod.optin="optional",N_(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>Bk(e,t)):Bk(r,t)}});function Bk(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const qk=p_("$ZodPrefault",(e,t)=>{$E.init(e,t),e._zod.optin="optional",N_(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),Wk=p_("$ZodNonOptional",(e,t)=>{$E.init(e,t),N_(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(t=>Hk(t,e)):Hk(i,e)}});function Hk(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Kk=p_("$ZodCatch",(e,t)=>{$E.init(e,t),N_(e._zod,"optin",()=>t.innerType._zod.optin),N_(e._zod,"optout",()=>t.innerType._zod.optout),N_(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue(Be(Be({},e),{},{error:{issues:r.issues.map(e=>B_(e,n,v_()))},input:e.value})),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue(Be(Be({},e),{},{error:{issues:r.issues.map(e=>B_(e,n,v_()))},input:e.value})),e.issues=[]),e)}}),Gk=p_("$ZodPipe",(e,t)=>{$E.init(e,t),N_(e._zod,"values",()=>t.in._zod.values),N_(e._zod,"optin",()=>t.in._zod.optin),N_(e._zod,"optout",()=>t.out._zod.optout),N_(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>$k(e,t.in,n)):$k(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>$k(e,t.out,n)):$k(r,t.out,n)}});function $k(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Qk=p_("$ZodReadonly",(e,t)=>{$E.init(e,t),N_(e._zod,"propValues",()=>t.innerType._zod.propValues),N_(e._zod,"values",()=>t.innerType._zod.values),N_(e._zod,"optin",()=>t.innerType._zod.optin),N_(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(Zk):Zk(r)}});function Zk(e){return e.value=Object.freeze(e.value),e}const Yk=p_("$ZodCustom",(e,t)=>{OE.init(e,t),$E.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(t=>Jk(t,n,r,e));Jk(i,n,r,e)}});function Jk(e,t,n,r){if(!e){var i;const e={code:"custom",input:n,inst:r,path:[...null!==(i=r._zod.def.path)&&void 0!==i?i:[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(W_(e))}}const Xk=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(t){var n;return null!==(n=e[t])&&void 0!==n?n:null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return"Invalid input: expected ".concat(e.expected,", received ").concat((e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input));case"invalid_value":return 1===e.values.length?"Invalid input: expected ".concat(F_(e.values[0])):"Invalid option: expected one of ".concat(b_(e.values,"|"));case"too_big":{var r,i,s;const n=e.inclusive?"<=":"<",a=t(e.origin);return a?"Too big: expected ".concat(null!==(r=e.origin)&&void 0!==r?r:"value"," to have ").concat(n).concat(e.maximum.toString()," ").concat(null!==(i=a.unit)&&void 0!==i?i:"elements"):"Too big: expected ".concat(null!==(s=e.origin)&&void 0!==s?s:"value"," to be ").concat(n).concat(e.maximum.toString())}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?"Too small: expected ".concat(e.origin," to have ").concat(n).concat(e.minimum.toString()," ").concat(r.unit):"Too small: expected ".concat(e.origin," to be ").concat(n).concat(e.minimum.toString())}case"invalid_format":{var a;const t=e;return"starts_with"===t.format?'Invalid string: must start with "'.concat(t.prefix,'"'):"ends_with"===t.format?'Invalid string: must end with "'.concat(t.suffix,'"'):"includes"===t.format?'Invalid string: must include "'.concat(t.includes,'"'):"regex"===t.format?"Invalid string: must match pattern ".concat(t.pattern):"Invalid ".concat(null!==(a=n[t.format])&&void 0!==a?a:e.format)}case"not_multiple_of":return"Invalid number: must be a multiple of ".concat(e.divisor);case"unrecognized_keys":return"Unrecognized key".concat(e.keys.length>1?"s":"",": ").concat(b_(e.keys,", "));case"invalid_key":return"Invalid key in ".concat(e.origin);case"invalid_union":default:return"Invalid input";case"invalid_element":return"Invalid value in ".concat(e.origin)}}};Symbol("ZodOutput"),Symbol("ZodInput");class eN{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e){const t=arguments.length<=1?void 0:arguments[1];if(this._map.set(e,t),t&&"object"===typeof t&&"id"in t){if(this._idmap.has(t.id))throw new Error("ID ".concat(t.id," already exists in the registry"));this._idmap.set(t.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"===typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){var n;const r=Be({},null!==(n=this.get(t))&&void 0!==n?n:{});delete r.id;const i=Be(Be({},r),this._map.get(e));return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function tN(){return new eN}const nN=tN();function rN(e,t){return new e(Be({type:"string",format:"guid",check:"string_format",abort:!1},M_(t)))}function iN(e,t){return new DE(Be(Be({check:"max_length"},M_(t)),{},{maximum:e}))}function sN(e,t){return new LE(Be(Be({check:"min_length"},M_(t)),{},{minimum:e}))}function aN(e,t){return new ME(Be(Be({check:"length_equals"},M_(t)),{},{length:e}))}function oN(e){return new HE({check:"overwrite",tx:e})}function lN(e){const t=function(e,t){const n=new OE(Be({check:"custom"},M_(t)));return n._zod.check=e,n}(n=>(n.addIssue=e=>{if("string"===typeof e)n.issues.push(W_(e,n.value,t._zod.def));else{var r,i,s,a;const o=e;o.fatal&&(o.continue=!1),null!==(r=o.code)&&void 0!==r||(o.code="custom"),null!==(i=o.input)&&void 0!==i||(o.input=n.value),null!==(s=o.inst)&&void 0!==s||(o.inst=t),null!==(a=o.continue)&&void 0!==a||(o.continue=!t._zod.def.abort),n.issues.push(W_(o))}},e(n.value,n)));return t}function cN(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function uN(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=n[a].types,c=l&&l[r.code];n[a]=Sx(a,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function dN(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("invalid_union"===r.code&&r.errors.length>0){var o=r.errors[0][0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("invalid_union"===r.code&&r.errors.forEach(function(t){return t.forEach(function(t){return e.push(t)})}),t){var l=n[a].types,c=l&&l[r.code];n[a]=Sx(a,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function hN(e,t,n){if(void 0===n&&(n={}),function(e){return"_def"in e&&"object"==typeof e._def&&"typeName"in e._def}(e))return function(r,i,s){try{return Promise.resolve(cN(function(){return Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](r,t)).then(function(e){return s.shouldUseNativeValidation&&u_({},s),{errors:{},values:n.raw?Object.assign({},r):e}})},function(e){if(function(e){return Array.isArray(null==e?void 0:e.issues)}(e))return{values:{},errors:d_(uN(e.errors,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)};throw e}))}catch(a){return Promise.reject(a)}};if(function(e){return"_zod"in e&&"object"==typeof e._zod}(e))return function(r,i,s){try{return Promise.resolve(cN(function(){return Promise.resolve(("sync"===n.mode?Q_:Y_)(e,r,t)).then(function(e){return s.shouldUseNativeValidation&&u_({},s),{errors:{},values:n.raw?Object.assign({},r):e}})},function(e){if(function(e){return e instanceof K_}(e))return{values:{},errors:d_(dN(e.issues,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)};throw e}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}const fN=p_("ZodISODateTime",(e,t)=>{lk.init(e,t),UN.init(e,t)});function pN(e){return function(e,t){return new e(Be({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null},M_(t)))}(fN,e)}const mN=p_("ZodISODate",(e,t)=>{ck.init(e,t),UN.init(e,t)});function gN(e){return function(e,t){return new e(Be({type:"string",format:"date",check:"string_format"},M_(t)))}(mN,e)}const yN=p_("ZodISOTime",(e,t)=>{uk.init(e,t),UN.init(e,t)});function vN(e){return function(e,t){return new e(Be({type:"string",format:"time",check:"string_format",precision:null},M_(t)))}(yN,e)}const bN=p_("ZodISODuration",(e,t)=>{dk.init(e,t),UN.init(e,t)});function wN(e){return function(e,t){return new e(Be({type:"string",format:"duration",check:"string_format"},M_(t)))}(bN,e)}const xN=(e,t)=>{K_.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.message;const n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code&&i.errors.length)i.errors.map(e=>r({issues:e}));else if("invalid_key"===i.code)r({issues:i.issues});else if("invalid_element"===i.code)r({issues:i.issues});else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}(e,t)},flatten:{value:t=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.message;const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,w_,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,w_,2)}},isEmpty:{get:()=>0===e.issues.length}})},_N=(p_("ZodError",xN),p_("ZodError",xN,{Parent:Error})),EN=$_(_N),kN=Z_(_N),NN=J_(_N),SN=eE(_N),TN=nE(_N),CN=rE(_N),IN=iE(_N),jN=sE(_N),AN=aE(_N),RN=oE(_N),PN=lE(_N),ON=cE(_N),DN=p_("ZodType",(e,t)=>($E.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=function(){for(var n,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e.clone(T_(t,{checks:[...null!==(n=t.checks)&&void 0!==n?n:[],...i.map(e=>"function"===typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}))},e.clone=(t,n)=>L_(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>EN(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>NN(e,t,n),e.parseAsync=async(t,n)=>kN(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>SN(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>TN(e,t,n),e.decode=(t,n)=>CN(e,t,n),e.encodeAsync=async(t,n)=>IN(e,t,n),e.decodeAsync=async(t,n)=>jN(e,t,n),e.safeEncode=(t,n)=>AN(e,t,n),e.safeDecode=(t,n)=>RN(e,t,n),e.safeEncodeAsync=async(t,n)=>PN(e,t,n),e.safeDecodeAsync=async(t,n)=>ON(e,t,n),e.refine=(t,n)=>e.check(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t,n){return new e(Be({type:"custom",check:"custom",fn:t},M_(n)))}(PS,e,t)}(t,n)),e.superRefine=t=>e.check(lN(t)),e.overwrite=t=>e.check(oN(t)),e.optional=()=>ES(e),e.nullable=()=>NS(e),e.nullish=()=>ES(NS(e)),e.nonoptional=t=>function(e,t){return new CS(Be({type:"nonoptional",innerType:e},M_(t)))}(e,t),e.array=()=>hS(e),e.or=t=>gS([e,t]),e.and=t=>new yS({type:"intersection",left:e,right:t}),e.transform=t=>AS(e,xS(t)),e.default=t=>{return n=t,new SS({type:"default",innerType:e,get defaultValue(){return"function"===typeof n?n():P_(n)}});var n},e.prefault=t=>{return n=t,new TS({type:"prefault",innerType:e,get defaultValue(){return"function"===typeof n?n():P_(n)}});var n},e.catch=t=>{return new IS({type:"catch",innerType:e,catchValue:"function"===typeof(n=t)?n:()=>n});var n},e.pipe=t=>AS(e,t),e.readonly=()=>new RS({type:"readonly",innerType:e}),e.describe=t=>{const n=e.clone();return nN.add(n,{description:t}),n},Object.defineProperty(e,"description",{get(){var t;return null===(t=nN.get(e))||void 0===t?void 0:t.description},configurable:!0}),e.meta=function(){if(0===arguments.length)return nN.get(e);const t=e.clone();return nN.add(t,arguments.length<=0?void 0:arguments[0]),t},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),LN=p_("_ZodString",(e,t)=>{var n,r,i;QE.init(e,t),DN.init(e,t);const s=e._zod.bag;e.format=null!==(n=s.format)&&void 0!==n?n:null,e.minLength=null!==(r=s.minimum)&&void 0!==r?r:null,e.maxLength=null!==(i=s.maximum)&&void 0!==i?i:null,e.regex=function(){return e.check(function(e,t){return new UE(Be(Be({check:"string_format",format:"regex"},M_(t)),{},{pattern:e}))}(...arguments))},e.includes=function(){return e.check(function(e,t){return new BE(Be(Be({check:"string_format",format:"includes"},M_(t)),{},{includes:e}))}(...arguments))},e.startsWith=function(){return e.check(function(e,t){return new qE(Be(Be({check:"string_format",format:"starts_with"},M_(t)),{},{prefix:e}))}(...arguments))},e.endsWith=function(){return e.check(function(e,t){return new WE(Be(Be({check:"string_format",format:"ends_with"},M_(t)),{},{suffix:e}))}(...arguments))},e.min=function(){return e.check(sN(...arguments))},e.max=function(){return e.check(iN(...arguments))},e.length=function(){return e.check(aN(...arguments))},e.nonempty=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.check(sN(1,...n))},e.lowercase=t=>e.check(function(e){return new zE(Be({check:"string_format",format:"lowercase"},M_(e)))}(t)),e.uppercase=t=>e.check(function(e){return new VE(Be({check:"string_format",format:"uppercase"},M_(e)))}(t)),e.trim=()=>e.check(oN(e=>e.trim())),e.normalize=function(){return e.check(function(e){return oN(t=>t.normalize(e))}(...arguments))},e.toLowerCase=()=>e.check(oN(e=>e.toLowerCase())),e.toUpperCase=()=>e.check(oN(e=>e.toUpperCase()))}),MN=p_("ZodString",(e,t)=>{QE.init(e,t),LN.init(e,t),e.email=t=>e.check(function(e,t){return new e(Be({type:"string",format:"email",check:"string_format",abort:!1},M_(t)))}(zN,t)),e.url=t=>e.check(function(e,t){return new e(Be({type:"string",format:"url",check:"string_format",abort:!1},M_(t)))}(qN,t)),e.jwt=t=>e.check(function(e,t){return new e(Be({type:"string",format:"jwt",check:"string_format",abort:!1},M_(t)))}(iS,t)),e.emoji=t=>e.check(function(e,t){return new e(Be({type:"string",format:"emoji",check:"string_format",abort:!1},M_(t)))}(WN,t)),e.guid=t=>e.check(rN(VN,t)),e.uuid=t=>e.check(function(e,t){return new e(Be({type:"string",format:"uuid",check:"string_format",abort:!1},M_(t)))}(BN,t)),e.uuidv4=t=>e.check(function(e,t){return new e(Be({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4"},M_(t)))}(BN,t)),e.uuidv6=t=>e.check(function(e,t){return new e(Be({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6"},M_(t)))}(BN,t)),e.uuidv7=t=>e.check(function(e,t){return new e(Be({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7"},M_(t)))}(BN,t)),e.nanoid=t=>e.check(function(e,t){return new e(Be({type:"string",format:"nanoid",check:"string_format",abort:!1},M_(t)))}(HN,t)),e.guid=t=>e.check(rN(VN,t)),e.cuid=t=>e.check(function(e,t){return new e(Be({type:"string",format:"cuid",check:"string_format",abort:!1},M_(t)))}(KN,t)),e.cuid2=t=>e.check(function(e,t){return new e(Be({type:"string",format:"cuid2",check:"string_format",abort:!1},M_(t)))}(GN,t)),e.ulid=t=>e.check(function(e,t){return new e(Be({type:"string",format:"ulid",check:"string_format",abort:!1},M_(t)))}($N,t)),e.base64=t=>e.check(function(e,t){return new e(Be({type:"string",format:"base64",check:"string_format",abort:!1},M_(t)))}(tS,t)),e.base64url=t=>e.check(function(e,t){return new e(Be({type:"string",format:"base64url",check:"string_format",abort:!1},M_(t)))}(nS,t)),e.xid=t=>e.check(function(e,t){return new e(Be({type:"string",format:"xid",check:"string_format",abort:!1},M_(t)))}(QN,t)),e.ksuid=t=>e.check(function(e,t){return new e(Be({type:"string",format:"ksuid",check:"string_format",abort:!1},M_(t)))}(ZN,t)),e.ipv4=t=>e.check(function(e,t){return new e(Be({type:"string",format:"ipv4",check:"string_format",abort:!1},M_(t)))}(YN,t)),e.ipv6=t=>e.check(function(e,t){return new e(Be({type:"string",format:"ipv6",check:"string_format",abort:!1},M_(t)))}(JN,t)),e.cidrv4=t=>e.check(function(e,t){return new e(Be({type:"string",format:"cidrv4",check:"string_format",abort:!1},M_(t)))}(XN,t)),e.cidrv6=t=>e.check(function(e,t){return new e(Be({type:"string",format:"cidrv6",check:"string_format",abort:!1},M_(t)))}(eS,t)),e.e164=t=>e.check(function(e,t){return new e(Be({type:"string",format:"e164",check:"string_format",abort:!1},M_(t)))}(rS,t)),e.datetime=t=>e.check(pN(t)),e.date=t=>e.check(gN(t)),e.time=t=>e.check(vN(t)),e.duration=t=>e.check(wN(t))});function FN(e){return function(e,t){return new e(Be({type:"string"},M_(t)))}(MN,e)}const UN=p_("ZodStringFormat",(e,t)=>{ZE.init(e,t),LN.init(e,t)}),zN=p_("ZodEmail",(e,t)=>{XE.init(e,t),UN.init(e,t)});const VN=p_("ZodGUID",(e,t)=>{YE.init(e,t),UN.init(e,t)});const BN=p_("ZodUUID",(e,t)=>{JE.init(e,t),UN.init(e,t)});const qN=p_("ZodURL",(e,t)=>{ek.init(e,t),UN.init(e,t)});const WN=p_("ZodEmoji",(e,t)=>{tk.init(e,t),UN.init(e,t)});const HN=p_("ZodNanoID",(e,t)=>{nk.init(e,t),UN.init(e,t)});const KN=p_("ZodCUID",(e,t)=>{rk.init(e,t),UN.init(e,t)});const GN=p_("ZodCUID2",(e,t)=>{ik.init(e,t),UN.init(e,t)});const $N=p_("ZodULID",(e,t)=>{sk.init(e,t),UN.init(e,t)});const QN=p_("ZodXID",(e,t)=>{ak.init(e,t),UN.init(e,t)});const ZN=p_("ZodKSUID",(e,t)=>{ok.init(e,t),UN.init(e,t)});const YN=p_("ZodIPv4",(e,t)=>{hk.init(e,t),UN.init(e,t)});const JN=p_("ZodIPv6",(e,t)=>{fk.init(e,t),UN.init(e,t)});const XN=p_("ZodCIDRv4",(e,t)=>{pk.init(e,t),UN.init(e,t)});const eS=p_("ZodCIDRv6",(e,t)=>{mk.init(e,t),UN.init(e,t)});const tS=p_("ZodBase64",(e,t)=>{yk.init(e,t),UN.init(e,t)});const nS=p_("ZodBase64URL",(e,t)=>{vk.init(e,t),UN.init(e,t)});const rS=p_("ZodE164",(e,t)=>{bk.init(e,t),UN.init(e,t)});const iS=p_("ZodJWT",(e,t)=>{wk.init(e,t),UN.init(e,t)});const sS=p_("ZodBoolean",(e,t)=>{xk.init(e,t),DN.init(e,t)});function aS(e){return function(e,t){return new e(Be({type:"boolean"},M_(t)))}(sS,e)}const oS=p_("ZodUnknown",(e,t)=>{_k.init(e,t),DN.init(e,t)});function lS(){return function(e){return new e({type:"unknown"})}(oS)}const cS=p_("ZodNever",(e,t)=>{Ek.init(e,t),DN.init(e,t)});function uS(e){return function(e,t){return new e(Be({type:"never"},M_(t)))}(cS,e)}const dS=p_("ZodArray",(e,t)=>{Nk.init(e,t),DN.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(sN(t,n)),e.nonempty=t=>e.check(sN(1,t)),e.max=(t,n)=>e.check(iN(t,n)),e.length=(t,n)=>e.check(aN(t,n)),e.unwrap=()=>e.element});function hS(e,t){return function(e,t,n){return new e(Be({type:"array",element:t},M_(n)))}(dS,e,t)}const fS=p_("ZodObject",(e,t)=>{jk.init(e,t),DN.init(e,t),N_(e,"shape",()=>t.shape),e.keyof=()=>bS(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone(Be(Be({},e._zod.def),{},{catchall:t})),e.passthrough=()=>e.clone(Be(Be({},e._zod.def),{},{catchall:lS()})),e.loose=()=>e.clone(Be(Be({},e._zod.def),{},{catchall:lS()})),e.strict=()=>e.clone(Be(Be({},e._zod.def),{},{catchall:uS()})),e.strip=()=>e.clone(Be(Be({},e._zod.def),{},{catchall:void 0})),e.extend=t=>function(e,t){if(!R_(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=T_(e._zod.def,{get shape(){const n=Be(Be({},e._zod.def.shape),t);return S_(this,"shape",n),n},checks:[]});return L_(e,r)}(e,t),e.safeExtend=t=>function(e,t){if(!R_(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Be(Be({},e._zod.def),{},{get shape(){const n=Be(Be({},e._zod.def.shape),t);return S_(this,"shape",n),n},checks:e._zod.def.checks});return L_(e,n)}(e,t),e.merge=t=>function(e,t){const n=T_(e._zod.def,{get shape(){const n=Be(Be({},e._zod.def.shape),t._zod.def.shape);return S_(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return L_(e,n)}(e,t),e.pick=t=>function(e,t){const n=e._zod.def;return L_(e,T_(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error('Unrecognized key: "'.concat(r,'"'));t[r]&&(e[r]=n.shape[r])}return S_(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=e._zod.def,r=T_(e._zod.def,{get shape(){const r=Be({},e._zod.def.shape);for(const e in t){if(!(e in n.shape))throw new Error('Unrecognized key: "'.concat(e,'"'));t[e]&&delete r[e]}return S_(this,"shape",r),r},checks:[]});return L_(e,r)}(e,t),e.partial=function(){return function(e,t,n){const r=T_(t._zod.def,{get shape(){const r=t._zod.def.shape,i=Be({},r);if(n)for(const t in n){if(!(t in r))throw new Error('Unrecognized key: "'.concat(t,'"'));n[t]&&(i[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)i[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return S_(this,"shape",i),i},checks:[]});return L_(t,r)}(_S,e,arguments.length<=0?void 0:arguments[0])},e.required=function(){return function(e,t,n){const r=T_(t._zod.def,{get shape(){const r=t._zod.def.shape,i=Be({},r);if(n)for(const t in n){if(!(t in i))throw new Error('Unrecognized key: "'.concat(t,'"'));n[t]&&(i[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)i[t]=new e({type:"nonoptional",innerType:r[t]});return S_(this,"shape",i),i},checks:[]});return L_(t,r)}(CS,e,arguments.length<=0?void 0:arguments[0])}});function pS(e,t){const n=Be({type:"object",shape:null!==e&&void 0!==e?e:{}},M_(t));return new fS(n)}const mS=p_("ZodUnion",(e,t)=>{Rk.init(e,t),DN.init(e,t),e.options=t.options});function gS(e,t){return new mS(Be({type:"union",options:e},M_(t)))}const yS=p_("ZodIntersection",(e,t)=>{Pk.init(e,t),DN.init(e,t)});const vS=p_("ZodEnum",(e,t)=>{Lk.init(e,t),DN.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const i={};for(const s of e){if(!n.has(s))throw new Error("Key ".concat(s," not found in enum"));i[s]=t.entries[s]}return new vS(Be(Be(Be({},t),{},{checks:[]},M_(r)),{},{entries:i}))},e.exclude=(e,r)=>{const i=Be({},t.entries);for(const t of e){if(!n.has(t))throw new Error("Key ".concat(t," not found in enum"));delete i[t]}return new vS(Be(Be(Be({},t),{},{checks:[]},M_(r)),{},{entries:i}))}});function bS(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new vS(Be({type:"enum",entries:n},M_(t)))}const wS=p_("ZodTransform",(e,t)=>{Mk.init(e,t),DN.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new g_(e.constructor.name);n.addIssue=r=>{if("string"===typeof r)n.issues.push(W_(r,n.value,t));else{var i,s,a;const t=r;t.fatal&&(t.continue=!1),null!==(i=t.code)&&void 0!==i||(t.code="custom"),null!==(s=t.input)&&void 0!==s||(t.input=n.value),null!==(a=t.inst)&&void 0!==a||(t.inst=e),n.issues.push(W_(t))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(e=>(n.value=e,n)):(n.value=i,n)}});function xS(e){return new wS({type:"transform",transform:e})}const _S=p_("ZodOptional",(e,t)=>{Uk.init(e,t),DN.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ES(e){return new _S({type:"optional",innerType:e})}const kS=p_("ZodNullable",(e,t)=>{zk.init(e,t),DN.init(e,t),e.unwrap=()=>e._zod.def.innerType});function NS(e){return new kS({type:"nullable",innerType:e})}const SS=p_("ZodDefault",(e,t)=>{Vk.init(e,t),DN.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});const TS=p_("ZodPrefault",(e,t)=>{qk.init(e,t),DN.init(e,t),e.unwrap=()=>e._zod.def.innerType});const CS=p_("ZodNonOptional",(e,t)=>{Wk.init(e,t),DN.init(e,t),e.unwrap=()=>e._zod.def.innerType});const IS=p_("ZodCatch",(e,t)=>{Kk.init(e,t),DN.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});const jS=p_("ZodPipe",(e,t)=>{Gk.init(e,t),DN.init(e,t),e.in=t.in,e.out=t.out});function AS(e,t){return new jS({type:"pipe",in:e,out:t})}const RS=p_("ZodReadonly",(e,t)=>{Qk.init(e,t),DN.init(e,t),e.unwrap=()=>e._zod.def.innerType});const PS=p_("ZodCustom",(e,t)=>{Yk.init(e,t),DN.init(e,t)});var OS;OS||(OS={}),v_({localeError:Xk()});const DS=FN().trim().min(1,"Email address is required").email("Enter a valid email address"),LS=FN().min(1,"Password is required").min(8,"Password must be at least 8 characters").max(128,"Password is too long"),MS=FN().trim().min(1,"Display name is required").min(2,"Display name must be at least 2 characters").max(50,"Display name is too long"),FS=(new Date).getFullYear(),US=FN().min(1,"Date of birth is required").regex(/^\d{4}-\d{2}-\d{2}$/,"Please enter a valid date").refine(e=>{const[t,n,r]=e.split("-").map(Number);if(t<1930||t>FS)return!1;const i=new Date(e);return i instanceof Date&&!isNaN(i.getTime())&&i.getUTCFullYear()===t&&i.getUTCMonth()+1===n&&i.getUTCDate()===r},"Please enter a real date").refine(e=>{const t=new Date(e),n=new Date;return n.getFullYear()-t.getFullYear()-(n.getMonth()<t.getMonth()||n.getMonth()===t.getMonth()&&n.getDate()<t.getDate()?1:0)>=18},"You must be 18 or older to register"),zS=pS({email:DS,password:FN().min(1,"Password is required")}),VS=pS({displayName:MS,email:DS,dateOfBirth:US,password:LS,confirmPassword:FN().min(1,"Please confirm your password"),agreeToTerms:aS().refine(e=>!0===e,"You must agree to the terms and conditions")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),BS=["title","titleId"];function qS(e,t){let{title:n,titleId:r}=e,i=_b(e,BS);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const WS=s.forwardRef(qS);function HS(e){let{id:t,message:n}=e;const[r,i]=(0,s.useState)(!1);return n?(0,yb.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 z-10",children:(0,yb.jsxs)("div",{className:"relative",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[(0,yb.jsx)(WS,{className:"h-5 w-5 text-red-500 cursor-pointer hover:text-red-600 transition-colors","aria-hidden":"true"}),r&&(0,yb.jsxs)("div",{id:t,className:"absolute right-0 top-7 z-20 min-w-max max-w-xs bg-red-600 text-white text-xs px-3 py-2 rounded-md shadow-lg whitespace-nowrap",role:"tooltip","aria-live":"polite",children:[n,(0,yb.jsx)("div",{className:"absolute -top-1 right-3 w-2 h-2 bg-red-600 transform rotate-45"})]})]})}):null}const KS=["onBlur"];function GS(e){let{label:t,name:n,register:r,type:i="text",placeholder:s,error:a,inputProps:o={},className:l=""}=e;const c=a?"".concat(n,"-error"):void 0,u=r(n),{onBlur:d}=u,h=_b(u,KS);return(0,yb.jsxs)("div",{className:"mb-4",children:[(0,yb.jsx)("label",{htmlFor:n,className:"auth-label",children:t}),(0,yb.jsxs)("div",{className:"relative",children:[(0,yb.jsx)("input",Be(Be(Be({id:n,type:i,placeholder:s,className:"auth-input ".concat(a?"border-red-600 focus:border-red-600 focus:ring-red-300 pr-10":""," ").concat(l),"aria-invalid":!!a,"aria-describedby":c},h),o),{},{onBlur:async e=>{await d(e),o.onBlur&&o.onBlur(e)}})),(0,yb.jsx)(HS,{id:c,message:null===a||void 0===a?void 0:a.message})]})]})}const $S=["title","titleId"];function QS(e,t){let{title:n,titleId:r}=e,i=_b(e,$S);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const ZS=s.forwardRef(QS),YS=()=>{var e,t;const[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(""),{login:o,googleSignIn:l,currentUser:c}=bb(),u=re(),d=(null===(e=te().state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/",{register:h,handleSubmit:f,formState:{errors:p},setError:m}=l_({resolver:hN(zS),mode:"onBlur",reValidateMode:"onBlur"});(0,s.useEffect)(()=>{c&&u(d,{replace:!0})},[c,u,d]);return(0,yb.jsxs)("div",{className:"min-h-screen bg-dark-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,yb.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,yb.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,yb.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-primaryAccent to-purple-500 rounded-lg flex items-center justify-center",children:(0,yb.jsx)("span",{className:"font-bold",style:{color:"white"},children:"S"})}),(0,yb.jsx)("h1",{className:"text-2xl font-bold",style:{color:"white"},children:"SkillWagers"}),(0,yb.jsx)(xb,{size:"sm"})]}),(0,yb.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold",style:{color:"white"},children:"Welcome back"}),(0,yb.jsx)("p",{className:"mt-2 text-center text-sm text-gray-400",children:"Sign in to your Beta account"})]}),(0,yb.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,yb.jsxs)("div",{className:"auth-card",children:[(0,yb.jsx)("div",{className:"mb-6",children:(0,yb.jsxs)("button",{type:"button",onClick:async()=>{r(!0),a("");try{await l(),u(d,{replace:!0})}catch(e){console.error("Google sign in error:",e),a("Google sign in failed. Please try again.")}finally{r(!1)}},disabled:n,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-dark-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primaryAccent disabled:opacity-50",children:[(0,yb.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,yb.jsx)("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,yb.jsx)("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,yb.jsx)("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,yb.jsx)("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),(0,yb.jsxs)("div",{className:"relative",children:[(0,yb.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,yb.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,yb.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,yb.jsx)("span",{className:"px-2 bg-[#0f1220] text-[#f5f7ff]",children:"Or sign in with email"})})]}),(0,yb.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:f(async e=>{r(!0),a("");try{await o(e.email,e.password),u(d,{replace:!0})}catch(t){console.error("Login error:",t),"auth/user-not-found"===t.code?m("email",{message:"No account found with this email address"}):"auth/wrong-password"===t.code?m("password",{message:"Incorrect password"}):"auth/invalid-email"===t.code?m("email",{message:"Invalid email address"}):"auth/user-disabled"===t.code?m("email",{message:"This account has been disabled"}):"auth/too-many-requests"===t.code?m("password",{message:"Too many failed attempts. Please try again later"}):a(t.message||"Login failed")}finally{r(!1)}}),noValidate:!0,children:[i&&(0,yb.jsx)("div",{className:"bg-red-600 text-white p-3 rounded-md text-sm",children:i}),(0,yb.jsx)(GS,{label:"Email address",name:"email",type:"email",placeholder:"Enter your email address",register:h,error:p.email}),(0,yb.jsx)(GS,{label:"Password",name:"password",type:"password",placeholder:"Enter your password",register:h,error:p.password}),(0,yb.jsx)("div",{className:"flex items-center justify-between",children:(0,yb.jsx)("div",{className:"text-sm",children:(0,yb.jsx)("button",{type:"button",className:"font-medium text-primaryAccent hover:text-purple-400 underline bg-transparent border-none cursor-pointer",onClick:()=>u("/forgot-password"),children:"Forgot your password?"})})}),(0,yb.jsx)("div",{children:(0,yb.jsxs)("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand hover:bg-brand focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand disabled:opacity-50",children:[(0,yb.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,yb.jsx)(ZS,{className:"h-5 w-5 text-brand group-hover:text-white"})}),n?"Signing in...":"Sign in"]})})]}),(0,yb.jsx)("div",{className:"mt-6",children:(0,yb.jsxs)("div",{className:"relative",children:[(0,yb.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,yb.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,yb.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,yb.jsxs)("span",{className:"px-2 bg-[#0f1220] text-[#f5f7ff]",children:["Don't have an account?"," ",(0,yb.jsx)(Re,{to:"/signup",className:"font-medium text-primaryAccent hover:text-purple-400",children:"Sign up for Beta"})]})})]})})]})})]})},JS=["title","titleId"];function XS(e,t){let{title:n,titleId:r}=e,i=_b(e,JS);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const eT=s.forwardRef(XS),tT=()=>{const[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(""),{register:i,googleSignIn:a,currentUser:o}=bb(),l=re(),{register:c,handleSubmit:u,formState:{errors:d},setError:h}=l_({resolver:hN(VS),mode:"onBlur",reValidateMode:"onChange"}),f=(new Date).getFullYear();(0,s.useEffect)(()=>{o&&l("/",{replace:!0})},[o,l]);return(0,yb.jsxs)("div",{className:"min-h-screen bg-dark-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,yb.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,yb.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,yb.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-primaryAccent to-purple-500 rounded-lg flex items-center justify-center",children:(0,yb.jsx)("span",{className:"font-bold",style:{color:"white"},children:"S"})}),(0,yb.jsx)("h1",{className:"text-2xl font-bold",style:{color:"white"},children:"SkillWagers"}),(0,yb.jsx)(xb,{size:"sm"})]}),(0,yb.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold",style:{color:"white"},children:"Join the Beta"}),(0,yb.jsxs)("p",{className:"mt-2 text-center text-sm",style:{color:"white"},children:["Or"," ",(0,yb.jsx)(Re,{to:"/login",className:"font-medium text-primaryAccent hover:text-purple-400",style:{color:"white"},children:"sign in to your existing account"})]})]}),(0,yb.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,yb.jsxs)("div",{className:"auth-card",children:[(0,yb.jsx)("div",{className:"mb-6",children:(0,yb.jsxs)("button",{type:"button",onClick:async()=>{t(!0),r("");try{await a(),l("/")}catch(e){console.error("Google sign up error:",e),r("Google sign up failed. Please try again.")}finally{t(!1)}},disabled:e,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-dark-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primaryAccent disabled:opacity-50",children:[(0,yb.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,yb.jsx)("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,yb.jsx)("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,yb.jsx)("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,yb.jsx)("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),(0,yb.jsxs)("div",{className:"relative",children:[(0,yb.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,yb.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,yb.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,yb.jsx)("span",{className:"px-2 bg-dark-800",style:{color:"white"},children:"Or sign up with email"})})]}),(0,yb.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:u(async e=>{t(!0),r("");try{await i(e.email,e.password,e.displayName,e.dateOfBirth),l("/")}catch(n){console.error("Registration error:",n),"auth/email-already-in-use"===n.code?h("email",{message:"This email address is already in use"}):"auth/weak-password"===n.code?h("password",{message:"Password is too weak. Please choose a stronger password"}):"auth/invalid-email"===n.code?h("email",{message:"Invalid email address format"}):r(n.message||"Registration failed. Please try again")}finally{t(!1)}}),noValidate:!0,children:[n&&(0,yb.jsx)("div",{className:"bg-red-600 text-white p-3 rounded-md text-sm",children:n}),(0,yb.jsx)(GS,{label:"Display Name *",name:"displayName",placeholder:"Choose a display name",register:c,error:d.displayName}),(0,yb.jsx)(GS,{label:"Email address *",name:"email",type:"email",placeholder:"Enter your email address",register:c,error:d.email}),(0,yb.jsx)(GS,{label:"Date of Birth * (18+ required)",name:"dateOfBirth",type:"date",register:c,error:d.dateOfBirth,inputProps:{min:"1930-01-01",max:"".concat(f,"-12-31"),onInput:e=>{let t=e.target.value;t=t.replace(/[^\d-]/g,""),t.length>10&&(t=t.slice(0,10));const n=t.match(/^(\d{0,4})/);n&&n[1].length>4&&(t=n[1].slice(0,4)+t.slice(n[1].length)),e.target.value=t},onKeyPress:e=>{const t=e.target.value,n=e.target.selectionStart;n<=4&&t.replace(/[^\d]/g,"").length>=4&&n<4&&e.target.selectionStart===e.target.selectionEnd&&e.preventDefault()}}}),(0,yb.jsx)(GS,{label:"Password *",name:"password",type:"password",placeholder:"At least 8 characters",register:c,error:d.password}),(0,yb.jsx)(GS,{label:"Confirm Password *",name:"confirmPassword",type:"password",placeholder:"Re-enter password",register:c,error:d.confirmPassword}),(0,yb.jsxs)("div",{className:"flex items-start gap-2 mb-4",children:[(0,yb.jsx)("input",Be(Be({id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",className:"h-4 w-4 mt-0.5 text-primaryAccent focus:ring-primaryAccent focus:ring-offset-0 focus:ring-1 border-gray-400 rounded bg-white flex-shrink-0"},c("agreeToTerms")),{},{required:!0})),(0,yb.jsxs)("label",{htmlFor:"agreeToTerms",className:"text-sm leading-5 text-white cursor-pointer",children:["I agree to the"," ",(0,yb.jsx)(Re,{to:"/terms",className:"text-primaryAccent hover:text-purple-400 underline",children:"Terms and Conditions"})," ","and"," ",(0,yb.jsx)(Re,{to:"/privacy",className:"text-primaryAccent hover:text-purple-400 underline",children:"Privacy Policy"})]})]}),d.agreeToTerms&&(0,yb.jsx)("p",{className:"text-red-500 text-xs -mt-3 mb-3",children:d.agreeToTerms.message}),(0,yb.jsx)("div",{children:(0,yb.jsxs)("button",{type:"submit",disabled:e,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand hover:bg-brand focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand disabled:opacity-50",style:{color:"white"},children:[(0,yb.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,yb.jsx)(eT,{className:"h-5 w-5 text-brand group-hover:text-white"})}),e?"Creating account...":"Create account"]})})]}),(0,yb.jsx)("div",{className:"mt-6",children:(0,yb.jsxs)("div",{className:"relative",children:[(0,yb.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,yb.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,yb.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,yb.jsxs)("span",{className:"px-2 bg-dark-800",style:{color:"white"},children:["Already have an account?"," ",(0,yb.jsx)(Re,{to:"/login",className:"font-medium text-primaryAccent hover:text-purple-400",children:"Sign in"})]})})]})})]})})]})},nT=["title","titleId"];function rT(e,t){let{title:n,titleId:r}=e,i=_b(e,nT);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const iT=s.forwardRef(rT),sT=pS({email:FN().trim().min(1,"Email address is required").email("Enter a valid email address")}),aT=()=>{const[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(""),{register:o,handleSubmit:l,formState:{errors:c},getValues:u}=l_({resolver:hN(sT),mode:"onBlur",reValidateMode:"onBlur"});return n?(0,yb.jsxs)("div",{className:"min-h-screen bg-dark-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,yb.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,yb.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,yb.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-primaryAccent to-purple-500 rounded-lg flex items-center justify-center",children:(0,yb.jsx)("span",{className:"font-bold",style:{color:"white"},children:"S"})}),(0,yb.jsx)("h1",{className:"text-2xl font-bold",style:{color:"white"},children:"SkillWagers"}),(0,yb.jsx)(xb,{size:"sm"})]}),(0,yb.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold",style:{color:"white"},children:"Check Your Email"})]}),(0,yb.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,yb.jsx)("div",{className:"auth-card",children:(0,yb.jsxs)("div",{className:"text-center",children:[(0,yb.jsx)("div",{className:"w-16 h-16 bg-green-500 bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,yb.jsx)(iT,{className:"h-8 w-8 text-green-400"})}),(0,yb.jsx)("p",{className:"text-gray-300 mb-6",children:"We've sent a password reset link to:"}),(0,yb.jsx)("p",{className:"text-primaryAccent font-medium mb-6",children:u("email")}),(0,yb.jsx)("p",{className:"text-gray-400 text-sm mb-6",children:"Please check your email and click the link to reset your password. If you don't see the email, check your spam folder."}),(0,yb.jsxs)("div",{className:"space-y-3",children:[(0,yb.jsx)(Re,{to:"/login",className:"w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand hover:bg-brand focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand",children:"Back to Login"}),(0,yb.jsx)("button",{type:"button",onClick:()=>{r(!1),a("")},className:"w-full flex justify-center py-3 px-4 border border-gray-600 text-sm font-medium rounded-md text-gray-300 bg-transparent hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primaryAccent",children:"Try Different Email"})]})]})})})]}):(0,yb.jsxs)("div",{className:"min-h-screen bg-dark-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,yb.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,yb.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,yb.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-primaryAccent to-purple-500 rounded-lg flex items-center justify-center",children:(0,yb.jsx)("span",{className:"font-bold",style:{color:"white"},children:"S"})}),(0,yb.jsx)("h1",{className:"text-2xl font-bold",style:{color:"white"},children:"SkillWagers"}),(0,yb.jsx)(xb,{size:"sm"})]}),(0,yb.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold",style:{color:"white"},children:"Reset Your Password"}),(0,yb.jsx)("p",{className:"mt-2 text-center text-sm text-gray-400",children:"Enter your email address and we'll send you a link to reset your password"})]}),(0,yb.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,yb.jsxs)("div",{className:"auth-card",children:[(0,yb.jsxs)("form",{className:"space-y-6",onSubmit:l(async e=>{t(!0),a("");try{await ua(pb,e.email),r(!0)}catch(n){console.error("Password reset error:",n),"auth/user-not-found"===n.code?a("No account found with this email address"):"auth/invalid-email"===n.code?a("Invalid email address"):"auth/too-many-requests"===n.code?a("Too many password reset attempts. Please try again later"):a("Failed to send password reset email. Please try again")}finally{t(!1)}}),noValidate:!0,children:[i&&(0,yb.jsx)("div",{className:"bg-red-600 text-white p-3 rounded-md text-sm",children:i}),(0,yb.jsx)(GS,{label:"Email address",name:"email",type:"email",placeholder:"Enter your email address",register:o,error:c.email}),(0,yb.jsx)("div",{children:(0,yb.jsxs)("button",{type:"submit",disabled:e,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand hover:bg-brand focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand disabled:opacity-50",children:[(0,yb.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,yb.jsx)(iT,{className:"h-5 w-5 text-brand group-hover:text-white"})}),e?"Sending...":"Send Reset Link"]})})]}),(0,yb.jsx)("div",{className:"mt-6",children:(0,yb.jsxs)("div",{className:"relative",children:[(0,yb.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,yb.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,yb.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,yb.jsxs)("span",{className:"px-2 bg-[#0f1220] text-[#f5f7ff]",children:["Remember your password?"," ",(0,yb.jsx)(Re,{to:"/login",className:"font-medium text-primaryAccent hover:text-purple-400",children:"Sign in"})]})})]})})]})})]})},oT=e=>{let{showLabel:t=!0,className:n=""}=e;const{userProfile:r}=bb();if(!r)return null;const i=r.balance||0,s=r.currency||"fake";return(0,yb.jsxs)("div",{className:"flex items-center space-x-2 ".concat(n),children:[t&&(0,yb.jsx)("span",{className:"text-sm text-gray-500 font-medium",children:"Beta Balance:"}),(0,yb.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,yb.jsx)(bw,{className:"h-4 w-4 text-green-500"}),(0,yb.jsxs)("span",{className:"font-semibold text-green-600",children:["$",i.toFixed(2)]}),"fake"===s&&(0,yb.jsx)("span",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"(FAKE)"})]}),(0,yb.jsx)(xb,{size:"xs"})]})},lT=["title","titleId"];function cT(e,t){let{title:n,titleId:r}=e,i=_b(e,lT);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const uT=s.forwardRef(cT),dT=()=>{const{currentUser:e,userProfile:t}=bb(),[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(!1),d=(0,s.useCallback)(async()=>{if(null!==e&&void 0!==e&&e.uid)try{l(!0);const n=um(mb,"dailyRewards",e.uid),i=await gg(n);if(i.exists()){var t;const e=null===(t=i.data().lastClaimTime)||void 0===t?void 0:t.toDate();if(e){const t=new Date;if((t-e)/36e5>=24)r(!0),a(null);else{r(!1);const t=new Date(e.getTime()+864e5);a(t)}}else r(!0)}else r(!0)}catch(n){console.error("Error checking claim status:",n),rn.error("Failed to check daily reward status")}finally{l(!1)}else console.warn("No current user available for checking claim status")},[null===e||void 0===e?void 0:e.uid]);(0,s.useEffect)(()=>{e&&d()},[e,d]);return!e||o?null:(0,yb.jsxs)("div",{className:"bg-gradient-to-r from-yellow-900 via-purple-900 to-red-900 bg-opacity-30 border border-yellow-600 rounded-xl p-4 mb-6",children:[(0,yb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yb.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,yb.jsx)("div",{className:"p-2 bg-yellow-500 bg-opacity-20 rounded-lg",children:(0,yb.jsx)(uT,{className:"h-6 w-6 text-yellow-400"})}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("h3",{className:"text-lg font-semibold text-yellow-300",children:"Daily Free Coins"}),(0,yb.jsx)("p",{className:"text-sm text-yellow-200",children:n?"Claim your daily 100 SIM!":"Come back tomorrow for more coins!"})]})]}),(0,yb.jsx)("div",{className:"text-right",children:n?(0,yb.jsxs)("button",{onClick:async()=>{if(n&&!c&&null!==e&&void 0!==e&&e.uid)try{u(!0);const n=new Date,i=um(mb,"users",e.uid),s=((null===t||void 0===t?void 0:t.betaBalance)||0)+100;await wg(i,{betaBalance:s});const o=um(mb,"dailyRewards",e.uid);await bg(o,{lastClaimTime:n,totalClaimed:((null===t||void 0===t?void 0:t.totalDailyClaimed)||0)+100,claimCount:((null===t||void 0===t?void 0:t.dailyClaimCount)||0)+1},{merge:!0}),await wg(i,{totalDailyClaimed:((null===t||void 0===t?void 0:t.totalDailyClaimed)||0)+100,dailyClaimCount:((null===t||void 0===t?void 0:t.dailyClaimCount)||0)+1}),r(!1);const l=new Date(n.getTime()+864e5);a(l),rn.success("\ud83c\udf89 Claimed 100 SIM! Come back in 24 hours for more!",{duration:4e3})}catch(i){console.error("Error claiming daily coins:",i),rn.error("Failed to claim daily coins. Please try again.")}finally{u(!1)}},disabled:c,className:"bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",children:[(0,yb.jsx)(uT,{className:"h-4 w-4"}),(0,yb.jsx)("span",{children:c?"Claiming...":"Claim 100 SIM"})]}):(0,yb.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-200",children:[(0,yb.jsx)(Lw,{className:"h-4 w-4"}),(0,yb.jsx)("span",{className:"text-sm",children:i?(e=>{const t=e-new Date;if(t<=0)return d(),null;const n=Math.floor(t/36e5),r=Math.floor(t%36e5/6e4);return"".concat(n,"h ").concat(r,"m")})(i):"Loading..."})]})})]}),(0,yb.jsx)("div",{className:"mt-3 pt-3 border-t border-yellow-600 border-opacity-50",children:(0,yb.jsxs)("div",{className:"flex justify-between text-xs text-yellow-200",children:[(0,yb.jsxs)("span",{children:["Total Daily Claims: ",(null===t||void 0===t?void 0:t.dailyClaimCount)||0]}),(0,yb.jsxs)("span",{children:["Total Daily SIM: ",(null===t||void 0===t?void 0:t.totalDailyClaimed)||0]})]})})]})},hT=["title","titleId"];function fT(e,t){let{title:n,titleId:r}=e,i=_b(e,hT);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const pT=s.forwardRef(fT),mT=e=>{let{currentUser:t,userProfile:n,refreshProfile:r}=e;const[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{n&&(a(n.displayName||(null===t||void 0===t?void 0:t.displayName)||""),l(n.displayNameLocked||!1))},[n,t]);return o&&!d?(0,yb.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,yb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Display Name"}),(0,yb.jsx)("p",{className:"text-white",children:i}),(0,yb.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Display name can be changed once"})]}),(0,yb.jsx)("span",{className:"text-xs text-gray-500 bg-gray-700 px-2 py-1 rounded",children:"Locked"})]})}):(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,yb.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,yb.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Display Name"}),!d&&(0,yb.jsx)("button",{onClick:()=>h(!0),className:"text-brand hover:text-white p-1",children:(0,yb.jsx)(pT,{className:"h-4 w-4"})})]}),d?(0,yb.jsxs)("div",{className:"space-y-3",children:[(0,yb.jsx)("input",{type:"text",value:i,onChange:e=>a(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400",placeholder:"Enter display name",maxLength:50}),(0,yb.jsx)("p",{className:"text-xs text-yellow-400",children:"\u26a0\ufe0f Display name can only be changed once"}),(0,yb.jsxs)("div",{className:"flex gap-2",children:[(0,yb.jsx)("button",{onClick:async()=>{if(i.trim())if(null!==t&&void 0!==t&&t.uid){u(!0);try{await da(t,{displayName:i.trim()});const e=um(mb,"users",t.uid);await wg(e,{displayName:i.trim(),displayNameLocked:!0}),await r(),l(!0),h(!1),rn.success("Display name updated successfully")}catch(e){console.error("Error updating display name:",e),rn.error("Failed to update display name")}finally{u(!1)}}else rn.error("User not authenticated");else rn.error("Display name cannot be empty")},disabled:c,className:"bg-brand text-white px-4 py-2 rounded-lg hover:bg-brand disabled:opacity-50",children:c?"Saving...":"Save"}),(0,yb.jsx)("button",{onClick:()=>{h(!1),a((null===n||void 0===n?void 0:n.displayName)||(null===t||void 0===t?void 0:t.displayName)||"")},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Cancel"})]})]}):(0,yb.jsx)("p",{className:"text-white",children:i||"No display name set"})]})},gT=e=>{let{currentUser:t}=e;const[n,r]=(0,s.useState)(!1);return(0,yb.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,yb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Password"}),(0,yb.jsx)("p",{className:"text-white",children:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,yb.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Reset via email verification"})]}),(0,yb.jsxs)("button",{onClick:async()=>{if(null!==t&&void 0!==t&&t.email){r(!0);try{await ua(pb,t.email),rn.success("Password reset email sent! Check your inbox.")}catch(e){console.error("Error sending password reset email:",e);let t="Failed to send password reset email";"auth/user-not-found"===e.code?t="No account found with this email address":"auth/too-many-requests"===e.code&&(t="Too many requests. Please try again later."),rn.error(t)}finally{r(!1)}}else rn.error("No email address found")},disabled:n,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,yb.jsx)(iT,{className:"h-4 w-4"}),n?"Sending...":"Reset Password"]})]})})},yT=["title","titleId"];function vT(e,t){let{title:n,titleId:r}=e,i=_b(e,yT);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const bT=s.forwardRef(vT),wT=e=>{let{currentUser:t,userProfile:n,refreshProfile:r}=e;const[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),c=(0,s.useRef)(null),u=async e=>{if(null!==t&&void 0!==t&&t.uid){a(!0);try{const s=(n=gb,i="profilePictures/".concat(t.uid,".jpg"),Fy(n=On(n),i)),a=await function(e,t,n){return Oy(e=On(e),t,n)}(s,e),o=await function(e){return Dy(e=On(e))}(a.ref);await da(t,{photoURL:o});const l=um(mb,"users",t.uid);await wg(l,{photoURL:o}),await r(),rn.success("Profile picture updated successfully")}catch(s){console.error("Error uploading profile picture:",s),rn.error("Failed to upload profile picture"),l(null)}finally{a(!1)}var n,i}else rn.error("User not authenticated")},d=o||(null===n||void 0===n?void 0:n.photoURL)||(null===t||void 0===t?void 0:t.photoURL);return(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,yb.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Profile Picture"}),(0,yb.jsxs)("div",{className:"flex items-center gap-4",children:[(0,yb.jsxs)("div",{className:"relative",children:[(0,yb.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-700 overflow-hidden flex items-center justify-center",children:d?(0,yb.jsx)("img",{src:d,alt:"Profile",className:"w-full h-full object-cover"}):(0,yb.jsx)(bT,{className:"h-8 w-8 text-gray-400"})}),i&&(0,yb.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-50 flex items-center justify-center",children:(0,yb.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primaryAccent"})})]}),(0,yb.jsxs)("div",{className:"flex-1",children:[(0,yb.jsx)("button",{onClick:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.click()},disabled:i,className:"bg-brand text-white px-4 py-2 rounded-lg hover:bg-brand disabled:opacity-50 transition-colors",children:i?"Uploading...":"Change Picture"}),(0,yb.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF. Max size 5MB."})]})]}),(0,yb.jsx)("input",{ref:c,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(t.size>5242880)return void rn.error("File size must be less than 5MB");if(!t.type.startsWith("image/"))return void rn.error("Please select an image file");const n=new FileReader;n.onload=e=>l(e.target.result),n.readAsDataURL(t),u(t)},className:"hidden"})]})},xT=()=>{const[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(!1),i=re();return(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsxs)("button",{onClick:()=>t(!0),className:"flex items-center gap-2 bg-red-600 text-white font-bold px-8 py-3 rounded-lg hover:bg-red-700 transition-colors mx-auto",children:[(0,yb.jsx)(Bb,{className:"h-5 w-5"}),"Sign Out"]}),e&&(0,yb.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700",children:[(0,yb.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,yb.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Confirm Sign Out"}),(0,yb.jsx)("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-300",children:(0,yb.jsx)(tw,{className:"h-6 w-6"})})]}),(0,yb.jsx)("p",{className:"text-gray-300 mb-6",children:"Are you sure you want to sign out? You'll need to sign in again to access your account."}),(0,yb.jsxs)("div",{className:"flex gap-3",children:[(0,yb.jsx)("button",{onClick:async()=>{r(!0);try{await ha(pb),i("/"),rn.success("Signed out successfully")}catch(e){console.error("Error signing out:",e),rn.error("Failed to sign out")}finally{r(!1),t(!1)}},disabled:n,className:"flex-1 px-4 py-2 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:n?"Signing Out...":"Yes, Sign Out"}),(0,yb.jsx)("button",{onClick:()=>t(!1),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})})]})},_T=e=>{let{currentUser:t,userProfile:n,refreshProfile:r}=e;const[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(null!==n&&void 0!==n&&n.lastDailyClaim){const e=new Date,t=n.lastDailyClaim.toDate(),r=new Date(t.getTime()+864e5);if(e>=r)u(!0),l("");else{u(!1);const t=r-e,n=Math.floor(t/36e5),i=Math.floor(t%36e5/6e4);l("".concat(n,"h ").concat(i,"m"))}}else u(!0)},[n]);const d=(null===n||void 0===n?void 0:n.balanceCoins)||0;return(0,yb.jsxs)("div",{className:"bg-gradient-to-r from-yellow-900 via-purple-900 to-red-900 bg-opacity-30 border border-yellow-600 rounded-xl p-4",children:[(0,yb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yb.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,yb.jsx)("div",{className:"p-2 bg-yellow-500 bg-opacity-20 rounded-lg",children:(0,yb.jsx)(uT,{className:"h-6 w-6 text-yellow-400"})}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("h3",{className:"text-lg font-semibold text-yellow-300",children:"Daily Free Coins"}),(0,yb.jsxs)("p",{className:"text-sm text-yellow-200",children:["Current Balance: ",d," SIM"]})]})]}),(0,yb.jsx)("div",{className:"text-right",children:c?(0,yb.jsxs)("button",{onClick:async()=>{if(c&&null!==t&&void 0!==t&&t.uid){a(!0);try{await Sg(mb,async e=>{const n=um(mb,"users",t.uid),r=await e.get(n);if(!r.exists())throw new Error("User document not found");const i=r.data(),s=new Date;if(i.lastDailyClaim){if((s-i.lastDailyClaim.toDate())/36e5<24)throw new Error("Must wait 24 hours between claims")}e.update(n,{balanceCoins:(i.balanceCoins||0)+100,lastDailyClaim:Tg()})}),await r(),u(!1),rn.success("100 coins claimed successfully!")}catch(e){console.error("Error claiming daily coins:",e),rn.error(e.message||"Failed to claim coins")}finally{a(!1)}}},disabled:i,className:"bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",children:[(0,yb.jsx)(uT,{className:"h-4 w-4"}),(0,yb.jsx)("span",{children:i?"Claiming...":"Claim 100 Coins"})]}):(0,yb.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-200",children:[(0,yb.jsx)(Lw,{className:"h-4 w-4"}),(0,yb.jsxs)("span",{className:"text-sm",children:["Available in ",o]})]})})]}),(0,yb.jsx)("div",{className:"mt-3 pt-3 border-t border-yellow-600 border-opacity-50",children:(0,yb.jsxs)("div",{className:"flex justify-between text-xs text-yellow-200",children:[(0,yb.jsx)("span",{children:"24-hour cooldown"}),(0,yb.jsx)("span",{children:"Beta currency - no real value"})]})})]})},ET=["title","titleId"];function kT(e,t){let{title:n,titleId:r}=e,i=_b(e,ET);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const NT=s.forwardRef(kT),ST=()=>{var e,t;const{userProfile:n,currentUser:r}=bb(),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)({totalChallenges:0,wins:0,losses:0,winRate:0,activeWagers:0,completedWagers:0,totalEarnings:0,rank:"Unranked"}),[c,u]=(0,s.useState)([]),[d,h]=(0,s.useState)(!1),f=re(),p=(0,s.useCallback)(async()=>{if(null!==r&&void 0!==r&&r.uid)try{const e=Qm(cm(mb,"challenges"),Xm(Ym("createdBy","==",r.uid),Ym("acceptedBy","==",r.uid))),t=(await vg(e)).docs.map(e=>Be({id:e.id},e.data())),n=t.length,i=t.filter(e=>["open","pending_proof","disputed"].includes(e.status)).length,s=t.filter(e=>["won","lost","completed"].includes(e.status)).length,a=t.filter(e=>("completed"===e.status||"won"===e.status)&&(e.createdBy===r.uid&&e.winner===e.createdBy||e.acceptedBy===r.uid&&e.winner===e.acceptedBy)),o=s>0?a.length/s*100:0,c=a.reduce((e,t)=>e+(t.wagerAmount||0),0);let u="Unranked";c>=500?u="Gold":c>=200?u="Silver":c>=50&&(u="Bronze"),l({totalChallenges:n,wins:a.length,losses:s-a.length,winRate:Math.round(10*o)/10,activeWagers:i,completedWagers:s,totalEarnings:c,rank:u})}catch(e){console.error("Error fetching user stats:",e)}else console.warn("No current user ID available for fetching stats")},[null===r||void 0===r?void 0:r.uid]),m=(0,s.useCallback)(async()=>{if(null!==r&&void 0!==r&&r.uid)try{const e=Qm(cm(mb,"challenges"),Ym("participants","array-contains",r.uid),tg("createdAt","desc"),rg(5)),t=(await vg(e)).docs.map(e=>Be({id:e.id},e.data()));0===t.length?u([{id:1,type:"wager_won",title:"Push-up Challenge Won",amount:"+$25.00",time:"2 hours ago",icon:fw,color:"text-green-500"},{id:2,type:"wager_created",title:"Running Challenge Created",amount:"-$15.00",time:"1 day ago",icon:Nb,color:"text-blue-500"},{id:3,type:"wager_joined",title:"Meditation Challenge Joined",amount:"-$10.00",time:"2 days ago",icon:_w,color:"text-brand"}]):u(t)}catch(e){console.error("Error fetching recent activity:",e)}else console.warn("No current user ID available for fetching recent activity")},[null===r||void 0===r?void 0:r.uid]);return(0,s.useEffect)(()=>{const e=setTimeout(()=>{a(!1)},1e3);return()=>clearTimeout(e)},[r]),(0,s.useEffect)(()=>{r&&n&&(p(),m())},[r,n,p,m]),i?(0,yb.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,yb.jsx)("div",{className:"text-white text-xl",children:"Loading profile..."})}):r?(0,yb.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,yb.jsx)("div",{className:"bg-gray-800 shadow-sm border-b border-gray-700",children:(0,yb.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,yb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center space-x-3",children:["Welcome back, ",(null===n||void 0===n?void 0:n.displayName)||(null===(e=r.email)||void 0===e?void 0:e.split("@")[0]),(0,yb.jsx)(xb,{size:"sm"})]}),(0,yb.jsx)("p",{className:"text-gray-300 mt-1",children:"Ready to take on some challenges?"})]}),(0,yb.jsx)(oT,{className:"bg-gray-700 px-4 py-2 rounded-lg"})]})})}),(0,yb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,yb.jsx)(dT,{}),(0,yb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,yb.jsx)("div",{className:"bg-gray-800 rounded-lg shadow p-6 border border-gray-700",children:(0,yb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Total Wagers"}),(0,yb.jsx)("p",{className:"text-2xl font-bold text-white",children:o.totalChallenges})]}),(0,yb.jsx)(Pb,{className:"h-8 w-8 text-blue-500"})]})}),(0,yb.jsx)("div",{className:"bg-gray-800 rounded-lg shadow p-6 border border-gray-700",children:(0,yb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Win Rate"}),(0,yb.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[o.winRate,"%"]})]}),(0,yb.jsx)(fw,{className:"h-8 w-8 text-yellow-500"})]})}),(0,yb.jsx)("div",{className:"bg-gray-800 rounded-lg shadow p-6 border border-gray-700",children:(0,yb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Total Earnings"}),(0,yb.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[o.totalEarnings," SIM"]}),(0,yb.jsx)("p",{className:"text-xs text-gray-500",children:"(FAKE CURRENCY)"})]}),(0,yb.jsx)(bw,{className:"h-8 w-8 text-green-500"})]})}),(0,yb.jsx)("div",{className:"bg-gray-800 rounded-lg shadow p-6 border border-gray-700",children:(0,yb.jsxs)("div",{className:"flex items-center justify-between",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Current Rank"}),(0,yb.jsx)("p",{className:"text-2xl font-bold text-brand",children:o.rank})]}),(0,yb.jsx)(NT,{className:"h-8 w-8 text-brand"})]})})]}),(0,yb.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow border border-gray-700",children:[(0,yb.jsx)("div",{className:"p-6 border-b border-gray-600",children:(0,yb.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Quick Actions"})}),(0,yb.jsx)("div",{className:"p-6",children:(0,yb.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,yb.jsxs)(Re,{to:"/wagers",className:"flex flex-col items-center p-4 border border-gray-600 rounded-lg hover:border-purple-400 transition-colors",children:[(0,yb.jsx)(Pb,{className:"h-8 w-8 text-blue-500 mb-2"}),(0,yb.jsx)("span",{className:"text-sm font-medium text-white",children:"My Wagers"}),(0,yb.jsxs)("span",{className:"text-xs text-gray-500",children:[o.activeWagers," active"]})]}),(0,yb.jsxs)(Re,{to:"/create-challenge",className:"flex flex-col items-center p-4 border border-gray-600 rounded-lg hover:border-purple-400 transition-colors",children:[(0,yb.jsx)(Nb,{className:"h-8 w-8 text-green-500 mb-2"}),(0,yb.jsx)("span",{className:"text-sm font-medium text-white",children:"Create Wager"}),(0,yb.jsx)("span",{className:"text-xs text-gray-500",children:"Start earning"})]}),(0,yb.jsxs)(Re,{to:"/wagering",className:"flex flex-col items-center p-4 border border-gray-600 rounded-lg hover:border-purple-400 transition-colors",children:[(0,yb.jsx)(Jb,{className:"h-8 w-8 text-brand mb-2"}),(0,yb.jsx)("span",{className:"text-sm font-medium text-white",children:"View Challenges"}),(0,yb.jsx)("span",{className:"text-xs text-gray-500",children:"Browse wagers"})]}),(0,yb.jsxs)(Re,{to:"/wallet",className:"flex flex-col items-center p-4 border border-gray-600 rounded-lg hover:border-purple-400 transition-colors",children:[(0,yb.jsx)(_w,{className:"h-8 w-8 text-brand mb-2"}),(0,yb.jsx)("span",{className:"text-sm font-medium text-white",children:"Wallet"}),(0,yb.jsx)("span",{className:"text-xs text-gray-500",children:"Manage funds"})]})]})})]}),(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow border border-gray-700",children:[(0,yb.jsx)("div",{className:"p-6 border-b border-gray-600",children:(0,yb.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Recent Activity"})}),(0,yb.jsxs)("div",{className:"p-6",children:[(0,yb.jsx)("div",{className:"space-y-4",children:c.map(e=>{const t=e.icon;return(0,yb.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,yb.jsx)("div",{className:"p-2 rounded-full bg-gray-700",children:(0,yb.jsx)(t,{className:"h-4 w-4 ".concat(e.color)})}),(0,yb.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,yb.jsx)("p",{className:"text-sm font-medium text-white",children:e.title}),(0,yb.jsxs)("p",{className:"text-xs text-gray-500 flex items-center",children:[(0,yb.jsx)(Lw,{className:"h-3 w-3 mr-1"}),e.time]})]}),(0,yb.jsxs)("div",{className:"text-sm font-semibold",children:[(0,yb.jsx)("span",{className:e.amount.startsWith("+")?"text-green-600":"text-red-600",children:e.amount}),(0,yb.jsx)("div",{className:"text-xs text-gray-500",children:"(FAKE)"})]})]},e.id)})}),(0,yb.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-600",children:(0,yb.jsx)(Re,{to:"/wagers",className:"text-sm text-brand hover:text-brand font-medium",children:"View all activity ?"})})]})]})]}),(0,yb.jsxs)("div",{className:"border rounded-lg p-6 mb-8",style:{backgroundColor:"#6f4cff",borderColor:"#6f4cff"},children:[(0,yb.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,yb.jsx)(xb,{size:"sm"}),(0,yb.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Beta Testing Mode"})]}),(0,yb.jsx)("p",{className:"text-sm text-white opacity-90",children:"You're using SkillWagers Beta with fake currency for testing purposes. All wagers, earnings, and statistics are simulated. Help us improve by reporting any issues you encounter!"})]})]}),(0,yb.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,yb.jsxs)("div",{className:"mb-8",children:[(0,yb.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Profile Settings"}),(0,yb.jsx)("p",{className:"text-gray-400",children:"Manage your account and preferences"})]}),(0,yb.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,yb.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,yb.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Profile Picture"}),(0,yb.jsx)(wT,{})]}),(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,yb.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Display Name"}),(0,yb.jsx)(mT,{})]}),(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,yb.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Daily Reward"}),(0,yb.jsx)(_T,{})]}),(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,yb.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Account"}),(0,yb.jsxs)("div",{className:"space-y-4",children:[(0,yb.jsx)(gT,{}),(0,yb.jsx)("button",{onClick:()=>h(!0),className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition duration-200",children:"Sign Out"})]})]})]}),(0,yb.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,yb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,yb.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,yb.jsxs)("div",{className:"flex items-center",children:[(0,yb.jsx)(fw,{className:"h-8 w-8 text-yellow-500 mr-3"}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-sm text-gray-400",children:"Challenges"}),(0,yb.jsx)("p",{className:"text-2xl font-bold",children:o.totalChallenges})]})]})}),(0,yb.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,yb.jsxs)("div",{className:"flex items-center",children:[(0,yb.jsx)(Pb,{className:"h-8 w-8 text-green-500 mr-3"}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-sm text-gray-400",children:"Wins"}),(0,yb.jsx)("p",{className:"text-2xl font-bold text-green-500",children:o.wins})]})]})}),(0,yb.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,yb.jsxs)("div",{className:"flex items-center",children:[(0,yb.jsx)(Pb,{className:"h-8 w-8 text-red-500 mr-3"}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-sm text-gray-400",children:"Losses"}),(0,yb.jsx)("p",{className:"text-2xl font-bold text-red-500",children:o.losses})]})]})}),(0,yb.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,yb.jsxs)("div",{className:"flex items-center",children:[(0,yb.jsx)(Ib,{className:"h-8 w-8 text-blue-500 mr-3"}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-sm text-gray-400",children:"Win Rate"}),(0,yb.jsxs)("p",{className:"text-2xl font-bold text-blue-500",children:[o.winRate.toFixed(1),"%"]})]})]})})]}),(0,yb.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,yb.jsx)("div",{className:"flex items-center justify-between",children:(0,yb.jsxs)("div",{className:"flex items-center",children:[(0,yb.jsx)(bw,{className:"h-8 w-8 text-green-500 mr-3"}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-sm text-gray-400",children:"Current Balance"}),(0,yb.jsxs)("p",{className:"text-3xl font-bold text-green-500",children:["$",(null===n||void 0===n||null===(t=n.balance)||void 0===t?void 0:t.toLocaleString())||"0"]})]})]})})}),(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,yb.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),c.length>0?(0,yb.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,yb.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[(0,yb.jsx)("h3",{className:"font-medium",children:e.title}),(0,yb.jsxs)("p",{className:"text-sm text-gray-400",children:["Status: ",(0,yb.jsx)("span",{className:"capitalize",children:e.status})]}),(0,yb.jsxs)("p",{className:"text-sm text-gray-400",children:["Stake: $",e.stake]})]},e.id))}):(0,yb.jsx)("p",{className:"text-gray-400",children:"No recent activity"})]})]})]})]}),d&&(0,yb.jsx)(xT,{onClose:()=>h(!1)})]}):(f("/login"),null)},TT=()=>{const{currentUser:e}=bb(),[t,n]=(0,s.useState)(!0),[r,i]=(0,s.useState)({totalChallenges:0,wins:0,losses:0,winRate:0,activeWagers:0,completedWagers:0,totalEarnings:0,rank:"Unranked"}),[a,o]=(0,s.useState)([]);return(0,s.useEffect)(()=>{if(!e)return;(async()=>{try{const t=Qm(cm(mb,"challenges"),Xm(Ym("creatorId","==",e.uid),Ym("acceptorId","==",e.uid)),tg("createdAt","desc"),rg(50)),n=(await vg(t)).docs.map(e=>Be({id:e.id},e.data())),r=n.length,s=n.filter(e=>"completed"===e.status),a=s.filter(t=>t.winnerId===e.uid).length,l=s.length-a,c=s.length>0?Math.round(a/s.length*100):0,u=n.filter(e=>["accepted","pending_proof","in_dispute"].includes(e.status)).length,d=s.filter(t=>t.winnerId===e.uid).reduce((e,t)=>e+(t.wagerAmount||0),0);i({totalChallenges:r,wins:a,losses:l,winRate:c,activeWagers:u,completedWagers:s.length,totalEarnings:d,rank:c>=80?"Expert":c>=60?"Advanced":c>=40?"Intermediate":c>=20?"Beginner":"Rookie"}),o(n.slice(0,10))}catch(t){console.error("Error fetching profile data:",t)}finally{n(!1)}})()},[e]),t?(0,yb.jsx)("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:(0,yb.jsx)("div",{className:"text-white",children:"Loading..."})}):e?(0,yb.jsx)("div",{className:"min-h-screen bg-dark-900 pt-16",children:(0,yb.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,yb.jsxs)("div",{className:"mb-8",children:[(0,yb.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Statistics & Performance"}),(0,yb.jsx)("p",{className:"text-gray-400",children:"Track your performance and gaming statistics"})]}),(0,yb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,yb.jsx)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:(0,yb.jsxs)("div",{className:"flex items-center",children:[(0,yb.jsx)("div",{className:"p-3 rounded-lg bg-blue-500 bg-opacity-20",children:(0,yb.jsx)(Pb,{className:"h-6 w-6 text-blue-400"})}),(0,yb.jsxs)("div",{className:"ml-4",children:[(0,yb.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Total Challenges"}),(0,yb.jsx)("p",{className:"text-2xl font-bold text-white",children:r.totalChallenges})]})]})}),(0,yb.jsx)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:(0,yb.jsxs)("div",{className:"flex items-center",children:[(0,yb.jsx)("div",{className:"p-3 rounded-lg bg-green-500 bg-opacity-20",children:(0,yb.jsx)(fw,{className:"h-6 w-6 text-green-400"})}),(0,yb.jsxs)("div",{className:"ml-4",children:[(0,yb.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Win Rate"}),(0,yb.jsxs)("p",{className:"text-2xl font-bold text-white",children:[r.winRate,"%"]})]})]})}),(0,yb.jsx)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:(0,yb.jsxs)("div",{className:"flex items-center",children:[(0,yb.jsx)("div",{className:"p-3 rounded-lg bg-yellow-500 bg-opacity-20",children:(0,yb.jsx)(bw,{className:"h-6 w-6 text-yellow-400"})}),(0,yb.jsxs)("div",{className:"ml-4",children:[(0,yb.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Total Earnings"}),(0,yb.jsxs)("p",{className:"text-2xl font-bold text-white",children:[r.totalEarnings," SIM"]})]})]})}),(0,yb.jsx)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:(0,yb.jsxs)("div",{className:"flex items-center",children:[(0,yb.jsx)("div",{className:"p-3 rounded-lg bg-purple-500 bg-opacity-20",children:(0,yb.jsx)(NT,{className:"h-6 w-6 text-purple-400"})}),(0,yb.jsxs)("div",{className:"ml-4",children:[(0,yb.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Rank"}),(0,yb.jsx)("p",{className:"text-2xl font-bold text-white",children:r.rank})]})]})})]}),(0,yb.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,yb.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[(0,yb.jsx)(Pb,{className:"h-5 w-5 mr-2"}),"Performance Breakdown"]}),(0,yb.jsxs)("div",{className:"space-y-4",children:[(0,yb.jsxs)("div",{className:"flex justify-between items-center",children:[(0,yb.jsx)("span",{className:"text-gray-400",children:"Wins"}),(0,yb.jsx)("span",{className:"text-green-400 font-semibold",children:r.wins})]}),(0,yb.jsxs)("div",{className:"flex justify-between items-center",children:[(0,yb.jsx)("span",{className:"text-gray-400",children:"Losses"}),(0,yb.jsx)("span",{className:"text-red-400 font-semibold",children:r.losses})]}),(0,yb.jsxs)("div",{className:"flex justify-between items-center",children:[(0,yb.jsx)("span",{className:"text-gray-400",children:"Active Wagers"}),(0,yb.jsx)("span",{className:"text-blue-400 font-semibold",children:r.activeWagers})]}),(0,yb.jsxs)("div",{className:"flex justify-between items-center",children:[(0,yb.jsx)("span",{className:"text-gray-400",children:"Completed Wagers"}),(0,yb.jsx)("span",{className:"text-gray-300 font-semibold",children:r.completedWagers})]})]})]}),(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,yb.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[(0,yb.jsx)(Lw,{className:"h-5 w-5 mr-2"}),"Recent Activity"]}),(0,yb.jsx)("div",{className:"space-y-3",children:a.length>0?a.slice(0,5).map((t,n)=>{var r,i,s;return(0,yb.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-white font-medium",children:t.title}),(0,yb.jsx)("p",{className:"text-gray-400 text-sm",children:"completed"===t.status&&t.winnerId===e.uid?"Won":"completed"===t.status?"Lost":t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),(0,yb.jsxs)("div",{className:"text-right",children:[(0,yb.jsxs)("p",{className:"text-white font-semibold",children:[t.wagerAmount," SIM"]}),(0,yb.jsx)("p",{className:"text-gray-400 text-sm",children:(null===(r=t.createdAt)||void 0===r||null===(i=r.toDate)||void 0===i||null===(s=i.call(r))||void 0===s?void 0:s.toLocaleDateString())||"Unknown date"})]})]},t.id)}):(0,yb.jsx)("p",{className:"text-gray-400 text-center py-4",children:"No activity yet. Start your first challenge!"})})]})]}),(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,yb.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[(0,yb.jsx)(fw,{className:"h-5 w-5 mr-2"}),"Achievements"]}),(0,yb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,yb.jsx)("div",{className:"p-4 rounded-lg border-2 ".concat(r.wins>=1?"bg-yellow-500 bg-opacity-20 border-yellow-500":"bg-gray-700 border-gray-600"),children:(0,yb.jsxs)("div",{className:"text-center",children:[(0,yb.jsx)(fw,{className:"h-8 w-8 mx-auto mb-2 ".concat(r.wins>=1?"text-yellow-400":"text-gray-500")}),(0,yb.jsx)("h4",{className:"font-semibold ".concat(r.wins>=1?"text-yellow-400":"text-gray-500"),children:"First Victory"}),(0,yb.jsx)("p",{className:"text-gray-400 text-sm",children:"Win your first challenge"})]})}),(0,yb.jsx)("div",{className:"p-4 rounded-lg border-2 ".concat(r.wins>=5?"bg-blue-500 bg-opacity-20 border-blue-500":"bg-gray-700 border-gray-600"),children:(0,yb.jsxs)("div",{className:"text-center",children:[(0,yb.jsx)(NT,{className:"h-8 w-8 mx-auto mb-2 ".concat(r.wins>=5?"text-blue-400":"text-gray-500")}),(0,yb.jsx)("h4",{className:"font-semibold ".concat(r.wins>=5?"text-blue-400":"text-gray-500"),children:"Hot Streak"}),(0,yb.jsx)("p",{className:"text-gray-400 text-sm",children:"Win 5 challenges"})]})}),(0,yb.jsx)("div",{className:"p-4 rounded-lg border-2 ".concat(r.winRate>=80?"bg-purple-500 bg-opacity-20 border-purple-500":"bg-gray-700 border-gray-600"),children:(0,yb.jsxs)("div",{className:"text-center",children:[(0,yb.jsx)(_w,{className:"h-8 w-8 mx-auto mb-2 ".concat(r.winRate>=80?"text-purple-400":"text-gray-500")}),(0,yb.jsx)("h4",{className:"font-semibold ".concat(r.winRate>=80?"text-purple-400":"text-gray-500"),children:"Elite Player"}),(0,yb.jsx)("p",{className:"text-gray-400 text-sm",children:"Maintain 80%+ win rate"})]})})]})]})]})}):(0,yb.jsx)("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:(0,yb.jsx)("div",{className:"text-white",children:"Please log in to view statistics"})})},CT=["title","titleId"];function IT(e,t){let{title:n,titleId:r}=e,i=_b(e,CT);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const jT=s.forwardRef(IT),AT=()=>{var e,t,n;const{userProfile:r,currentUser:i}=bb(),[a,o]=(0,s.useState)(!1);return i?(0,yb.jsx)("div",{className:"min-h-screen bg-dark-900 pt-16",children:(0,yb.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,yb.jsxs)("div",{className:"mb-8",children:[(0,yb.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Account Settings"}),(0,yb.jsx)("p",{className:"text-gray-400",children:"Manage your account preferences and security settings"})]}),(0,yb.jsxs)("div",{className:"space-y-8",children:[(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,yb.jsxs)("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[(0,yb.jsx)(Ib,{className:"h-5 w-5 mr-2"}),"Profile Settings"]}),(0,yb.jsxs)("div",{className:"space-y-6",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email Address"}),(0,yb.jsxs)("div",{className:"flex items-center p-3 bg-gray-700 rounded-lg",children:[(0,yb.jsx)(jT,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,yb.jsx)("span",{className:"text-white",children:i.email}),(0,yb.jsx)("span",{className:"ml-auto text-gray-400 text-sm",children:"Verified"})]}),(0,yb.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Email changes are not currently supported in Beta"})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Display Name"}),(0,yb.jsx)(mT,{})]})]})]}),(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,yb.jsxs)("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[(0,yb.jsx)(gw,{className:"h-5 w-5 mr-2"}),"Security Settings"]}),(0,yb.jsxs)("div",{className:"space-y-6",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Password"}),(0,yb.jsx)(gT,{})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Age Verification"}),(0,yb.jsxs)("div",{className:"flex items-center p-3 rounded-lg ".concat(null!==r&&void 0!==r&&r.ageVerified?"bg-green-500 bg-opacity-20 border border-green-500":"bg-yellow-500 bg-opacity-20 border border-yellow-500"),children:[(0,yb.jsx)(gw,{className:"h-5 w-5 mr-3 ".concat(null!==r&&void 0!==r&&r.ageVerified?"text-green-400":"text-yellow-400")}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("span",{className:"font-medium ".concat(null!==r&&void 0!==r&&r.ageVerified?"text-green-400":"text-yellow-400"),children:null!==r&&void 0!==r&&r.ageVerified?"Verified (18+)":"Pending Verification"}),!(null!==r&&void 0!==r&&r.ageVerified)&&(0,yb.jsx)("p",{className:"text-yellow-300 text-sm mt-1",children:"Age verification is required to participate in wagers"})]})]})]})]})]}),(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,yb.jsxs)("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[(0,yb.jsx)(Lb,{className:"h-5 w-5 mr-2"}),"Account Management"]}),(0,yb.jsxs)("div",{className:"space-y-6",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Beta Status"}),(0,yb.jsxs)("div",{className:"flex items-center p-3 bg-blue-500 bg-opacity-20 border border-blue-500 rounded-lg",children:[(0,yb.jsx)("span",{className:"text-blue-400 mr-2",children:"\ud83e\uddea"}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("span",{className:"text-blue-400 font-medium",children:"Beta Tester"}),(0,yb.jsx)("p",{className:"text-blue-300 text-sm mt-1",children:"You have access to all beta features and testing privileges"})]})]})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Account Information"}),(0,yb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,yb.jsxs)("div",{className:"p-3 bg-gray-700 rounded-lg",children:[(0,yb.jsx)("p",{className:"text-gray-400 text-sm",children:"Member Since"}),(0,yb.jsx)("p",{className:"text-white font-medium",children:(null===r||void 0===r||null===(e=r.createdAt)||void 0===e||null===(t=e.toDate)||void 0===t||null===(n=t.call(e))||void 0===n?void 0:n.toLocaleDateString())||"Unknown"})]}),(0,yb.jsxs)("div",{className:"p-3 bg-gray-700 rounded-lg",children:[(0,yb.jsx)("p",{className:"text-gray-400 text-sm",children:"Current Balance"}),(0,yb.jsxs)("p",{className:"text-white font-medium",children:[(null===r||void 0===r?void 0:r.betaBalance)||0," SIM"]})]})]})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Session Management"}),(0,yb.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[(0,yb.jsx)(WS,{className:"h-5 w-5 mr-2"}),"Sign Out of Account"]})]})]})]}),(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,yb.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Privacy & Terms"}),(0,yb.jsxs)("div",{className:"space-y-4",children:[(0,yb.jsxs)("div",{className:"p-4 bg-gray-700 rounded-lg",children:[(0,yb.jsx)("h3",{className:"text-white font-medium mb-2",children:"Data Collection"}),(0,yb.jsx)("p",{className:"text-gray-400 text-sm",children:"We collect minimal data necessary to provide our services. All gameplay data is anonymized for analytics."})]}),(0,yb.jsxs)("div",{className:"p-4 bg-gray-700 rounded-lg",children:[(0,yb.jsx)("h3",{className:"text-white font-medium mb-2",children:"Beta Testing Terms"}),(0,yb.jsx)("p",{className:"text-gray-400 text-sm",children:"As a beta tester, you agree to provide feedback and understand that features may change or be removed."})]})]})]})]}),a&&(0,yb.jsx)(xT,{onCancel:()=>o(!1),onConfirm:()=>o(!1)})]})}):(0,yb.jsx)("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:(0,yb.jsx)("div",{className:"text-white",children:"Please log in to access settings"})})},RT=()=>{const{currentUser:e,userProfile:t}=bb(),n=re(),[r,i]=(0,s.useState)({title:"",description:"",game:"",stakeAmount:"",rules:"",proofRequirements:"",category:"gaming"}),[a,o]=(0,s.useState)(!1),l=e=>{const{name:t,value:n}=e.target;i(e=>Be(Be({},e),{},{[t]:n}))};return e?(0,yb.jsx)("div",{className:"min-h-screen bg-gray-900 py-8",children:(0,yb.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,yb.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Create Challenge"}),(0,yb.jsxs)("div",{className:"bg-blue-900 bg-opacity-30 border border-blue-600 rounded-lg p-4 mb-6",children:[(0,yb.jsxs)("h3",{className:"text-lg font-semibold text-blue-300 mb-2 flex items-center",children:[(0,yb.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,yb.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Skill-Based Challenge Policy"]}),(0,yb.jsxs)("div",{className:"text-sm text-blue-200 space-y-2",children:[(0,yb.jsxs)("p",{children:["SkillWagers only allows ",(0,yb.jsx)("strong",{children:"skill-based challenges"}),". Your challenge must:"]}),(0,yb.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[(0,yb.jsx)("li",{children:"Test a specific skill, ability, or knowledge"}),(0,yb.jsx)("li",{children:"Have clear, measurable success criteria"}),(0,yb.jsx)("li",{children:"Require practice or expertise to complete"}),(0,yb.jsx)("li",{children:"Include detailed proof requirements"})]}),(0,yb.jsxs)("p",{className:"text-xs text-blue-300 mt-2",children:[(0,yb.jsx)("strong",{children:"Prohibited:"})," Gambling, games of chance, luck-based activities, coin flips, dice rolls, or any random outcome challenges."]})]})]}),(0,yb.jsxs)("form",{onSubmit:async i=>{if(i.preventDefault(),!e)return void rn.error("You must be logged in to create a challenge");if(null===t||void 0===t||!t.ageVerified)return void rn.error("You must verify your age before creating challenges. Go to Profile \u2192 Settings to verify your age.");const s=(()=>{const e=[],t="".concat(r.title," ").concat(r.description," ").concat(r.rules).toLowerCase(),n=["gambling","casino","luck","random","chance","lottery","dice","coin flip","roulette","slot","bet on","pure chance"].find(e=>t.includes(e));return n&&e.push('Challenge contains prohibited term "'.concat(n,'". SkillWagers only allows skill-based challenges.')),(!r.proofRequirements||r.proofRequirements.length<20)&&e.push("Proof requirements must be detailed (minimum 20 characters) to demonstrate skill was required."),(!r.rules||r.rules.length<30)&&e.push("Rules must be detailed (minimum 30 characters) to clearly define the skill being tested."),["skill","ability","performance","achieve","demonstrate","complete","master","practice","learn","improve","technique","strategy"].some(e=>t.includes(e))||e.push('Challenge should clearly demonstrate skill. Consider including words like "skill", "ability", "performance", or "demonstrate".'),e})();if(s.length>0)return void s.forEach(e=>rn.error(e));const a=parseFloat(r.stakeAmount);if(a<=0)rn.error("Stake amount must be greater than 0");else if(a>((null===t||void 0===t?void 0:t.betaBalance)||0))rn.error("Insufficient balance for this stake amount");else try{o(!0);const i=await Sg(mb,async n=>{const i=um(mb,"users",e.uid),s=await n.get(i);if(!s.exists())throw new Error("User document not found");const o=s.data().betaBalance||0;if(o<a)throw new Error("Insufficient balance for this stake amount");n.update(i,{betaBalance:Cg(-a)});const l=Be(Be({},r),{},{stakeAmount:a,creatorId:e.uid,creatorName:t.displayName||e.displayName,creatorEmail:e.email,status:"open",acceptorId:null,acceptorName:null,proofSubmitted:!1,disputeRaised:!1,winner:null,escrowAmount:a,createdAt:Tg(),updatedAt:Tg()}),c=um(cm(mb,"challenges"));return n.set(c,l),{challengeId:c.id,newBalance:o-a}});rn.success("Challenge created! ".concat(a," coins escrowed. Remaining balance: ").concat(i.newBalance)),n("/challenge/".concat(i.challengeId))}catch(l){console.error("Error creating challenge:",l),rn.error("Failed to create challenge")}finally{o(!1)}},className:"space-y-6",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Challenge Title"}),(0,yb.jsx)("input",{type:"text",name:"title",value:r.title,onChange:l,required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primaryAccent",placeholder:"Enter challenge title"})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Game"}),(0,yb.jsxs)("select",{name:"game",value:r.game,onChange:l,required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-primaryAccent",children:[(0,yb.jsx)("option",{value:"",children:"Select a game"}),["League of Legends","Counter-Strike 2","Valorant","Fortnite","Apex Legends","Call of Duty","Rocket League","Chess","Other"].map(e=>(0,yb.jsx)("option",{value:e,children:e},e))]})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Stake Amount (SIM)"}),(0,yb.jsx)("input",{type:"number",name:"stakeAmount",value:r.stakeAmount,onChange:l,required:!0,min:"1",step:"1",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primaryAccent",placeholder:"Enter stake amount"}),(0,yb.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Your balance: ",(null===t||void 0===t?void 0:t.betaBalance)||0," SIM"]})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Description"}),(0,yb.jsx)("textarea",{name:"description",value:r.description,onChange:l,required:!0,rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primaryAccent resize-vertical",placeholder:"Describe your challenge"})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Rules"}),(0,yb.jsx)("textarea",{name:"rules",value:r.rules,onChange:l,required:!0,rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primaryAccent resize-vertical",placeholder:"Define the rules and conditions for winning"}),(0,yb.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Be specific about what skill is being tested and how success is measured. Minimum 30 characters required."})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Proof Requirements"}),(0,yb.jsx)("textarea",{name:"proofRequirements",value:r.proofRequirements,onChange:l,required:!0,rows:2,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primaryAccent resize-vertical",placeholder:"What proof is required to validate the win?"}),(0,yb.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Describe what evidence is needed to verify skill demonstration. Screenshots, videos, or other documentation. Minimum 20 characters required."})]}),(0,yb.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-brand hover:bg-brand disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-colors",children:a?"Creating Challenge...":"Create Challenge"})]})]})})}):(0,yb.jsx)("div",{className:"min-h-screen py-8",children:(0,yb.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,yb.jsxs)("div",{className:"card-gradient",children:[(0,yb.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-6",children:"Create Challenge"}),(0,yb.jsx)("p",{className:"text-gray-300",children:"Please log in to create a challenge."})]})})})},PT=["title","titleId"];function OT(e,t){let{title:n,titleId:r}=e,i=_b(e,PT);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const DT=s.forwardRef(OT),LT=["title","titleId"];function MT(e,t){let{title:n,titleId:r}=e,i=_b(e,LT);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const FT=s.forwardRef(MT),UT=()=>{const e=[{icon:Jb,title:"Gift Card Trading",description:"Buy and sell gift cards for coins with other users",timeline:"Phase 2"},{icon:fw,title:"Verified Sellers",description:"Trusted seller badges and reputation system for safe trading",timeline:"Phase 2"},{icon:DT,title:"Trade Notifications",description:"Real-time alerts for new gift card listings and trades",timeline:"Phase 3"},{icon:FT,title:"Auto-Matching",description:"Automatic matching for gift card buyers and sellers",timeline:"Phase 3"}];return(0,yb.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,yb.jsx)("div",{className:"bg-gray-800 shadow-sm border-b border-gray-700",children:(0,yb.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,yb.jsxs)("div",{className:"text-center",children:[(0,yb.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center justify-center space-x-3",children:[(0,yb.jsx)(Jb,{className:"h-8 w-8"}),"Gift Card Marketplace",(0,yb.jsx)(xb,{size:"sm"})]}),(0,yb.jsx)("p",{className:"text-gray-300 mt-2",children:"Buy and sell gift cards for coins - Coming Soon in Beta Phase 2"})]})})}),(0,yb.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,yb.jsxs)("div",{className:"text-center mb-12",children:[(0,yb.jsx)("div",{className:"mx-auto w-24 h-24 rounded-full flex items-center justify-center mb-6",style:{background:"linear-gradient(to right, #6f4cff, #6f4cff)"},children:(0,yb.jsx)(Lw,{className:"h-12 w-12 text-white"})}),(0,yb.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Gift Card Marketplace Coming Soon!"}),(0,yb.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:"We're building an amazing marketplace where you can buy and sell gift cards for coins with other users. Trade your gift cards safely and securely within our community!"}),(0,yb.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[(0,yb.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primaryAccent"}),(0,yb.jsx)("span",{className:"text-sm text-gray-500",children:"Currently in development..."})]})]}),(0,yb.jsxs)("div",{className:"mb-12",children:[(0,yb.jsx)("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-8",children:"Planned Gift Card Trading Features"}),(0,yb.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((e,t)=>{const n=e.icon;return(0,yb.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-sm border border-gray-700 p-6",children:(0,yb.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,yb.jsx)("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#6f4cff"},children:(0,yb.jsx)(n,{className:"h-6 w-6 text-white"})}),(0,yb.jsxs)("div",{className:"flex-1",children:[(0,yb.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,yb.jsx)("h4",{className:"text-lg font-semibold text-white",children:e.title}),(0,yb.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-900 bg-opacity-30 text-blue-300",children:e.timeline})]}),(0,yb.jsx)("p",{className:"text-gray-400",children:e.description})]})]})},t)})})]}),(0,yb.jsx)("div",{className:"border rounded-lg p-8 mb-8",style:{backgroundColor:"#6f4cff",borderColor:"#6f4cff"},children:(0,yb.jsxs)("div",{className:"text-center",children:[(0,yb.jsx)(xb,{size:"md",className:"mb-4"}),(0,yb.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"What You Can Do Now in Beta"}),(0,yb.jsx)("p",{className:"text-white opacity-90 mb-6",children:"While we're building the marketplace, you can still test core features:"}),(0,yb.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-lg mx-auto",children:[(0,yb.jsxs)(Re,{to:"/create-challenge",className:"flex items-center justify-center space-x-2 bg-white bg-opacity-20 border border-white border-opacity-30 rounded-lg p-4 hover:bg-opacity-30 transition-colors",children:[(0,yb.jsx)(Nb,{className:"h-5 w-5 text-white"}),(0,yb.jsx)("span",{className:"text-white font-medium",children:"Create Challenges"})]}),(0,yb.jsxs)(Re,{to:"/wagering",className:"flex items-center justify-center space-x-2 bg-white bg-opacity-20 border border-white border-opacity-30 rounded-lg p-4 hover:bg-opacity-30 transition-colors",children:[(0,yb.jsx)(fw,{className:"h-5 w-5 text-white"}),(0,yb.jsx)("span",{className:"text-white font-medium",children:"Browse Challenges"})]})]})]})}),(0,yb.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-sm border border-gray-700 p-8 text-center",children:[(0,yb.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Help Shape the Gift Card Marketplace"}),(0,yb.jsx)("p",{className:"text-gray-400 mb-6",children:"Your feedback during Beta testing helps us build the gift card trading features you actually want. Tell us what types of gift cards and trading features would be most valuable to you!"}),(0,yb.jsxs)("div",{className:"space-y-3",children:[(0,yb.jsxs)("div",{className:"text-sm text-gray-400",children:["Send feedback to: ",(0,yb.jsx)("strong",{className:"text-white",children:"beta@skillwagers.com"})]}),(0,yb.jsxs)("div",{className:"text-sm text-gray-400",children:["Gift Card Trading Launch: ",(0,yb.jsx)("strong",{className:"text-white",children:"TBD"})]})]})]})]})]})},zT=()=>{const{id:e}=function(){let{matches:e}=s.useContext(J),t=e[e.length-1];return t?t.params:{}}(),t=re(),{currentUser:n,userProfile:r}=bb(),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(""),[f,p]=(0,s.useState)(!1),m=(0,s.useCallback)(async()=>{try{const n=await gg(um(mb,"challenges",e));n.exists()?a(Be({id:n.id},n.data())):(rn.error("Challenge not found"),t("/marketplace"))}catch(n){console.error("Error fetching challenge:",n),rn.error("Failed to load challenge")}finally{l(!1)}},[e,t]);(0,s.useEffect)(()=>{m()},[m]);const g=e=>{if(!e)return"N/A";return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};if(o)return(0,yb.jsx)("div",{className:"min-h-screen py-8",children:(0,yb.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,yb.jsx)("div",{className:"card-gradient",children:(0,yb.jsxs)("div",{className:"animate-pulse",children:[(0,yb.jsx)("div",{className:"h-8 bg-dark-600 rounded w-1/3 mb-4"}),(0,yb.jsx)("div",{className:"h-4 bg-dark-600 rounded w-2/3 mb-2"}),(0,yb.jsx)("div",{className:"h-4 bg-dark-600 rounded w-1/2"})]})})})});if(!i)return(0,yb.jsx)("div",{className:"min-h-screen py-8",children:(0,yb.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,yb.jsxs)("div",{className:"card-gradient",children:[(0,yb.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-6",children:"Challenge Not Found"}),(0,yb.jsx)("p",{className:"text-gray-300",children:"The challenge you're looking for doesn't exist."})]})})});const y=(null===n||void 0===n?void 0:n.uid)===i.creatorId,v=(null===n||void 0===n?void 0:n.uid)===i.acceptorId,b="open"===i.status&&!y&&n,w="accepted"===i.status&&v&&!i.proofSubmitted,x="accepted"===i.status&&i.proofSubmitted&&!i.disputeRaised;return(0,yb.jsxs)("div",{className:"min-h-screen py-8",children:[(0,yb.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,yb.jsxs)("div",{className:"card-gradient",children:[(0,yb.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-2",children:i.title}),(0,yb.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,yb.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat((e=>{const t={open:"bg-blue-500 bg-opacity-20 text-blue-400",accepted:"bg-yellow-500 bg-opacity-20 text-yellow-400",completed:"bg-green-500 bg-opacity-20 text-green-400",disputed:"bg-red-500 bg-opacity-20 text-red-400",cancelled:"bg-gray-500 bg-opacity-20 text-gray-400"};return t[e]||t.open})(i.status)),children:i.status.charAt(0).toUpperCase()+i.status.slice(1)}),(0,yb.jsxs)("span",{className:"text-gray-400 text-sm",children:["Game: ",i.game]})]})]}),(0,yb.jsxs)("div",{className:"text-right",children:[(0,yb.jsxs)("div",{className:"flex items-center text-primary-400 mb-1",children:[(0,yb.jsx)(bw,{className:"h-5 w-5 mr-1"}),(0,yb.jsxs)("span",{className:"text-lg font-bold",children:[i.stakeAmount," SIM"]})]}),(0,yb.jsx)("p",{className:"text-xs text-gray-400",children:"Stake Amount"})]})]}),(0,yb.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Challenge Details"}),(0,yb.jsxs)("div",{className:"space-y-3",children:[(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-sm text-gray-400",children:"Description"}),(0,yb.jsx)("p",{className:"text-gray-300",children:i.description})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-sm text-gray-400",children:"Rules"}),(0,yb.jsx)("p",{className:"text-gray-300",children:i.rules})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("p",{className:"text-sm text-gray-400",children:"Proof Requirements"}),(0,yb.jsx)("p",{className:"text-gray-300",children:i.proofRequirements})]})]})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Participants"}),(0,yb.jsxs)("div",{className:"space-y-3",children:[(0,yb.jsxs)("div",{className:"flex items-center",children:[(0,yb.jsx)(Ib,{className:"h-5 w-5 text-primary-400 mr-2"}),(0,yb.jsxs)("div",{children:[(0,yb.jsxs)("p",{className:"text-white font-medium",children:["Creator: ",i.creatorName]}),(0,yb.jsxs)("p",{className:"text-xs text-gray-400",children:["Created ",g(i.createdAt)]})]})]}),i.acceptorName&&(0,yb.jsxs)("div",{className:"flex items-center",children:[(0,yb.jsx)(fw,{className:"h-5 w-5 text-accent-400 mr-2"}),(0,yb.jsxs)("div",{children:[(0,yb.jsxs)("p",{className:"text-white font-medium",children:["Acceptor: ",i.acceptorName]}),(0,yb.jsxs)("p",{className:"text-xs text-gray-400",children:["Accepted ",g(i.acceptedAt)]})]})]})]}),i.proofSubmitted&&(0,yb.jsxs)("div",{className:"mt-4 p-3 bg-dark-700 rounded-lg",children:[(0,yb.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Proof Submitted"}),(0,yb.jsx)("p",{className:"text-gray-300 text-sm",children:i.proofText}),(0,yb.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Submitted ",g(i.proofSubmittedAt)]})]})]})]}),(0,yb.jsxs)("div",{className:"flex flex-wrap gap-3",children:[b&&(0,yb.jsx)("button",{onClick:async()=>{if(n&&r)if(r.ageVerified)if(i.stakeAmount>(r.betaBalance||0))rn.error("Insufficient balance to accept this challenge");else try{u(!0);const t=um(mb,"challenges",e);await wg(t,{status:"accepted",acceptorId:n.uid,acceptorName:r.displayName||n.displayName,acceptedAt:Tg(),updatedAt:Tg()});const s=um(mb,"users",n.uid);await wg(s,{betaBalance:Cg(-i.stakeAmount)}),rn.success("Challenge accepted! Good luck!"),m()}catch(t){console.error("Error accepting challenge:",t),rn.error("Failed to accept challenge")}finally{u(!1)}else rn.error("You must verify your age before accepting challenges");else rn.error("You must be logged in to accept challenges")},disabled:c,className:"bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:c?"Accepting...":"Accept Challenge"}),w&&(0,yb.jsx)("button",{onClick:()=>p(!0),className:"bg-success-600 hover:bg-success-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Submit Proof"}),x&&(y||v)&&(0,yb.jsxs)("button",{onClick:async()=>{try{u(!0),await function(e,t){const n=nm(e.firestore,hm),r=um(e),i=cg(e.converter,t);return xg(n,[Tm(Sm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Zu.exists(!1))]).then(()=>r)}(cm(mb,"disputes"),{challengeId:e,challengeTitle:i.title,creatorId:i.creatorId,acceptorId:i.acceptorId,disputeRaisedBy:n.uid,status:"open",createdAt:Tg()});const t=um(mb,"challenges",e);await wg(t,{status:"disputed",disputeRaised:!0,disputeRaisedAt:Tg(),updatedAt:Tg()}),rn.success("Dispute raised successfully"),m()}catch(t){console.error("Error raising dispute:",t),rn.error("Failed to raise dispute")}finally{u(!1)}},disabled:c,className:"bg-red-600 hover:bg-red-700 disabled:opacity-50 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center",children:[(0,yb.jsx)(WS,{className:"h-4 w-4 mr-2"}),c?"Raising Dispute...":"Raise Dispute"]})]})]})}),f&&(0,yb.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,yb.jsxs)("div",{className:"bg-dark-800 rounded-lg max-w-md w-full p-6",children:[(0,yb.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Submit Proof"}),(0,yb.jsx)("textarea",{value:d,onChange:e=>h(e.target.value),placeholder:"Describe your proof of completion...",rows:4,className:"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 mb-4"}),(0,yb.jsxs)("div",{className:"flex space-x-3",children:[(0,yb.jsx)("button",{onClick:async()=>{if(d.trim())try{u(!0);const t=um(mb,"challenges",e);await wg(t,{proofSubmitted:!0,proofText:d,proofSubmittedAt:Tg(),updatedAt:Tg()}),p(!1),h(""),rn.success("Proof submitted successfully!"),m()}catch(t){console.error("Error submitting proof:",t),rn.error("Failed to submit proof")}finally{u(!1)}else rn.error("Please provide proof description")},disabled:c,className:"flex-1 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:c?"Submitting...":"Submit Proof"}),(0,yb.jsx)("button",{onClick:()=>p(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})})]})};function VT(e,t){return function(){return e.apply(t,arguments)}}const{toString:BT}=Object.prototype,{getPrototypeOf:qT}=Object,{iterator:WT,toStringTag:HT}=Symbol,KT=(GT=Object.create(null),e=>{const t=BT.call(e);return GT[t]||(GT[t]=t.slice(8,-1).toLowerCase())});var GT;const $T=e=>(e=e.toLowerCase(),t=>KT(t)===e),QT=e=>t=>typeof t===e,{isArray:ZT}=Array,YT=QT("undefined");function JT(e){return null!==e&&!YT(e)&&null!==e.constructor&&!YT(e.constructor)&&tC(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const XT=$T("ArrayBuffer");const eC=QT("string"),tC=QT("function"),nC=QT("number"),rC=e=>null!==e&&"object"===typeof e,iC=e=>{if("object"!==KT(e))return!1;const t=qT(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(HT in e)&&!(WT in e)},sC=$T("Date"),aC=$T("File"),oC=$T("Blob"),lC=$T("FileList"),cC=$T("URLSearchParams"),[uC,dC,hC,fC]=["ReadableStream","Request","Response","Headers"].map($T);function pC(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ZT(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(JT(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let a;for(n=0;n<s;n++)a=r[n],t.call(null,e[a],a,e)}}function mC(e,t){if(JT(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const gC="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,yC=e=>!YT(e)&&e!==gC;const vC=(bC="undefined"!==typeof Uint8Array&&qT(Uint8Array),e=>bC&&e instanceof bC);var bC;const wC=$T("HTMLFormElement"),xC=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),_C=$T("RegExp"),EC=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};pC(n,(n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)}),Object.defineProperties(e,r)};const kC=$T("AsyncFunction"),NC=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],gC.addEventListener("message",e=>{let{source:t,data:i}=e;t===gC&&i===n&&r.length&&r.shift()()},!1),e=>{r.push(e),gC.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,tC(gC.postMessage)),SC="undefined"!==typeof queueMicrotask?queueMicrotask.bind(gC):"undefined"!==typeof process&&process.nextTick||NC,TC={isArray:ZT,isArrayBuffer:XT,isBuffer:JT,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||tC(e.append)&&("formdata"===(t=KT(e))||"object"===t&&tC(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&XT(e.buffer),t},isString:eC,isNumber:nC,isBoolean:e=>!0===e||!1===e,isObject:rC,isPlainObject:iC,isEmptyObject:e=>{if(!rC(e)||JT(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(qe){return!1}},isReadableStream:uC,isRequest:dC,isResponse:hC,isHeaders:fC,isUndefined:YT,isDate:sC,isFile:aC,isBlob:oC,isRegExp:_C,isFunction:tC,isStream:e=>rC(e)&&tC(e.pipe),isURLSearchParams:cC,isTypedArray:vC,isFileList:lC,forEach:pC,merge:function e(){const{caseless:t,skipUndefined:n}=yC(this)&&this||{},r={},i=(i,s)=>{const a=t&&mC(r,s)||s;iC(r[a])&&iC(i)?r[a]=e(r[a],i):iC(i)?r[a]=e({},i):ZT(i)?r[a]=i.slice():n&&YT(i)||(r[a]=i)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&pC(arguments[s],i);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return pC(t,(t,r)=>{n&&tC(t)?e[r]=VT(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,a;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&qT(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:KT,kindOfTest:$T,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(ZT(e))return e;let t=e.length;if(!nC(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[WT]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:wC,hasOwnProperty:xC,hasOwnProp:xC,reduceDescriptors:EC,freezeMethods:e=>{EC(e,(t,n)=>{if(tC(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];tC(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return ZT(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:mC,global:gC,isContextDefined:yC,isSpecCompliantForm:function(e){return!!(e&&tC(e.append)&&"FormData"===e[HT]&&e[WT])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(rC(e)){if(t.indexOf(e)>=0)return;if(JT(e))return e;if(!("toJSON"in e)){t[r]=e;const i=ZT(e)?[]:{};return pC(e,(e,t)=>{const s=n(e,r+1);!YT(s)&&(i[t]=s)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:kC,isThenable:e=>e&&(rC(e)||tC(e))&&tC(e.then)&&tC(e.catch),setImmediate:NC,asap:SC,isIterable:e=>null!=e&&tC(e[WT])};function CC(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}TC.inherits(CC,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:TC.toJSONObject(this.config),code:this.code,status:this.status}}});const IC=CC.prototype,jC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jC[e]={value:e}}),Object.defineProperties(CC,jC),Object.defineProperty(IC,"isAxiosError",{value:!0}),CC.from=(e,t,n,r,i,s)=>{const a=Object.create(IC);TC.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return CC.call(a,o,l,n,r,i),e&&null==a.cause&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",s&&Object.assign(a,s),a};const AC=CC;function RC(e){return TC.isPlainObject(e)||TC.isArray(e)}function PC(e){return TC.endsWith(e,"[]")?e.slice(0,-2):e}function OC(e,t,n){return e?e.concat(t).map(function(e,t){return e=PC(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const DC=TC.toFlatObject(TC,{},null,function(e){return/^is[A-Z]/.test(e)});const LC=function(e,t,n){if(!TC.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=TC.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!TC.isUndefined(t[e])})).metaTokens,i=n.visitor||c,s=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&TC.isSpecCompliantForm(t);if(!TC.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(TC.isDate(e))return e.toISOString();if(TC.isBoolean(e))return e.toString();if(!o&&TC.isBlob(e))throw new AC("Blob is not supported. Use a Buffer instead.");return TC.isArrayBuffer(e)||TC.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(TC.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(TC.isArray(e)&&function(e){return TC.isArray(e)&&!e.some(RC)}(e)||(TC.isFileList(e)||TC.endsWith(n,"[]"))&&(o=TC.toArray(e)))return n=PC(n),o.forEach(function(e,r){!TC.isUndefined(e)&&null!==e&&t.append(!0===a?OC([n],r,s):null===a?n:n+"[]",l(e))}),!1;return!!RC(e)||(t.append(OC(i,n,s),l(e)),!1)}const u=[],d=Object.assign(DC,{defaultVisitor:c,convertValue:l,isVisitable:RC});if(!TC.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!TC.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),TC.forEach(n,function(n,s){!0===(!(TC.isUndefined(n)||null===n)&&i.call(t,n,TC.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])}),u.pop()}}(e),t};function MC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function FC(e,t){this._pairs=[],e&&LC(e,this,t)}const UC=FC.prototype;UC.append=function(e,t){this._pairs.push([e,t])},UC.toString=function(e){const t=e?function(t){return e.call(this,t,MC)}:MC;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const zC=FC;function VC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function BC(e,t,n){if(!t)return e;const r=n&&n.encode||VC;TC.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):TC.isURLSearchParams(t)?t.toString():new zC(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const qC=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){TC.forEach(this.handlers,function(t){null!==t&&e(t)})}},WC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HC={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:zC,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},KC="undefined"!==typeof window&&"undefined"!==typeof document,GC="object"===typeof navigator&&navigator||void 0,$C=KC&&(!GC||["ReactNative","NativeScript","NS"].indexOf(GC.product)<0),QC="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ZC=KC&&window.location.href||"http://localhost",YC=Be(Be({},r),HC);const JC=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const a=Number.isFinite(+s),o=i>=e.length;if(s=!s&&TC.isArray(r)?r.length:s,o)return TC.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!a;r[s]&&TC.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&TC.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!a}if(TC.isFormData(e)&&TC.isFunction(e.entries)){const n={};return TC.forEachEntry(e,(e,r)=>{t(function(e){return TC.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const XC={transitional:WC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=TC.isObject(e);i&&TC.isHTMLForm(e)&&(e=new FormData(e));if(TC.isFormData(e))return r?JSON.stringify(JC(e)):e;if(TC.isArrayBuffer(e)||TC.isBuffer(e)||TC.isStream(e)||TC.isFile(e)||TC.isBlob(e)||TC.isReadableStream(e))return e;if(TC.isArrayBufferView(e))return e.buffer;if(TC.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return LC(e,new YC.classes.URLSearchParams,Be({visitor:function(e,t,n,r){return YC.isNode&&TC.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=TC.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return LC(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(TC.isString(e))try{return(t||JSON.parse)(e),TC.trim(e)}catch(qe){if("SyntaxError"!==qe.name)throw qe}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||XC.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(TC.isResponse(e)||TC.isReadableStream(e))return e;if(e&&TC.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(qe){if(n){if("SyntaxError"===qe.name)throw AC.from(qe,AC.ERR_BAD_RESPONSE,this,null,this.response);throw qe}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:YC.classes.FormData,Blob:YC.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};TC.forEach(["delete","get","head","post","put","patch"],e=>{XC.headers[e]={}});const eI=XC,tI=TC.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nI=Symbol("internals");function rI(e){return e&&String(e).trim().toLowerCase()}function iI(e){return!1===e||null==e?e:TC.isArray(e)?e.map(iI):String(e)}function sI(e,t,n,r,i){return TC.isFunction(r)?r.call(this,t,n):(i&&(t=n),TC.isString(t)?TC.isString(r)?-1!==t.indexOf(r):TC.isRegExp(r)?r.test(t):void 0:void 0)}class aI{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=rI(t);if(!i)throw new Error("header name must be a non-empty string");const s=TC.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=iI(e))}const s=(e,t)=>TC.forEach(e,(e,n)=>i(e,n,t));if(TC.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(TC.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&tI[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(TC.isObject(e)&&TC.isIterable(e)){let n,r,i={};for(const t of e){if(!TC.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?TC.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=rI(e)){const n=TC.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(TC.isFunction(t))return t.call(this,e,n);if(TC.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=rI(e)){const n=TC.findKey(this,e);return!(!n||void 0===this[n]||t&&!sI(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=rI(e)){const i=TC.findKey(n,e);!i||t&&!sI(0,n[i],i,t)||(delete n[i],r=!0)}}return TC.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!sI(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return TC.forEach(this,(r,i)=>{const s=TC.findKey(n,i);if(s)return t[s]=iI(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();a!==i&&delete t[i],t[a]=iI(r),n[a]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return TC.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&TC.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[nI]=this[nI]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=rI(e);t[r]||(!function(e,t){const n=TC.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return TC.isArray(e)?e.forEach(r):r(e),this}}aI.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),TC.reduceDescriptors(aI.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),TC.freezeMethods(aI);const oI=aI;function lI(e,t){const n=this||eI,r=t||n,i=oI.from(r.headers);let s=r.data;return TC.forEach(e,function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function cI(e){return!(!e||!e.__CANCEL__)}function uI(e,t,n){AC.call(this,null==e?"canceled":e,AC.ERR_CANCELED,t,n),this.name="CanceledError"}TC.inherits(uI,AC,{__CANCEL__:!0});const dI=uI;function hI(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new AC("Request failed with status code "+n.status,[AC.ERR_BAD_REQUEST,AC.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const fI=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];i||(i=l),n[s]=o,r[s]=l;let u=a,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const pI=function(e,t){let n,r,i=0,s=1e3/t;const a=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?a(l,e):(n=l,r||(r=setTimeout(()=>{r=null,a(n)},s-t)))},()=>n&&a(n)]},mI=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=fI(50,250);return pI(n=>{const s=n.loaded,a=n.lengthComputable?n.total:void 0,o=s-r,l=i(o);r=s;e({loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&s<=a?(a-s)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},gI=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},yI=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return TC.asap(()=>e(...n))},vI=YC.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,YC.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(YC.origin),YC.navigator&&/(msie|trident)/i.test(YC.navigator.userAgent)):()=>!0,bI=YC.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const a=[e+"="+encodeURIComponent(t)];TC.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),TC.isString(r)&&a.push("path="+r),TC.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function wI(e,t,n){let r=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const xI=e=>e instanceof oI?Be({},e):e;function _I(e,t){t=t||{};const n={};function r(e,t,n,r){return TC.isPlainObject(e)&&TC.isPlainObject(t)?TC.merge.call({caseless:r},e,t):TC.isPlainObject(t)?TC.merge({},t):TC.isArray(t)?t.slice():t}function i(e,t,n,i){return TC.isUndefined(t)?TC.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!TC.isUndefined(t))return r(void 0,t)}function a(e,t){return TC.isUndefined(t)?TC.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>i(xI(e),xI(t),0,!0)};return TC.forEach(Object.keys(Be(Be({},e),t)),function(r){const s=l[r]||i,a=s(e[r],t[r],r);TC.isUndefined(a)&&s!==o||(n[r]=a)}),n}const EI=e=>{const t=_I({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=t;if(t.headers=a=oI.from(a),t.url=BC(wI(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),TC.isFormData(n))if(YC.hasStandardBrowserEnv||YC.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(TC.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&a.set(n,r)})}if(YC.hasStandardBrowserEnv&&(r&&TC.isFunction(r)&&(r=r(t)),r||!1!==r&&vI(t.url))){const e=i&&s&&bI.read(s);e&&a.set(i,e)}return t},kI="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=EI(e);let i=r.data;const s=oI.from(r.headers).normalize();let a,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=oI.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());hI(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new AC("Request aborted",AC.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",i=new AC(r,AC.ERR_NETWORK,e,m);i.event=t||null,n(i),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||WC;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new AC(t,i.clarifyTimeoutError?AC.ETIMEDOUT:AC.ECONNABORTED,e,m)),m=null},void 0===i&&s.setContentType(null),"setRequestHeader"in m&&TC.forEach(s.toJSON(),function(e,t){m.setRequestHeader(t,e)}),TC.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=mI(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=mI(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new dI(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===YC.protocols.indexOf(y)?n(new AC("Unsupported protocol "+y+":",AC.ERR_BAD_REQUEST,e)):m.send(i||null)})},NI=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof AC?t:new dI(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,i(new AC("timeout ".concat(t," of ms exceeded"),AC.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:o}=r;return o.unsubscribe=()=>TC.asap(a),o}};function SI(e,t){this.v=e,this.k=t}function TI(e){return function(){return new CI(e.apply(this,arguments))}}function CI(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,o=a instanceof SI;Promise.resolve(o?a.v:a).then(function(n){if(o){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}i(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(s,a){var o={key:e,arg:i,resolve:s,reject:a,next:null};n?n=n.next=o:(t=n=o,r(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function II(e){return new SI(e,0)}function jI(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new SI(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function AI(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new RI(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function RI(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return RI=function(e){this.s=e,this.n=e.next},RI.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new RI(e)}CI.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},CI.prototype.next=function(e){return this._invoke("next",e)},CI.prototype.throw=function(e){return this._invoke("throw",e)},CI.prototype.return=function(e){return this._invoke("return",e)};const PI=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},OI=function(){var e=TI(function*(e,t){var n,r=!1,i=!1;try{for(var s,a=AI(DI(e));r=!(s=yield II(a.next())).done;r=!1){const e=s.value;yield*jI(AI(PI(e,t)))}}catch(o){i=!0,n=o}finally{try{r&&null!=a.return&&(yield II(a.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),DI=function(){var e=TI(function*(e){if(e[Symbol.asyncIterator])return void(yield*jI(AI(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield II(t.read());if(e)break;yield n}}finally{yield II(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),LI=(e,t,n,r)=>{const i=OI(e,t);let s,a=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=a+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},{isFunction:MI}=TC,FI=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(TC.global),{ReadableStream:UI,TextEncoder:zI}=TC.global,VI=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(qe){return!1}},BI=e=>{e=TC.merge.call({skipUndefined:!0},FI,e);const{fetch:t,Request:n,Response:r}=e,i=t?MI(t):"function"===typeof fetch,s=MI(n),a=MI(r);if(!i)return!1;const o=i&&MI(UI),l=i&&("function"===typeof zI?(c=new zI,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=s&&o&&VI(()=>{let e=!1;const t=new n(YC.origin,{body:new UI,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=a&&o&&VI(()=>TC.isReadableStream(new r("").body)),h={stream:d&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new AC("Response type '".concat(e,"' is not supported"),AC.ERR_NOT_SUPPORT,n)})});const f=async(e,t)=>{const r=TC.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(TC.isBlob(e))return e.size;if(TC.isSpecCompliantForm(e)){const t=new n(YC.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return TC.isArrayBufferView(e)||TC.isArrayBuffer(e)?e.byteLength:(TC.isURLSearchParams(e)&&(e+=""),TC.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:i,method:a,data:o,signal:l,cancelToken:c,timeout:p,onDownloadProgress:m,onUploadProgress:g,responseType:y,headers:v,withCredentials:b="same-origin",fetchOptions:w}=EI(e),x=t||fetch;y=y?(y+"").toLowerCase():"text";let _=NI([l,c&&c.toAbortSignal()],p),E=null;const k=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let N;try{if(g&&u&&"get"!==a&&"head"!==a&&0!==(N=await f(v,o))){let e,t=new n(i,{method:"POST",body:o,duplex:"half"});if(TC.isFormData(o)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=gI(N,mI(yI(g)));o=LI(t.body,65536,e,n)}}TC.isString(b)||(b=b?"include":"omit");const t=s&&"credentials"in n.prototype,l=Be(Be({},w),{},{signal:_,method:a.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:t?b:void 0});E=s&&new n(i,l);let c=await(s?x(E,w):x(i,l));const p=d&&("stream"===y||"response"===y);if(d&&(m||p&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=TC.toFiniteNumber(c.headers.get("content-length")),[n,i]=m&&gI(t,mI(yI(m),!0))||[];c=new r(LI(c.body,65536,n,()=>{i&&i(),k&&k()}),e)}y=y||"text";let S=await h[TC.findKey(h,y)||"text"](c,e);return!p&&k&&k(),await new Promise((t,n)=>{hI(t,n,{data:S,headers:oI.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:E})})}catch(S){if(k&&k(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new AC("Network Error",AC.ERR_NETWORK,e,E),{cause:S.cause||S});throw AC.from(S,S&&S.code,e,E)}}},qI=new Map,WI=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let a,o,l=s.length,c=qI;for(;l--;)a=s[l],o=c.get(a),void 0===o&&c.set(a,o=l?new Map:BI(t)),c=o;return o},HI=(WI(),{http:null,xhr:kI,fetch:{get:WI}});TC.forEach(HI,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(qe){}Object.defineProperty(e,"adapterName",{value:t})}});const KI=e=>"- ".concat(e),GI=e=>TC.isFunction(e)||null===e||!1===e,$I=(e,t)=>{e=TC.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let a=0;a<n;a++){let n;if(r=e[a],i=r,!GI(r)&&(i=HI[(n=String(r)).toLowerCase()],void 0===i))throw new AC("Unknown adapter '".concat(n,"'"));if(i&&(TC.isFunction(i)||(i=i.get(t))))break;s[n||"#"+a]=i}if(!i){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(KI).join("\n"):" "+KI(e[0]):"as no adapter specified";throw new AC("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i};function QI(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dI(null,e)}function ZI(e){QI(e),e.headers=oI.from(e.headers),e.data=lI.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return $I(e.adapter||eI.adapter,e)(e).then(function(t){return QI(e),t.data=lI.call(e,e.transformResponse,t),t.headers=oI.from(t.headers),t},function(t){return cI(t)||(QI(e),t&&t.response&&(t.response.data=lI.call(e,e.transformResponse,t.response),t.response.headers=oI.from(t.response.headers))),Promise.reject(t)})}const YI="1.12.2",JI={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{JI[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const XI={};JI.transitional=function(e,t,n){function r(e,t){return"[Axios v"+YI+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new AC(r(i," has been removed"+(t?" in "+t:"")),AC.ERR_DEPRECATED);return t&&!XI[i]&&(XI[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},JI.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const ej={assertOptions:function(e,t,n){if("object"!==typeof e)throw new AC("options must be an object",AC.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const t=e[s],n=void 0===t||a(t,s,e);if(!0!==n)throw new AC("option "+s+" must be "+n,AC.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new AC("Unknown option "+s,AC.ERR_BAD_OPTION)}},validators:JI},tj=ej.validators;class nj{constructor(e){this.defaults=e||{},this.interceptors={request:new qC,response:new qC}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(qe){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=_I(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&ej.assertOptions(n,{silentJSONParsing:tj.transitional(tj.boolean),forcedJSONParsing:tj.transitional(tj.boolean),clarifyTimeoutError:tj.transitional(tj.boolean)},!1),null!=r&&(TC.isFunction(r)?t.paramsSerializer={serialize:r}:ej.assertOptions(r,{encode:tj.function,serialize:tj.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ej.assertOptions(t,{baseUrl:tj.spelling("baseURL"),withXsrfToken:tj.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&TC.merge(i.common,i[t.method]);i&&TC.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=oI.concat(s,i);const a=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[ZI.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=ZI.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return BC(wI((e=_I(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}TC.forEach(["delete","get","head","options"],function(e){nj.prototype[e]=function(t,n){return this.request(_I(n||{},{method:e,url:t,data:(n||{}).data}))}}),TC.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(_I(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}nj.prototype[e]=t(),nj.prototype[e+"Form"]=t(!0)});const rj=nj;class ij{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new dI(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ij(function(t){e=t});return{token:t,cancel:e}}}const sj=ij;const aj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aj).forEach(e=>{let[t,n]=e;aj[n]=t});const oj=aj;const lj=function e(t){const n=new rj(t),r=VT(rj.prototype.request,n);return TC.extend(r,rj.prototype,n,{allOwnKeys:!0}),TC.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(_I(t,n))},r}(eI);lj.Axios=rj,lj.CanceledError=dI,lj.CancelToken=sj,lj.isCancel=cI,lj.VERSION=YI,lj.toFormData=LC,lj.AxiosError=AC,lj.Cancel=lj.CanceledError,lj.all=function(e){return Promise.all(e)},lj.spread=function(e){return function(t){return e.apply(null,t)}},lj.isAxiosError=function(e){return TC.isObject(e)&&!0===e.isAxiosError},lj.mergeConfig=_I,lj.AxiosHeaders=oI,lj.formToJSON=e=>JC(TC.isHTMLForm(e)?new FormData(e):e),lj.getAdapter=$I,lj.HttpStatusCode=oj,lj.default=lj;const cj=lj,uj=["title","titleId"];function dj(e,t){let{title:n,titleId:r}=e,i=_b(e,uj);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const hj=s.forwardRef(dj),fj=["title","titleId"];function pj(e,t){let{title:n,titleId:r}=e,i=_b(e,fj);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const mj=s.forwardRef(pj),gj=["title","titleId"];function yj(e,t){let{title:n,titleId:r}=e,i=_b(e,gj);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vj=s.forwardRef(yj),bj=["title","titleId"];function wj(e,t){let{title:n,titleId:r}=e,i=_b(e,bj);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const xj=s.forwardRef(wj),_j=()=>{const{userProfile:e,refreshProfile:t,claimDevFunds:n}=bb(),[r,i]=(0,s.useState)([]),[a,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{l()},[]);const l=async()=>{try{o(!0);const e=await cj.get("".concat("http://localhost:5000","/payments/transactions?limit=20"));i(e.data.transactions||[])}catch(e){console.error("Error fetching transactions:",e),rn.error("Failed to load transaction history")}finally{o(!1)}},c=e=>"deposit"===e||"challenge_win"===e||"refund"===e?"text-success-400":"withdrawal"===e?"text-accent-400":"text-gray-300",u=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,yb.jsx)("div",{className:"min-h-screen py-8",children:(0,yb.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,yb.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 mb-8",children:(0,yb.jsxs)("div",{className:"text-center",children:[(0,yb.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,yb.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Wallet"}),(0,yb.jsx)(xb,{size:"md"})]}),(0,yb.jsx)("p",{className:"text-gray-600 mb-6",children:"Manage your Beta testing funds"}),(0,yb.jsx)(oT,{showLabel:!1,className:"text-5xl font-bold text-gray-900 mb-2"}),(0,yb.jsx)("p",{className:"text-gray-500 mb-8",children:"Available Beta Balance (Fake Currency)"}),(0,yb.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,yb.jsxs)("button",{onClick:async()=>{try{await n(),rn.success("Successfully claimed $100 fake currency!"),await t()}catch(e){rn.error(e.message||"Failed to claim dev funds")}},className:"bg-brand text-white px-6 py-3 rounded-md hover:bg-brand transition-colors flex items-center justify-center space-x-2",disabled:null===e||void 0===e?void 0:e.hasClaimed,children:[(0,yb.jsx)(xj,{className:"h-5 w-5"}),(0,yb.jsx)("span",{children:null!==e&&void 0!==e&&e.hasClaimed?"Already Claimed":"Claim $100 Dev Funds"})]}),(0,yb.jsxs)("button",{disabled:!0,className:"border border-gray-300 text-gray-400 px-6 py-3 rounded-md cursor-not-allowed flex items-center justify-center space-x-2",children:[(0,yb.jsx)(hj,{className:"h-5 w-5"}),(0,yb.jsx)("span",{children:"Real Deposits (Coming Soon)"})]})]})]})}),(0,yb.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6 mb-8",children:(0,yb.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,yb.jsx)(WS,{className:"h-6 w-6 text-primaryAccent flex-shrink-0"}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("h3",{className:"text-lg font-semibold text-purple-800 mb-2",children:"Beta Testing Mode"}),(0,yb.jsx)("p",{className:"text-purple-700 text-sm",children:"This is a Beta testing environment using fake currency. All transactions are simulated for testing purposes only. Real money deposits and withdrawals will be available in the production version."})]})]})}),(0,yb.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,yb.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Transaction History"}),a?(0,yb.jsx)("div",{className:"space-y-4",children:[...Array(5)].map((e,t)=>(0,yb.jsxs)("div",{className:"animate-pulse flex items-center p-4 bg-gray-100 rounded-lg",children:[(0,yb.jsx)("div",{className:"h-8 w-8 bg-gray-300 rounded-full mr-4"}),(0,yb.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,yb.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),(0,yb.jsx)("div",{className:"h-3 bg-gray-300 rounded w-1/3"})]}),(0,yb.jsx)("div",{className:"h-4 bg-gray-300 rounded w-20"})]},t))}):r.length>0?(0,yb.jsx)("div",{className:"space-y-3",children:r.map((e,t)=>{return(0,yb.jsxs)("div",{className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border",children:[(0,yb.jsx)("div",{className:"flex-shrink-0 mr-4",children:(n=e.type,e.status,"deposit"===n?(0,yb.jsx)(hj,{className:"h-5 w-5 text-success-400"}):"withdrawal"===n?(0,yb.jsx)(mj,{className:"h-5 w-5 text-accent-400"}):"challenge_win"===n?(0,yb.jsx)(vj,{className:"h-5 w-5 text-success-400"}):"refund"===n?(0,yb.jsx)(xj,{className:"h-5 w-5 text-primary-400"}):(0,yb.jsx)(Qb,{className:"h-5 w-5 text-gray-400"}))}),(0,yb.jsxs)("div",{className:"flex-1",children:[(0,yb.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,yb.jsx)("span",{className:"font-medium text-gray-900 capitalize",children:e.type.replace("_"," ")}),(0,yb.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-200 text-gray-700",children:e.status}),(0,yb.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"FAKE"})]}),(0,yb.jsx)("div",{className:"text-sm text-gray-500",children:u(e.createdAt)})]}),(0,yb.jsxs)("div",{className:"text-lg font-semibold ".concat(c(e.type)),children:["deposit"===e.type||"challenge_win"===e.type||"refund"===e.type||"beta_allocation"===e.type?"+":"-","$",e.amount.toFixed(2)]})]},t);var n})}):(0,yb.jsxs)("div",{className:"text-center py-12",children:[(0,yb.jsx)(Qb,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,yb.jsx)("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No Transactions Yet"}),(0,yb.jsx)("p",{className:"text-gray-500",children:"Your Beta transaction history will appear here"}),(0,yb.jsx)("p",{className:"text-sm text-primaryAccent mt-2",children:"Try claiming your $100 dev funds to get started!"})]})]})]})})},Ej=()=>(0,yb.jsx)("div",{className:"min-h-screen py-8",children:(0,yb.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,yb.jsxs)("div",{className:"card-gradient",children:[(0,yb.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-6",children:"Proof & Dispute"}),(0,yb.jsx)("p",{className:"text-gray-300 mb-4",children:"This page will handle proof submission, dispute filing, and evidence management for challenges."}),(0,yb.jsx)("div",{className:"bg-dark-700 p-4 rounded-lg",children:(0,yb.jsx)("p",{className:"text-accent-400 text-sm",children:"\ud83d\udea7 Coming Soon - This feature is being implemented"})})]})})}),kj=()=>(0,yb.jsx)("div",{className:"min-h-screen py-8",children:(0,yb.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,yb.jsxs)("div",{className:"card-gradient",children:[(0,yb.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-6",children:"Admin Panel"}),(0,yb.jsx)("p",{className:"text-gray-300 mb-4",children:"This admin-only page will contain platform statistics, dispute resolution tools, user management, and financial controls."}),(0,yb.jsx)("div",{className:"bg-dark-700 p-4 rounded-lg",children:(0,yb.jsx)("p",{className:"text-accent-400 text-sm",children:"\ud83d\udea7 Coming Soon - This feature is being implemented"})})]})})});const Nj=function(){return(0,yb.jsx)(wb,{children:(0,yb.jsx)(Ie,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,yb.jsxs)("div",{className:"min-h-screen bg-dark-900",children:[(0,yb.jsx)(sw,{}),(0,yb.jsx)(ow,{}),(0,yb.jsx)("main",{className:"pt-16",children:(0,yb.jsxs)(xe,{children:[(0,yb.jsx)(be,{path:"/",element:(0,yb.jsx)(Iw,{})}),(0,yb.jsx)(be,{path:"/wagering",element:(0,yb.jsx)(Mw,{})}),(0,yb.jsx)(be,{path:"/wagers",element:(0,yb.jsx)(aw,{children:(0,yb.jsx)(jw,{})})}),(0,yb.jsx)(be,{path:"/login",element:(0,yb.jsx)(YS,{})}),(0,yb.jsx)(be,{path:"/signup",element:(0,yb.jsx)(tT,{})}),(0,yb.jsx)(be,{path:"/forgot-password",element:(0,yb.jsx)(aT,{})}),(0,yb.jsx)(be,{path:"/profile",element:(0,yb.jsx)(aw,{children:(0,yb.jsx)(ST,{})})}),(0,yb.jsx)(be,{path:"/statistics",element:(0,yb.jsx)(aw,{children:(0,yb.jsx)(TT,{})})}),(0,yb.jsx)(be,{path:"/settings",element:(0,yb.jsx)(aw,{children:(0,yb.jsx)(AT,{})})}),(0,yb.jsx)(be,{path:"/create-challenge",element:(0,yb.jsx)(aw,{children:(0,yb.jsx)(RT,{})})}),(0,yb.jsx)(be,{path:"/marketplace",element:(0,yb.jsx)(UT,{})}),(0,yb.jsx)(be,{path:"/challenge/:id",element:(0,yb.jsx)(zT,{})}),(0,yb.jsx)(be,{path:"/wallet",element:(0,yb.jsx)(aw,{children:(0,yb.jsx)(_j,{})})}),(0,yb.jsx)(be,{path:"/challenge/:id/proof",element:(0,yb.jsx)(aw,{children:(0,yb.jsx)(Ej,{})})}),(0,yb.jsx)(be,{path:"/admin",element:(0,yb.jsx)(aw,{adminOnly:!0,children:(0,yb.jsx)(kj,{})})})]})}),(0,yb.jsx)(nn,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#fff",border:"1px solid #374151"}}})]})})})};o.createRoot(document.getElementById("root")).render((0,yb.jsx)(s.StrictMode,{children:(0,yb.jsx)(Nj,{})}))})();
//# sourceMappingURL=main.97fcdadf.js.map