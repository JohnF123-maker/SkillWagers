/*! For license information please see main.9cf5c87b.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(a,t,i,"",function(e){return e})):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,P(_);else{var t=r(u);null!==t&&O(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,v(S),S=-1),p=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,N=null,S=-1,T=5,C=-1;function I(){return!(t.unstable_now()-C<T)}function j(){if(null!==N){var e=t.unstable_now();C=e;var n=!0;try{n=N(!0,e)}finally{n?E():(k=!1,N=null)}}else k=!1}if("function"===typeof w)E=function(){w(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=j,E=function(){R.postMessage(null)}}else E=function(){y(j,0)};function P(e){N=e,k||(k=!0,E())}function O(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(S),S=-1):g=!0,O(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,P(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(Ye){var t=Ye.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(He){var r=He}Reflect.construct(e,[],t)}else{try{t.call()}catch(He){r=He}e.call(t.prototype)}else{try{throw Error()}catch(He){r=He}e()}}catch(He){if(He&&r&&"string"===typeof He.stack){for(var i=He.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case N:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(Ye){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ee=null;function ke(e){if(e=Ci(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=ji(t),xe(e.stateNode,e.type,t))}}function Ne(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Se(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Ie=!1;function je(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==_e||null!==Ee)&&(Ce(),Se())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=ji(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(Ke){Re=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Le=null,Me=!1,Ue=null,Fe={onError:function(e){De=!0,Le=e}};function Be(e,t,n,r,i,s,a,o,l){De=!1,Le=null,Oe.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ve(e)!==e)throw Error(s(188))}function Qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Je=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,tt=i.unstable_shouldYield,rt=i.unstable_requestPaint,it=i.unstable_now,st=i.unstable_getCurrentPriorityLevel,at=i.unstable_ImmediatePriority,ot=i.unstable_UserBlockingPriority,lt=i.unstable_NormalPriority,ct=i.unstable_LowPriority,ut=i.unstable_IdlePriority,dt=null,ht=null;var ft=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pt(e)/mt|0)|0},pt=Math.log,mt=Math.LN2;var gt=64,yt=4194304;function vt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=vt(o):0!==(s&=a)&&(r=vt(s))}else 0!==(a=n&~i)?r=vt(a):0!==s&&(r=vt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ft(t)),r|=e[n],t&=~i;return r}function bt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function _t(){var e=gt;return 0===(4194240&(gt<<=1))&&(gt=64),e}function kt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ft(t)]=n}function St(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Tt=0;function Ct(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var It,jt,At,Rt,Pt,Ot=!1,Dt=[],Lt=null,Mt=null,Ut=null,Ft=new Map,Vt=new Map,zt=[],qt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wt(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vt.delete(t.pointerId)}}function Ht(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ci(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Kt(e){var t=Ti(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Pt(e.priority,function(){At(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ci(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Qt(e,t,n){Gt(e)&&n.delete(t)}function Yt(){Ot=!1,null!==Lt&&Gt(Lt)&&(Lt=null),null!==Mt&&Gt(Mt)&&(Mt=null),null!==Ut&&Gt(Ut)&&(Ut=null),Ft.forEach(Qt),Vt.forEach(Qt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Yt)))}function Jt(e){function t(t){return $t(t,e)}if(0<Dt.length){$t(Dt[0],e);for(var n=1;n<Dt.length;n++){var r=Dt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Lt&&$t(Lt,e),null!==Mt&&$t(Mt,e),null!==Ut&&$t(Ut,e),Ft.forEach(t),Vt.forEach(t),n=0;n<zt.length;n++)(r=zt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<zt.length&&null===(n=zt[0]).blockedOn;)Kt(n),null===n.blockedOn&&zt.shift()}var Xt=b.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var i=Tt,s=Xt.transition;Xt.transition=null;try{Tt=1,nn(e,t,n,r)}finally{Tt=i,Xt.transition=s}}function tn(e,t,n,r){var i=Tt,s=Xt.transition;Xt.transition=null;try{Tt=4,nn(e,t,n,r)}finally{Tt=i,Xt.transition=s}}function nn(e,t,n,r){if(Zt){var i=sn(e,t,n,r);if(null===i)Zr(e,t,r,rn,n),Wt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Lt=Ht(Lt,e,t,n,r,i),!0;case"dragenter":return Mt=Ht(Mt,e,t,n,r,i),!0;case"mouseover":return Ut=Ht(Ut,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ft.set(s,Ht(Ft.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vt.set(s,Ht(Vt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Wt(e,r),4&t&&-1<qt.indexOf(e)){for(;null!==i;){var s=Ci(i);if(null!==s&&It(s),null===(s=sn(e,t,n,r))&&Zr(e,t,r,rn,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function sn(e,t,n,r){if(rn=null,null!==(e=Ti(e=be(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function an(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(st()){case at:return 1;case ot:return 4;case lt:case ct:return 16;case ut:return 536870912;default:return 16}default:return 16}}var on=null,ln=null,cn=null;function un(){if(cn)return cn;var e,t,n=ln,r=n.length,i="value"in on?on.value:on.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return cn=i.slice(e,1<t?1-t:void 0)}function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function hn(){return!0}function fn(){return!1}function pn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?hn:fn,this.isPropagationStopped=fn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),t}var mn,gn,yn,vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wn=pn(vn),bn=M({},vn,{view:0,detail:0}),xn=pn(bn),_n=M({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&"mousemove"===e.type?(mn=e.screenX-yn.screenX,gn=e.screenY-yn.screenY):gn=mn=0,yn=e),mn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),En=pn(_n),kn=pn(M({},_n,{dataTransfer:0})),Nn=pn(M({},bn,{relatedTarget:0})),Sn=pn(M({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),Tn=M({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=pn(Tn),In=pn(M({},vn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rn[e])&&!!t[e]}function On(){return Pn}var Dn=M({},bn,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=pn(Dn),Mn=pn(M({},_n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Un=pn(M({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Fn=pn(M({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Bn=M({},_n,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vn=pn(Bn),zn=[9,13,27,32],qn=u&&"CompositionEvent"in window,Wn=null;u&&"documentMode"in document&&(Wn=document.documentMode);var Hn=u&&"TextEvent"in window&&!Wn,Kn=u&&(!qn||Wn&&8<Wn&&11>=Wn),Gn=String.fromCharCode(32),Qn=!1;function Yn(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Jn=!1;var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xn[e.type]:"textarea"===t}function er(e,t,n,r){Ne(r),0<(t=ti(t,"onChange")).length&&(n=new wn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Gr(e,0)}function ir(e){if(G(Ii(e)))return e}function sr(e,t){if("change"===e)return t}var ar=!1;if(u){var or;if(u){var lr="oninput"in document;if(!lr){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),lr="function"===typeof cr.oninput}or=lr}else or=!1;ar=or&&(!document.documentMode||9<document.documentMode)}function ur(){tr&&(tr.detachEvent("onpropertychange",dr),nr=tr=null)}function dr(e){if("value"===e.propertyName&&ir(nr)){var t=[];er(t,nr,e,be(e)),je(rr,t)}}function hr(e,t,n){"focusin"===e?(ur(),nr=n,(tr=t).attachEvent("onpropertychange",dr)):"focusout"===e&&ur()}function fr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ir(nr)}function pr(e,t){if("click"===e)return ir(t)}function mr(e,t){if("input"===e||"change"===e)return ir(t)}var gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function yr(e,t){if(gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!gr(e[i],t[i]))return!1}return!0}function vr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wr(e,t){var n,r=vr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vr(r)}}function br(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?br(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function xr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(Ze){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function _r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Er(e){var t=xr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&br(n.ownerDocument.documentElement,n)){if(null!==r&&_r(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=wr(n,s);var a=wr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kr=u&&"documentMode"in document&&11>=document.documentMode,Nr=null,Sr=null,Tr=null,Cr=!1;function Ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Cr||null==Nr||Nr!==Q(r)||("selectionStart"in(r=Nr)&&_r(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Tr&&yr(Tr,r)||(Tr=r,0<(r=ti(Sr,"onSelect")).length&&(t=new wn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Rr={},Pr={};function Or(e){if(Rr[e])return Rr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pr)return Rr[e]=n[t];return e}u&&(Pr=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Dr=Or("animationend"),Lr=Or("animationiteration"),Mr=Or("animationstart"),Ur=Or("transitionend"),Fr=new Map,Br="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){Fr.set(e,t),l(t,[e])}for(var zr=0;zr<Br.length;zr++){var qr=Br[zr];Vr(qr.toLowerCase(),"on"+(qr[0].toUpperCase()+qr.slice(1)))}Vr(Dr,"onAnimationEnd"),Vr(Lr,"onAnimationIteration"),Vr(Mr,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Ur,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function Kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Be.apply(this,arguments),De){if(!De)throw Error(s(198));var u=Le;De=!1,Le=null,Me||(Me=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Gr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Kr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Kr(i,o,c),s=l}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Qr(e,t){var n=t[ki];void 0===n&&(n=t[ki]=new Set);var r=e+"__bubble";n.has(r)||(Xr(t,e,2,!1),n.add(r))}function Yr(e,t,n){var r=0;t&&(r|=4),Xr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Jr(e){if(!e[$r]){e[$r]=!0,a.forEach(function(t){"selectionchange"!==t&&(Hr.has(t)||Yr(t,!1,e),Yr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Yr("selectionchange",!1,t))}}function Xr(e,t,n,r){switch(an(t)){case 1:var i=en;break;case 4:i=tn;break;default:i=nn}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=Ti(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}je(function(){var r=s,i=be(n),a=[];e:{var o=Fr.get(e);if(void 0!==o){var l=wn,c=e;switch(e){case"keypress":if(0===dn(n))break e;case"keydown":case"keyup":l=Ln;break;case"focusin":c="focus",l=Nn;break;case"focusout":c="blur",l=Nn;break;case"beforeblur":case"afterblur":l=Nn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=kn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Un;break;case Dr:case Lr:case Mr:l=Sn;break;case Ur:l=Fn;break;case"scroll":l=xn;break;case"wheel":l=Vn;break;case"copy":case"cut":case"paste":l=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(ei(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!Ti(c)&&!c[Ei])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ti(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=En,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:Ii(l),f=null==c?o:Ii(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,Ti(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=ni(f))p++;for(f=0,m=h;m;m=ni(m))f++;for(;0<p-f;)u=ni(u),p--;for(;0<f-p;)h=ni(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=ni(u),h=ni(h)}u=null}else u=null;null!==l&&ri(a,o,l,u,!1),null!==c&&null!==d&&ri(a,d,c,u,!0)}if("select"===(l=(o=r?Ii(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=sr;else if(Zn(o))if(ar)g=mr;else{g=fr;var y=hr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=pr);switch(g&&(g=g(e,r))?er(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?Ii(r):window,e){case"focusin":(Zn(y)||"true"===y.contentEditable)&&(Nr=y,Sr=r,Tr=null);break;case"focusout":Tr=Sr=Nr=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,Ir(a,n,i);break;case"selectionchange":if(kr)break;case"keydown":case"keyup":Ir(a,n,i)}var v;if(qn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Jn?Yn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Kn&&"ko"!==n.locale&&(Jn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Jn&&(v=un()):(ln="value"in(on=i)?on.value:on.textContent,Jn=!0)),0<(y=ti(r,w)).length&&(w=new In(w,e,null,n,i),a.push({event:w,listeners:y}),v?w.data=v:null!==(v=$n(n))&&(w.data=v))),(v=Hn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Qn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Qn?null:e;default:return null}}(e,n):function(e,t){if(Jn)return"compositionend"===e||!qn&&Yn(e,t)?(e=un(),cn=ln=on=null,Jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ti(r,"onBeforeInput")).length&&(i=new In("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Gr(a,t)})}function ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(ei(e,s,i)),null!=(s=Ae(e,t))&&r.push(ei(e,s,i))),e=e.return}return r}function ni(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ri(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ae(n,s))&&a.unshift(ei(n,l,o)):i||null!=(l=Ae(n,s))&&a.push(ei(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ii=/\r\n?/g,si=/\u0000|\uFFFD/g;function ai(e){return("string"===typeof e?e:""+e).replace(ii,"\n").replace(si,"")}function oi(e,t,n){if(t=ai(t),ai(e)!==t&&n)throw Error(s(425))}function li(){}var ci=null,ui=null;function di(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var hi="function"===typeof setTimeout?setTimeout:void 0,fi="function"===typeof clearTimeout?clearTimeout:void 0,pi="function"===typeof Promise?Promise:void 0,mi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof pi?function(e){return pi.resolve(null).then(e).catch(gi)}:hi;function gi(e){setTimeout(function(){throw e})}function yi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Jt(t)}function vi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function wi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var bi=Math.random().toString(36).slice(2),xi="__reactFiber$"+bi,_i="__reactProps$"+bi,Ei="__reactContainer$"+bi,ki="__reactEvents$"+bi,Ni="__reactListeners$"+bi,Si="__reactHandles$"+bi;function Ti(e){var t=e[xi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ei]||n[xi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wi(e);null!==e;){if(n=e[xi])return n;e=wi(e)}return t}n=(e=n).parentNode}return null}function Ci(e){return!(e=e[xi]||e[Ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ji(e){return e[_i]||null}var Ai=[],Ri=-1;function Pi(e){return{current:e}}function Oi(e){0>Ri||(e.current=Ai[Ri],Ai[Ri]=null,Ri--)}function Di(e,t){Ri++,Ai[Ri]=e.current,e.current=t}var Li={},Mi=Pi(Li),Ui=Pi(!1),Fi=Li;function Bi(e,t){var n=e.type.contextTypes;if(!n)return Li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function zi(){Oi(Ui),Oi(Mi)}function qi(e,t,n){if(Mi.current!==Li)throw Error(s(168));Di(Mi,t),Di(Ui,n)}function Wi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,Fi=Mi.current,Di(Mi,e),Di(Ui,Ui.current),!0}function Ki(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Wi(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,Oi(Ui),Oi(Mi),Di(Mi,e)):Oi(Ui),Di(Ui,n)}var Gi=null,Qi=!1,Yi=!1;function $i(e){null===Gi?Gi=[e]:Gi.push(e)}function Ji(){if(!Yi&&null!==Gi){Yi=!0;var e=0,t=Tt;try{var n=Gi;for(Tt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Gi=null,Qi=!1}catch(qe){throw null!==Gi&&(Gi=Gi.slice(e+1)),Je(at,Ji),qe}finally{Tt=t,Yi=!1}}return null}var Xi=[],Zi=0,es=null,ts=0,ns=[],rs=0,is=null,ss=1,as="";function os(e,t){Xi[Zi++]=ts,Xi[Zi++]=es,es=e,ts=t}function ls(e,t,n){ns[rs++]=ss,ns[rs++]=as,ns[rs++]=is,is=e;var r=ss;e=as;var i=32-ft(r)-1;r&=~(1<<i),n+=1;var s=32-ft(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ss=1<<32-ft(t)+i|n<<i|r,as=s+e}else ss=1<<s|n<<i|r,as=e}function cs(e){null!==e.return&&(os(e,1),ls(e,1,0))}function us(e){for(;e===es;)es=Xi[--Zi],Xi[Zi]=null,ts=Xi[--Zi],Xi[Zi]=null;for(;e===is;)is=ns[--rs],ns[rs]=null,as=ns[--rs],ns[rs]=null,ss=ns[--rs],ns[rs]=null}var ds=null,hs=null,fs=!1,ps=null;function ms(e,t){var n=Bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function gs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ds=e,hs=vi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ds=e,hs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==is?{id:ss,overflow:as}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ds=e,hs=null,!0);default:return!1}}function ys(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function vs(e){if(fs){var t=hs;if(t){var n=t;if(!gs(e,t)){if(ys(e))throw Error(s(418));t=vi(n.nextSibling);var r=ds;t&&gs(e,t)?ms(r,n):(e.flags=-4097&e.flags|2,fs=!1,ds=e)}}else{if(ys(e))throw Error(s(418));e.flags=-4097&e.flags|2,fs=!1,ds=e}}}function ws(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ds=e}function bs(e){if(e!==ds)return!1;if(!fs)return ws(e),fs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!di(e.type,e.memoizedProps)),t&&(t=hs)){if(ys(e))throw xs(),Error(s(418));for(;t;)ms(e,t),t=vi(t.nextSibling)}if(ws(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){hs=vi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}hs=null}}else hs=ds?vi(e.stateNode.nextSibling):null;return!0}function xs(){for(var e=hs;e;)e=vi(e.nextSibling)}function _s(){hs=ds=null,fs=!1}function Es(e){null===ps?ps=[e]:ps.push(e)}var ks=b.ReactCurrentBatchConfig;function Ns(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ss(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ts(e){return(0,e._init)(e._payload)}function Cs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Ts(s)===t.type)?((r=i(t,n.props)).ref=Ns(e,t,n),r.return=e,r):((r=qc(n.type,n.key,n.props,null,e.mode,r)).ref=Ns(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Wc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Kc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=qc(t.type,t.key,t.props,null,e.mode,n)).ref=Ns(e,null,t),n.return=e,n;case _:return(t=Gc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Wc(t,e.mode,n,null)).return=e,t;Ss(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);Ss(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);Ss(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(i,d),fs&&os(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return fs&&os(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),fs&&os(i,m),c}function g(i,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),o=a(w,o,g),null===d?u=w:d.sibling=w,d=w,m=y}if(v.done)return n(i,m),fs&&os(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return fs&&os(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),fs&&os(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Ts(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Ns(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((s=Wc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=qc(a.type,a.key,a.props,null,r.mode,l)).ref=Ns(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Gc(a,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(D(a))return g(r,s,a,l);Ss(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Kc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Is=Cs(!0),js=Cs(!1),As=Pi(null),Rs=null,Ps=null,Os=null;function Ds(){Os=Ps=Rs=null}function Ls(e){var t=As.current;Oi(As),e._currentValue=t}function Ms(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Us(e,t){Rs=e,Os=Ps=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Co=!0),e.firstContext=null)}function Fs(e){var t=e._currentValue;if(Os!==e)if(e={context:e,memoizedValue:t,next:null},null===Ps){if(null===Rs)throw Error(s(308));Ps=e,Rs.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var Bs=null;function Vs(e){null===Bs?Bs=[e]:Bs.push(e)}function zs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Vs(t)):(n.next=i.next,i.next=n),t.interleaved=n,qs(e,r)}function qs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ws=!1;function Hs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ks(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ml)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qs(e,n)}return null===(i=r.interleaved)?(t.next=t,Vs(r)):(t.next=i.next,i.next=t),r.interleaved=t,qs(e,n)}function Ys(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,St(e,n)}}function $s(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Js(e,t,n,r){var i=e.updateQueue;Ws=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Ws=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Hl|=a,e.lanes=a,e.memoizedState=d}}function Xs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Zs={},ea=Pi(Zs),ta=Pi(Zs),na=Pi(Zs);function ra(e){if(e===Zs)throw Error(s(174));return e}function ia(e,t){switch(Di(na,t),Di(ta,e),Di(ea,Zs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Oi(ea),Di(ea,t)}function sa(){Oi(ea),Oi(ta),Oi(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Di(ta,e),Di(ea,n))}function oa(e){ta.current===e&&(Oi(ea),Oi(ta))}var la=Pi(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=b.ReactCurrentDispatcher,fa=b.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,ya=null,va=!1,wa=!1,ba=0,xa=0;function _a(){throw Error(s(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?oo:lo,e=n(r,i),wa){a=0;do{if(wa=!1,ba=0,25<=a)throw Error(s(301));a+=1,ya=ga=null,t.updateQueue=null,ha.current=co,e=n(r,i)}while(wa)}if(ha.current=ao,t=null!==ga&&null!==ga.next,pa=0,ya=ga=ma=null,va=!1,t)throw Error(s(300));return e}function Na(){var e=0!==ba;return ba=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ma.memoizedState=ya=e:ya=ya.next=e,ya}function Ta(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ya?ma.memoizedState:ya.next;if(null!==t)ya=t,ga=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?ma.memoizedState=ya=e:ya=ya.next=e}return ya}function Ca(e,t){return"function"===typeof t?t(e):t}function Ia(e){var t=Ta(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ma.lanes|=d,Hl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,gr(r,t.memoizedState)||(Co=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Hl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ja(e){var t=Ta(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);gr(a,t.memoizedState)||(Co=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Ra(e,t){var n=ma,r=Ta(),i=t(),a=!gr(r.memoizedState,i);if(a&&(r.memoizedState=i,Co=!0),r=r.queue,Wa(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Fa(9,Oa.bind(null,n,r,i,t),void 0,null),null===Ul)throw Error(s(349));0!==(30&pa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Ma(e)}function Da(e,t,n){return n(function(){La(t)&&Ma(e)})}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch(Ze){return!0}}function Ma(e){var t=qs(e,1);null!==t&&dc(t,e,1,-1)}function Ua(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=no.bind(null,ma,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return Ta().memoizedState}function Va(e,t,n,r){var i=Sa();ma.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=Ta();r=void 0===r?null:r;var s=void 0;if(null!==ga){var a=ga.memoizedState;if(s=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Fa(t,n,s,r))}ma.flags|=e,i.memoizedState=Fa(1|t,n,s,r)}function qa(e,t){return Va(8390656,8,e,t)}function Wa(e,t){return za(2048,8,e,t)}function Ha(e,t){return za(4,2,e,t)}function Ka(e,t){return za(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Ga.bind(null,t,e),n)}function Ya(){}function $a(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,Co=!0),e.memoizedState=n):(gr(n,t)||(n=_t(),ma.lanes|=n,Hl|=n,e.baseState=!0),t)}function Za(e,t){var n=Tt;Tt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{Tt=n,fa.transition=r}}function eo(){return Ta().memoizedState}function to(e,t,n){var r=uc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ro(e))io(t,n);else if(null!==(n=zs(e,t,n,r))){dc(n,e,r,cc()),so(n,t,r)}}function no(e,t,n){var r=uc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ro(e))io(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,gr(o,a)){var l=t.interleaved;return null===l?(i.next=i,Vs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(He){}null!==(n=zs(e,t,i,r))&&(dc(n,e,r,i=cc()),so(n,t,r))}}function ro(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function io(e,t){wa=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function so(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,St(e,n)}}var ao={readContext:Fs,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},oo={readContext:Fs,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:Fs,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=to.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:Ua,useDebugValue:Ya,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=Za.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Sa();if(fs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ul)throw Error(s(349));0!==(30&pa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(Da.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Sa(),t=Ul.identifierPrefix;if(fs){var n=as;t=":"+t+"R"+(n=(ss&~(1<<32-ft(ss)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lo={readContext:Fs,useCallback:$a,useContext:Fs,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ha,useLayoutEffect:Ka,useMemo:Ja,useReducer:Ia,useRef:Ba,useState:function(){return Ia(Ca)},useDebugValue:Ya,useDeferredValue:function(e){return Xa(Ta(),ga.memoizedState,e)},useTransition:function(){return[Ia(Ca)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:eo,unstable_isNewReconciler:!1},co={readContext:Fs,useCallback:$a,useContext:Fs,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ha,useLayoutEffect:Ka,useMemo:Ja,useReducer:ja,useRef:Ba,useState:function(){return ja(Ca)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ta();return null===ga?t.memoizedState=e:Xa(t,ga.memoizedState,e)},useTransition:function(){return[ja(Ca)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:eo,unstable_isNewReconciler:!1};function uo(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cc(),i=uc(e),s=Gs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Qs(e,s,i))&&(dc(t,e,i,r),Ys(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cc(),i=uc(e),s=Gs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Qs(e,s,i))&&(dc(t,e,i,r),Ys(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cc(),r=uc(e),i=Gs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Qs(e,i,r))&&(dc(t,e,r,n),Ys(t,e,r))}};function po(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!yr(n,r)||!yr(i,s))}function mo(e,t,n){var r=!1,i=Li,s=t.contextType;return"object"===typeof s&&null!==s?s=Fs(s):(i=Vi(t)?Fi:Mi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Bi(e,i):Li),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Hs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Fs(s):(s=Vi(t)?Fi:Mi.current,i.context=Bi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ho(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fo.enqueueReplaceState(i,i.state,null),Js(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function vo(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(et){i="\nError generating stack: "+et.message+"\n"+et.stack}return{value:e,source:t,stack:i,digest:null}}function wo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function bo(e,t){try{console.error(t.value)}catch(Ye){setTimeout(function(){throw Ye})}}var xo="function"===typeof WeakMap?WeakMap:Map;function _o(e,t,n){(n=Gs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zl||(Zl=!0,ec=r),bo(0,t)},n}function Eo(e,t,n){(n=Gs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){bo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){bo(0,t),"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ko(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new xo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Oc.bind(null,e,t,n),t.then(e,e))}function No(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function So(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Gs(-1,1)).tag=2,Qs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var To=b.ReactCurrentOwner,Co=!1;function Io(e,t,n,r){t.child=null===e?js(t,null,n,r):Is(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var s=t.ref;return Us(t,i),r=ka(e,t,n,r,s,i),n=Na(),null===e||Co?(fs&&n&&cs(t),t.flags|=1,Io(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zo(e,t,i))}function Ao(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Vc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ro(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:yr)(a,r)&&e.ref===t.ref)return Zo(e,t,i)}return t.flags|=1,(e=zc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ro(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(yr(s,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Zo(e,t,i);0!==(131072&e.flags)&&(Co=!0)}}return Do(e,t,n,r,i)}function Po(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Di(zl,Vl),Vl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Di(zl,Vl),Vl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Di(zl,Vl),Vl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Di(zl,Vl),Vl|=r;return Io(e,t,i,n),t.child}function Oo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Do(e,t,n,r,i){var s=Vi(n)?Fi:Mi.current;return s=Bi(t,s),Us(t,i),n=ka(e,t,n,r,s,i),r=Na(),null===e||Co?(fs&&r&&cs(t),t.flags|=1,Io(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zo(e,t,i))}function Lo(e,t,n,r,i){if(Vi(n)){var s=!0;Hi(t)}else s=!1;if(Us(t,i),null===t.stateNode)Xo(e,t),mo(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Fs(c):c=Bi(t,c=Vi(n)?Fi:Mi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&go(t,a,r,c),Ws=!1;var h=t.memoizedState;a.state=h,Js(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ui.current||Ws?("function"===typeof u&&(ho(t,n,u,r),l=t.memoizedState),(o=Ws||po(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ks(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:uo(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Fs(l):l=Bi(t,l=Vi(n)?Fi:Mi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&go(t,a,r,l),Ws=!1,h=t.memoizedState,a.state=h,Js(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ui.current||Ws?("function"===typeof f&&(ho(t,n,f,r),p=t.memoizedState),(c=Ws||po(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Mo(e,t,n,r,s,i)}function Mo(e,t,n,r,i,s){Oo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ki(t,n,!1),Zo(e,t,s);r=t.stateNode,To.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Is(t,e.child,null,s),t.child=Is(t,null,o,s)):Io(e,t,o,s),t.memoizedState=r.state,i&&Ki(t,n,!0),t.child}function Uo(e){var t=e.stateNode;t.pendingContext?qi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&qi(0,t.context,!1),ia(e,t.containerInfo)}function Fo(e,t,n,r,i){return _s(),Es(i),t.flags|=256,Io(e,t,n,r),t.child}var Bo,Vo,zo,qo,Wo={dehydrated:null,treeContext:null,retryLane:0};function Ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ko(e,t,n){var r,i=t.pendingProps,a=la.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Di(la,1&a),null===e)return vs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Hc(l,i,0,null),e=Wc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ho(n),t.memoizedState=Wo,e):Go(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Qo(e,t,o,r=wo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Hc({mode:"visible",children:r.children},i,0,null),(a=Wc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Is(t,e.child,null,o),t.child.memoizedState=Ho(o),t.memoizedState=Wo,a);if(0===(1&t.mode))return Qo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Qo(e,t,o,r=wo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),Co||l){if(null!==(r=Ul)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,qs(e,i),dc(r,e,i,-1))}return kc(),Qo(e,t,o,r=wo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Lc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,hs=vi(i.nextSibling),ds=t,fs=!0,ps=null,null!==e&&(ns[rs++]=ss,ns[rs++]=as,ns[rs++]=is,ss=e.id,as=e.overflow,is=t),t=Go(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=zc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=zc(r,o):(o=Wc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Ho(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Wo,i}return e=(o=e.child).sibling,i=zc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Go(e,t){return(t=Hc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Qo(e,t,n,r){return null!==r&&Es(r),Is(t,e.child,null,n),(e=Go(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Yo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ms(e.return,t,n)}function $o(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Jo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n,t);else if(19===e.tag)Yo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Di(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$o(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$o(t,!0,n,null,s);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Hl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=zc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function el(e,t){if(!fs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nl(e,t,n){var r=t.pendingProps;switch(us(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tl(t),null;case 1:case 17:return Vi(t.type)&&zi(),tl(t),null;case 3:return r=t.stateNode,sa(),Oi(Ui),Oi(Mi),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(bs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ps&&(mc(ps),ps=null))),Vo(e,t),tl(t),null;case 5:oa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)zo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return tl(t),null}if(e=ra(ea.current),bs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[xi]=t,r[_i]=a,e=0!==(1&t.mode),n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(i=0;i<Wr.length;i++)Qr(Wr[i],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":$(r,a),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qr("invalid",r);break;case"textarea":ie(r,a),Qr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&oi(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&oi(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Qr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=li)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[xi]=t,e[_i]=r,Bo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),i=r;break;case"iframe":case"object":case"embed":Qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Wr.length;i++)Qr(Wr[i],e);i=r;break;case"source":Qr("error",e),i=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),i=r;break;case"details":Qr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Qr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Qr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Qr("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return tl(t),null;case 6:if(e&&null!=t.stateNode)qo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=ra(na.current),ra(ea.current),bs(t)){if(r=t.stateNode,n=t.memoizedProps,r[xi]=t,(a=r.nodeValue!==n)&&null!==(e=ds))switch(e.tag){case 3:oi(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&oi(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[xi]=t,t.stateNode=r}return tl(t),null;case 13:if(Oi(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(fs&&null!==hs&&0!==(1&t.mode)&&0===(128&t.flags))xs(),_s(),t.flags|=98560,a=!1;else if(a=bs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[xi]=t}else _s(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tl(t),a=!1}else null!==ps&&(mc(ps),ps=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===ql&&(ql=3):kc())),null!==t.updateQueue&&(t.flags|=4),tl(t),null);case 4:return sa(),Vo(e,t),null===e&&Jr(t.stateNode.containerInfo),tl(t),null;case 10:return Ls(t.type._context),tl(t),null;case 19:if(Oi(la),null===(a=t.memoizedState))return tl(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)el(a,!1);else{if(0!==ql||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,el(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Di(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&it()>Jl&&(t.flags|=128,r=!0,el(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),el(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!fs)return tl(t),null}else 2*it()-a.renderingStartTime>Jl&&1073741824!==n&&(t.flags|=128,r=!0,el(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=it(),t.sibling=null,n=la.current,Di(la,r?1&n|2:1&n),t):(tl(t),null);case 22:case 23:return bc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Vl)&&(tl(t),6&t.subtreeFlags&&(t.flags|=8192)):tl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function rl(e,t){switch(us(t),t.tag){case 1:return Vi(t.type)&&zi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sa(),Oi(Ui),Oi(Mi),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oa(t),null;case 13:if(Oi(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));_s()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Oi(la),null;case 4:return sa(),null;case 10:return Ls(t.type._context),null;case 22:case 23:return bc(),null;default:return null}}Bo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Vo=function(){},zo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=li)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Qr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var il=!1,sl=!1,al="function"===typeof WeakSet?WeakSet:Set,ol=null;function ll(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Ze){Pc(e,t,Ze)}else n.current=null}function cl(e,t,n){try{n()}catch(Ze){Pc(e,t,Ze)}}var ul=!1;function dl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&cl(t,n,s)}i=i.next}while(i!==r)}}function hl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function pl(e){var t=e.alternate;null!==t&&(e.alternate=null,pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[xi],delete t[_i],delete t[ki],delete t[Ni],delete t[Si])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ml(e){return 5===e.tag||3===e.tag||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=li));else if(4!==r&&null!==(e=e.child))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}var wl=null,bl=!1;function xl(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(ht&&"function"===typeof ht.onCommitFiberUnmount)try{ht.onCommitFiberUnmount(dt,n)}catch(nt){}switch(n.tag){case 5:sl||ll(n,t);case 6:var r=wl,i=bl;wl=null,xl(e,t,n),bl=i,null!==(wl=r)&&(bl?(e=wl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):wl.removeChild(n.stateNode));break;case 18:null!==wl&&(bl?(e=wl,n=n.stateNode,8===e.nodeType?yi(e.parentNode,n):1===e.nodeType&&yi(e,n),Jt(e)):yi(wl,n.stateNode));break;case 4:r=wl,i=bl,wl=n.stateNode.containerInfo,bl=!0,xl(e,t,n),wl=r,bl=i;break;case 0:case 11:case 14:case 15:if(!sl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&cl(n,t,a),i=i.next}while(i!==r)}xl(e,t,n);break;case 1:if(!sl&&(ll(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(nt){Pc(n,t,nt)}xl(e,t,n);break;case 21:xl(e,t,n);break;case 22:1&n.mode?(sl=(r=sl)||null!==n.memoizedState,xl(e,t,n),sl=r):xl(e,t,n);break;default:xl(e,t,n)}}function El(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new al),t.forEach(function(t){var r=Mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function kl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:wl=l.stateNode,bl=!1;break e;case 3:case 4:wl=l.stateNode.containerInfo,bl=!0;break e}l=l.return}if(null===wl)throw Error(s(160));_l(a,o,i),wl=null,bl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(He){Pc(i,t,He)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Nl(t,e),t=t.sibling}function Nl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kl(t,e),Sl(e),4&r){try{dl(3,e,e.return),hl(3,e)}catch(We){Pc(e,e.return,We)}try{dl(5,e,e.return)}catch(We){Pc(e,e.return,We)}}break;case 1:kl(t,e),Sl(e),512&r&&null!==n&&ll(n,n.return);break;case 5:if(kl(t,e),Sl(e),512&r&&null!==n&&ll(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(We){Pc(e,e.return,We)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),ve(l,o);var u=ve(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):w(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[_i]=a}catch(We){Pc(e,e.return,We)}}break;case 6:if(kl(t,e),Sl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(We){Pc(e,e.return,We)}}break;case 3:if(kl(t,e),Sl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Jt(t.containerInfo)}catch(We){Pc(e,e.return,We)}break;case 4:default:kl(t,e),Sl(e);break;case 13:kl(t,e),Sl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||($l=it())),4&r&&El(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(sl=(u=sl)||d,kl(t,e),sl=u):kl(t,e),Sl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(ol=e,d=e.child;null!==d;){for(h=ol=d;null!==ol;){switch(p=(f=ol).child,f.tag){case 0:case 11:case 14:case 15:dl(4,f,f.return);break;case 1:ll(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(We){Pc(r,n,We)}}break;case 5:ll(f,f.return);break;case 22:if(null!==f.memoizedState){jl(h);continue}}null!==p?(p.return=f,ol=p):jl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(We){Pc(e,e.return,We)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(We){Pc(e,e.return,We)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kl(t,e),Sl(e),4&r&&El(e);case 21:}}function Sl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ml(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),vl(e,gl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;yl(e,gl(e),a);break;default:throw Error(s(161))}}catch(Et){Pc(e,e.return,Et)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Tl(e,t,n){ol=e,Cl(e,t,n)}function Cl(e,t,n){for(var r=0!==(1&e.mode);null!==ol;){var i=ol,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||il;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||sl;o=il;var c=sl;if(il=a,(sl=l)&&!c)for(ol=i;null!==ol;)l=(a=ol).child,22===a.tag&&null!==a.memoizedState?Al(i):null!==l?(l.return=a,ol=l):Al(i);for(;null!==s;)ol=s,Cl(s,t,n),s=s.sibling;ol=i,il=o,sl=c}Il(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,ol=s):Il(e)}}function Il(e){for(;null!==ol;){var t=ol;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sl||hl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:uo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Xs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Xs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Jt(h)}}}break;default:throw Error(s(163))}sl||512&t.flags&&fl(t)}catch(f){Pc(t,t.return,f)}}if(t===e){ol=null;break}if(null!==(n=t.sibling)){n.return=t.return,ol=n;break}ol=t.return}}function jl(e){for(;null!==ol;){var t=ol;if(t===e){ol=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ol=n;break}ol=t.return}}function Al(e){for(;null!==ol;){var t=ol;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hl(4,t)}catch(Et){Pc(t,n,Et)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Et){Pc(t,i,Et)}}var s=t.return;try{fl(t)}catch(Et){Pc(t,s,Et)}break;case 5:var a=t.return;try{fl(t)}catch(Et){Pc(t,a,Et)}}}catch(Et){Pc(t,t.return,Et)}if(t===e){ol=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ol=o;break}ol=t.return}}var Rl,Pl=Math.ceil,Ol=b.ReactCurrentDispatcher,Dl=b.ReactCurrentOwner,Ll=b.ReactCurrentBatchConfig,Ml=0,Ul=null,Fl=null,Bl=0,Vl=0,zl=Pi(0),ql=0,Wl=null,Hl=0,Kl=0,Gl=0,Ql=null,Yl=null,$l=0,Jl=1/0,Xl=null,Zl=!1,ec=null,tc=null,nc=!1,rc=null,ic=0,sc=0,ac=null,oc=-1,lc=0;function cc(){return 0!==(6&Ml)?it():-1!==oc?oc:oc=it()}function uc(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==Bl?Bl&-Bl:null!==ks.transition?(0===lc&&(lc=_t()),lc):0!==(e=Tt)?e:e=void 0===(e=window.event)?16:an(e.type)}function dc(e,t,n,r){if(50<sc)throw sc=0,ac=null,Error(s(185));Nt(e,n,r),0!==(2&Ml)&&e===Ul||(e===Ul&&(0===(2&Ml)&&(Kl|=n),4===ql&&gc(e,Bl)),hc(e,r),1===n&&0===Ml&&0===(1&t.mode)&&(Jl=it()+500,Qi&&Ji()))}function hc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ft(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=bt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=wt(e,e===Ul?Bl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Qi=!0,$i(e)}(yc.bind(null,e)):$i(yc.bind(null,e)),mi(function(){0===(6&Ml)&&Ji()}),n=null;else{switch(Ct(r)){case 1:n=at;break;case 4:n=ot;break;case 16:default:n=lt;break;case 536870912:n=ut}n=Uc(n,fc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fc(e,t){if(oc=-1,lc=0,0!==(6&Ml))throw Error(s(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=wt(e,e===Ul?Bl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Nc(e,r);else{t=r;var i=Ml;Ml|=2;var a=Ec();for(Ul===e&&Bl===t||(Xl=null,Jl=it()+500,xc(e,t));;)try{Tc();break}catch(nt){_c(e,nt)}Ds(),Ol.current=a,Ml=i,null!==Fl?t=0:(Ul=null,Bl=0,t=ql)}if(0!==t){if(2===t&&(0!==(i=xt(e))&&(r=i,t=pc(e,i))),1===t)throw n=Wl,xc(e,0),gc(e,r),hc(e,it()),n;if(6===t)gc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gr(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Nc(e,r))&&(0!==(a=xt(e))&&(r=a,t=pc(e,a))),1===t))throw n=Wl,xc(e,0),gc(e,r),hc(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Yl,Xl);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=$l+500-it())){if(0!==wt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hi(jc.bind(null,e,Yl,Xl),t);break}jc(e,Yl,Xl);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ft(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=it()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pl(r/1960))-r)){e.timeoutHandle=hi(jc.bind(null,e,Yl,Xl),r);break}jc(e,Yl,Xl);break;default:throw Error(s(329))}}}return hc(e,it()),e.callbackNode===n?fc.bind(null,e):null}function pc(e,t){var n=Ql;return e.current.memoizedState.isDehydrated&&(xc(e,t).flags|=256),2!==(e=Nc(e,t))&&(t=Yl,Yl=n,null!==t&&mc(t)),e}function mc(e){null===Yl?Yl=e:Yl.push.apply(Yl,e)}function gc(e,t){for(t&=~Gl,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function yc(e){if(0!==(6&Ml))throw Error(s(327));Ac();var t=wt(e,0);if(0===(1&t))return hc(e,it()),null;var n=Nc(e,t);if(0!==e.tag&&2===n){var r=xt(e);0!==r&&(t=r,n=pc(e,r))}if(1===n)throw n=Wl,xc(e,0),gc(e,t),hc(e,it()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Yl,Xl),hc(e,it()),null}function vc(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(Jl=it()+500,Qi&&Ji())}}function wc(e){null!==rc&&0===rc.tag&&0===(6&Ml)&&Ac();var t=Ml;Ml|=1;var n=Ll.transition,r=Tt;try{if(Ll.transition=null,Tt=1,e)return e()}finally{Tt=r,Ll.transition=n,0===(6&(Ml=t))&&Ji()}}function bc(){Vl=zl.current,Oi(zl)}function xc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,fi(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(us(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&zi();break;case 3:sa(),Oi(Ui),Oi(Mi),da();break;case 5:oa(r);break;case 4:sa();break;case 13:case 19:Oi(la);break;case 10:Ls(r.type._context);break;case 22:case 23:bc()}n=n.return}if(Ul=e,Fl=e=zc(e.current,null),Bl=Vl=t,ql=0,Wl=null,Gl=Kl=Hl=0,Yl=Ql=null,null!==Bs){for(t=0;t<Bs.length;t++)if(null!==(r=(n=Bs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Bs=null}return e}function _c(e,t){for(;;){var n=Fl;try{if(Ds(),ha.current=ao,va){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(pa=0,ya=ga=ma=null,wa=!1,ba=0,Dl.current=null,null===n||null===n.return){ql=1,Wl=t,Fl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Bl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=No(o);if(null!==p){p.flags&=-257,So(p,o,l,0,t),1&p.mode&&ko(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ko(a,u,t),kc();break e}c=Error(s(426))}else if(fs&&1&l.mode){var y=No(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),So(y,o,l,0,t),Es(vo(c,l));break e}}a=c=vo(c,l),4!==ql&&(ql=2),null===Ql?Ql=[a]:Ql.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,$s(a,_o(0,c,t));break e;case 1:l=c;var v=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===tc||!tc.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,$s(a,Eo(a,l,t));break e}}a=a.return}while(null!==a)}Ic(n)}catch(b){t=b,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function Ec(){var e=Ol.current;return Ol.current=ao,null===e?ao:e}function kc(){0!==ql&&3!==ql&&2!==ql||(ql=4),null===Ul||0===(268435455&Hl)&&0===(268435455&Kl)||gc(Ul,Bl)}function Nc(e,t){var n=Ml;Ml|=2;var r=Ec();for(Ul===e&&Bl===t||(Xl=null,xc(e,t));;)try{Sc();break}catch(qe){_c(e,qe)}if(Ds(),Ml=n,Ol.current=r,null!==Fl)throw Error(s(261));return Ul=null,Bl=0,ql}function Sc(){for(;null!==Fl;)Cc(Fl)}function Tc(){for(;null!==Fl&&!tt();)Cc(Fl)}function Cc(e){var t=Rl(e.alternate,e,Vl);e.memoizedProps=e.pendingProps,null===t?Ic(e):Fl=t,Dl.current=null}function Ic(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=nl(n,t,Vl)))return void(Fl=n)}else{if(null!==(n=rl(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return ql=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===ql&&(ql=5)}function jc(e,t,n){var r=Tt,i=Ll.transition;try{Ll.transition=null,Tt=1,function(e,t,n,r){do{Ac()}while(null!==rc);if(0!==(6&Ml))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ft(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Ul&&(Fl=Ul=null,Bl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nc||(nc=!0,Uc(lt,function(){return Ac(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ll.transition,Ll.transition=null;var o=Tt;Tt=1;var l=Ml;Ml|=4,Dl.current=null,function(e,t){if(ci=Zt,_r(e=xr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Bt){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ui={focusedElem:e,selectionRange:n},Zt=!1,ol=t;null!==ol;)if(e=(t=ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ol=e;else for(;null!==ol;){t=ol;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:uo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(Bt){Pc(t,t.return,Bt)}if(null!==(e=t.sibling)){e.return=t.return,ol=e;break}ol=t.return}m=ul,ul=!1}(e,n),Nl(n,e),Er(ui),Zt=!!ci,ui=ci=null,e.current=n,Tl(n,e,i),rt(),Ml=l,Tt=o,Ll.transition=a}else e.current=n;if(nc&&(nc=!1,rc=e,ic=i),a=e.pendingLanes,0===a&&(tc=null),function(e){if(ht&&"function"===typeof ht.onCommitFiberRoot)try{ht.onCommitFiberRoot(dt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),hc(e,it()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zl)throw Zl=!1,e=ec,ec=null,e;0!==(1&ic)&&0!==e.tag&&Ac(),a=e.pendingLanes,0!==(1&a)?e===ac?sc++:(sc=0,ac=e):sc=0,Ji()}(e,t,n,r)}finally{Ll.transition=i,Tt=r}return null}function Ac(){if(null!==rc){var e=Ct(ic),t=Ll.transition,n=Tt;try{if(Ll.transition=null,Tt=16>e?16:e,null===rc)var r=!1;else{if(e=rc,rc=null,ic=0,0!==(6&Ml))throw Error(s(331));var i=Ml;for(Ml|=4,ol=e.current;null!==ol;){var a=ol,o=a.child;if(0!==(16&ol.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(ol=u;null!==ol;){var d=ol;switch(d.tag){case 0:case 11:case 15:dl(8,d,a)}var h=d.child;if(null!==h)h.return=d,ol=h;else for(;null!==ol;){var f=(d=ol).sibling,p=d.return;if(pl(d),d===u){ol=null;break}if(null!==f){f.return=p,ol=f;break}ol=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}ol=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,ol=o;else e:for(;null!==ol;){if(0!==(2048&(a=ol).flags))switch(a.tag){case 0:case 11:case 15:dl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,ol=v;break e}ol=a.return}}var w=e.current;for(ol=w;null!==ol;){var b=(o=ol).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,ol=b;else e:for(o=w;null!==ol;){if(0!==(2048&(l=ol).flags))try{switch(l.tag){case 0:case 11:case 15:hl(9,l)}}catch(_){Pc(l,l.return,_)}if(l===o){ol=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,ol=x;break e}ol=l.return}}if(Ml=i,Ji(),ht&&"function"===typeof ht.onPostCommitFiberRoot)try{ht.onPostCommitFiberRoot(dt,e)}catch(_){}r=!0}return r}finally{Tt=n,Ll.transition=t}}return!1}function Rc(e,t,n){e=Qs(e,t=_o(0,t=vo(n,t),1),1),t=cc(),null!==e&&(Nt(e,1,t),hc(e,t))}function Pc(e,t,n){if(3===e.tag)Rc(e,e,n);else for(;null!==t;){if(3===t.tag){Rc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){t=Qs(t,e=Eo(t,e=vo(n,e),1),1),e=cc(),null!==t&&(Nt(t,1,e),hc(t,e));break}}t=t.return}}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&n,Ul===e&&(Bl&n)===n&&(4===ql||3===ql&&(130023424&Bl)===Bl&&500>it()-$l?xc(e,0):Gl|=n),hc(e,t)}function Dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=yt,0===(130023424&(yt<<=1))&&(yt=4194304)));var n=cc();null!==(e=qs(e,t))&&(Nt(e,t,n),hc(e,n))}function Lc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Dc(e,n)}function Mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Dc(e,n)}function Uc(e,t){return Je(e,t)}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bc(e,t,n,r){return new Fc(e,t,n,r)}function Vc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zc(e,t){var n=e.alternate;return null===n?((n=Bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Vc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Wc(n.children,i,a,t);case k:o=8,i|=8;break;case N:return(e=Bc(12,n,t,2|i)).elementType=N,e.lanes=a,e;case I:return(e=Bc(13,n,t,i)).elementType=I,e.lanes=a,e;case j:return(e=Bc(19,n,t,i)).elementType=j,e.lanes=a,e;case P:return Hc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case T:o=9;break e;case C:o=11;break e;case A:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Bc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Wc(e,t,n,r){return(e=Bc(7,e,r,t)).lanes=n,e}function Hc(e,t,n,r){return(e=Bc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Kc(e,t,n){return(e=Bc(6,e,null,t)).lanes=n,e}function Gc(e,t,n){return(t=Bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kt(0),this.expirationTimes=kt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yc(e,t,n,r,i,s,a,o,l){return e=new Qc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Bc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hs(s),e}function $c(e){if(!e)return Li;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Vi(n))return Wi(e,n,t)}return t}function Jc(e,t,n,r,i,s,a,o,l){return(e=Yc(n,r,!0,e,0,s,0,o,l)).context=$c(null),n=e.current,(s=Gs(r=cc(),i=uc(n))).callback=void 0!==t&&null!==t?t:null,Qs(n,s,i),e.current.lanes=i,Nt(e,i,r),hc(e,r),e}function Xc(e,t,n,r){var i=t.current,s=cc(),a=uc(i);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Gs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Qs(i,t,a))&&(dc(e,i,a,s),Ys(e,i,a)),a}function Zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function eu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function tu(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}Rl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ui.current)Co=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:Uo(t),_s();break;case 5:aa(t);break;case 1:Vi(t.type)&&Hi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Di(As,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Di(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ko(e,t,n):(Di(la,1&la.current),null!==(e=Zo(e,t,n))?e.sibling:null);Di(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Jo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Di(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n)}return Zo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,fs&&0!==(1048576&t.flags)&&ls(t,ts,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xo(e,t),e=t.pendingProps;var i=Bi(t,Mi.current);Us(t,n),i=ka(null,t,r,e,i,n);var a=Na();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vi(r)?(a=!0,Hi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Hs(t),i.updater=fo,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Mo(null,t,r,!0,a,n)):(t.tag=0,fs&&a&&cs(t),Io(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Vc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=uo(r,e),i){case 0:t=Do(null,t,r,e,n);break e;case 1:t=Lo(null,t,r,e,n);break e;case 11:t=jo(null,t,r,e,n);break e;case 14:t=Ao(null,t,r,uo(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Do(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 3:e:{if(Uo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ks(e,t),Js(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fo(e,t,r,n,i=vo(Error(s(423)),t));break e}if(r!==i){t=Fo(e,t,r,n,i=vo(Error(s(424)),t));break e}for(hs=vi(t.stateNode.containerInfo.firstChild),ds=t,fs=!0,ps=null,n=js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_s(),r===i){t=Zo(e,t,n);break e}Io(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&vs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,di(r,i)?o=null:null!==a&&di(r,a)&&(t.flags|=32),Oo(e,t),Io(e,t,o,n),t.child;case 6:return null===e&&vs(t),null;case 13:return Ko(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Is(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Di(As,r._currentValue),r._currentValue=o,null!==a)if(gr(a.value,o)){if(a.children===i.children&&!Ui.current){t=Zo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Gs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ms(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ms(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Io(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Us(t,n),r=r(i=Fs(i)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return i=uo(r=t.type,t.pendingProps),Ao(e,t,r,i=uo(r.type,i),n);case 15:return Ro(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uo(r,i),Xo(e,t),t.tag=1,Vi(r)?(e=!0,Hi(t)):e=!1,Us(t,n),mo(t,r,i),yo(t,r,i,n),Mo(null,t,r,!0,e,n);case 19:return Jo(e,t,n);case 22:return Po(e,t,n)}throw Error(s(156,t.tag))};var nu="function"===typeof reportError?reportError:function(e){console.error(e)};function ru(e){this._internalRoot=e}function iu(e){this._internalRoot=e}function su(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(){}function lu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Zc(a);o.call(e)}}Xc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Zc(a);s.call(e)}}var a=Jc(t,r,e,0,null,!1,0,"",ou);return e._reactRootContainer=a,e[Ei]=a.current,Jr(8===e.nodeType?e.parentNode:e),wc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Zc(l);o.call(e)}}var l=Yc(e,0,!1,null,0,!1,0,"",ou);return e._reactRootContainer=l,e[Ei]=l.current,Jr(8===e.nodeType?e.parentNode:e),wc(function(){Xc(t,l,n,r)}),l}(n,t,e,i,r);return Zc(a)}iu.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Xc(e,t,null,null)},iu.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;wc(function(){Xc(null,e,null,null)}),t[Ei]=null}},iu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&0!==t&&t<zt[n].priority;n++);zt.splice(n,0,e),0===n&&Kt(e)}},It=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vt(t.pendingLanes);0!==n&&(St(t,1|n),hc(t,it()),0===(6&Ml)&&(Jl=it()+500,Ji()))}break;case 13:wc(function(){var t=qs(e,1);if(null!==t){var n=cc();dc(t,e,1,n)}}),tu(e,1)}},jt=function(e){if(13===e.tag){var t=qs(e,134217728);if(null!==t)dc(t,e,134217728,cc());tu(e,134217728)}},At=function(e){if(13===e.tag){var t=uc(e),n=qs(e,t);if(null!==n)dc(n,e,t,cc());tu(e,t)}},Rt=function(){return Tt},Pt=function(e,t){var n=Tt;try{return Tt=e,t()}finally{Tt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ji(r);if(!i)throw Error(s(90));G(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=vc,Ce=wc;var cu={usingClientEntryPoint:!1,Events:[Ci,Ii,ji,Ne,Se,vc]},uu={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},du={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{dt=hu.inject(du),ht=hu}catch(Ke){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!su(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!su(e))throw Error(s(299));var n=!1,r="",i=nu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Yc(e,1,!1,null,0,n,0,r,i),e[Ei]=t.current,Jr(8===e.nodeType?e.parentNode:e),new ru(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return wc(e)},t.hydrate=function(e,t,n){if(!au(t))throw Error(s(200));return lu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!su(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=nu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Jc(t,null,e,1,null!=n?n:null,i,0,a,o),e[Ei]=t.current,Jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new iu(t)},t.render=function(e,t,n){if(!au(t))throw Error(s(200));return lu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!au(e))throw Error(s(40));return!!e._reactRootContainer&&(wc(function(){lu(null,null,e,!1,function(){e._reactRootContainer=null,e[Ei]=null})}),!0)},t.unstable_batchedUpdates=vc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!au(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return lu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(qe){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>M_,hasStandardBrowserEnv:()=>F_,hasStandardBrowserWebWorkerEnv:()=>B_,navigator:()=>U_,origin:()=>V_});var i,s=n(43),a=n.t(s,2),o=n(391),l=n(950),c=n.t(l,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const d="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(qe){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function y(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=i.Pop,c=null,f=y();function y(){return(o.state||{idx:null}).idx}function v(){l=i.Pop;let e=y(),t=null==e?null:e-f;f=e,c&&c({action:l,location:b.location,delta:t})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,o.replaceState(u({},o.state,{idx:f}),""));let b={get action(){return l},get location(){return e(s,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(d,v),c=e,()=>{s.removeEventListener(d,v),c=null}},createHref:e=>t(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=m(b.location,e,t);n&&n(r,e),f=y()+1;let u=p(r,f),d=b.createHref(r);try{o.pushState(u,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(d)}a&&c&&c({action:l,location:b.location,delta:1})},replace:function(e,t){l=i.Replace;let r=m(b.location,e,t);n&&n(r,e),f=y();let s=p(r,f),u=b.createHref(r);o.replaceState(s,"",u),a&&c&&c({action:l,location:b.location,delta:0})},go:e=>o.go(e)};return b}var w;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(w||(w={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,r){let i=D(("string"===typeof t?y(t):t).pathname||"/",n);if(null==i)return null;let s=_(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=O(i);a=R(s[o],e,r)}return a}function _(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=B([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),_(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))i(e,t,r);else i(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=E(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,N=3,S=2,T=1,C=10,I=-2,j=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=I),t&&(r+=S),n.filter(e=>!j(e)).reduce((e,t)=>e+(k.test(t)?N:""===t?T:C),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:B([s,u.pathname]),pathnameBase:V(B([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=B([s,u.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function U(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=y(e):(i=u({},e),h(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?y(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:z(r),hash:q(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],K=(new Set(H),["get",...H]);new Set(K),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const Q=s.createContext(null);const Y=s.createContext(null);const $=s.createContext(null);const J=s.createContext(null);const X=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=s.createContext(null);function ee(){return null!=s.useContext(J)}function te(){return ee()||h(!1),s.useContext(J).location}function ne(e){s.useContext($).static||s.useLayoutEffect(e)}function re(){let{isDataRoute:e}=s.useContext(X);return e?function(){let{router:e}=fe(de.UseNavigateStable),t=me(he.UseNavigateStable),n=s.useRef(!1);return ne(()=>{n.current=!0}),s.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},i)))},[e,t])}():function(){ee()||h(!1);let e=s.useContext(Q),{basename:t,future:n,navigator:r}=s.useContext($),{matches:i}=s.useContext(X),{pathname:a}=te(),o=JSON.stringify(U(i,n.v7_relativeSplatPath)),l=s.useRef(!1);return ne(()=>{l.current=!0}),s.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:B([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e])}()}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext($),{matches:i}=s.useContext(X),{pathname:a}=te(),o=JSON.stringify(U(i,r.v7_relativeSplatPath));return s.useMemo(()=>F(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function se(e,t,n,r){ee()||h(!1);let{navigator:a}=s.useContext($),{matches:o}=s.useContext(X),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=te();if(t){var p;let e="string"===typeof t?y(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",g=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=b(e,{pathname:g});let w=ue(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&w?s.createElement(J.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:i.Pop}},w):w}function ae(){let e=function(){var e;let t=s.useContext(Z),n=pe(he.UseRouteError),r=me(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const oe=s.createElement(ae,null);class le extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(X.Provider,{value:this.props.routeContext},s.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(Q);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(X.Provider,{value:t},r)}function ue(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,i)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||oe,c&&(u<0&&0===i?(p="route-fallback",!1||ge[p]||(ge[p]=!0),d=!0,f=null):u===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=a?h:d?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function fe(e){let t=s.useContext(Q);return t||h(!1),t}function pe(e){let t=s.useContext(Y);return t||h(!1),t}function me(e){let t=function(){let e=s.useContext(X);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const ge={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:i}=e;ee()||h(!1);let{future:a,static:o}=s.useContext($),{matches:l}=s.useContext(X),{pathname:c}=te(),u=re(),d=F(t,U(l,a.v7_relativeSplatPath),c,"path"===i),f=JSON.stringify(d);return s.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function we(e){h(!1)}function be(e){let{basename:t="/",children:n=null,location:r,navigationType:a=i.Pop,navigator:o,static:l=!1,future:c}=e;ee()&&h(!1);let u=t.replace(/^\/*/,"/"),d=s.useMemo(()=>({basename:u,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof r&&(r=y(r));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=r,w=s.useMemo(()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:a}},[u,f,p,m,g,v,a]);return null==w?null:s.createElement($.Provider,{value:d},s.createElement(J.Provider,{children:n,value:w}))}function xe(e){let{children:t,location:n}=e;return se(_e(t),n)}new Promise(()=>{});s.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,_e(e.props.children,i));e.type!==we&&h(!1),e.props.index&&e.props.children&&h(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=_e(e.props.children,i)),n.push(a)}),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Se=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(qe){}const Te=s.createContext({isTransitioning:!1});new Map;const Ce=a.startTransition;c.flushSync,a.useId;function Ie(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return m("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:g(t)},null,o)));let l=a.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=s.useCallback(e=>{d&&Ce?Ce(()=>u(e)):u(e)},[u,d]);return s.useLayoutEffect(()=>l.listen(h),[l,h]),s.useEffect(()=>ye(r),[r]),s.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=s.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=ke(e,Ne),{basename:m}=s.useContext($),y=!1;if("string"===typeof u&&Ae.test(u)&&(n=u,je))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=D(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(qe){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||h(!1);let{basename:r,navigator:i}=s.useContext($),{hash:a,pathname:o,search:l}=ie(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:B([r,o])),i.createHref({pathname:c,search:l,hash:a})}(u,{relative:i}),w=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=re(),u=te(),d=ie(e,{relative:o});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,i,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});return s.createElement("a",Ee({},p,{href:n||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:c}))});const Pe=s.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:c,children:u}=e,d=ke(e,Se),f=ie(l,{relative:d.relative}),p=te(),m=s.useContext(Y),{navigator:g,basename:y}=s.useContext($),v=null!=m&&function(e,t){void 0===t&&(t={});let n=s.useContext(Te);null==n&&h(!1);let{basename:r}=Le(Oe.useViewTransitionState),i=ie(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=D(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=D(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=P(i.pathname,o)||null!=P(i.pathname,a)}(f)&&!0===c,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(b=b.toLowerCase(),x=x?x.toLowerCase():null,w=w.toLowerCase()),x&&y&&(x=D(x,y)||x);const _="/"!==w&&w.endsWith("/")?w.length-1:w.length;let E,k=b===w||!a&&b.startsWith(w)&&"/"===b.charAt(_),N=null!=x&&(x===w||!a&&x.startsWith(w)&&"/"===x.charAt(w.length)),S={isActive:k,isPending:N,isTransitioning:v},T=k?n:void 0;E="function"===typeof i?i(S):[i,k?"active":null,N?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof o?o(S):o;return s.createElement(Re,Ee({},d,{"aria-current":T,className:E,ref:t,style:C,to:l,viewTransition:c}),"function"===typeof u?u(S):u)});var Oe,De;function Le(e){let t=s.useContext(Q);return t||h(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));function Me(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Fe(e){var t=function(e,t){if("object"!=Ue(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ue(t)?t:t+""}function Be(e,t,n){return(t=Fe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach(function(t){Be(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let qe={data:""},We=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||qe,He=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ke=/\/\*[^]*?\*\/|  +/g,Ge=/\n+/g,Qe=(e,t)=>{let n="",r="",i="";for(let s in e){let a=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+a+";":r+="f"==s[1]?Qe(a,s):s+"{"+Qe(a,"k"==s[1]?"":t)+"}":"object"==typeof a?r+=Qe(a,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=a&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Qe.p?Qe.p(s,a):s+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Ye={},$e=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+$e(e[n]);return t}return e},Je=(e,t,n,r,i)=>{let s=$e(e),a=Ye[s]||(Ye[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!Ye[a]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=He.exec(e.replace(Ke,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ge," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ge," ").trim();return r[0]})(e);Ye[a]=Qe(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let o=n&&Ye.g?Ye.g:null;return n&&(Ye.g=Ye[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Ye[a],t,r,o),a};function Xe(e){let t=this||{},n=e.call?e(t.p):e;return Je(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":Qe(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,We(t.target),t.g,t.o,t.k)}Xe.bind({g:1});let Ze,et,tt,nt=Xe.bind({k:1});function rt(e,t){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:et&&et()},o),n.o=/ *go\d+/.test(l),o.className=Xe.apply(n,r)+(l?" "+l:""),t&&(o.ref=a);let c=e;return e[0]&&(c=o.as||e,delete o.as),tt&&c[0]&&tt(o),Ze(c,o)}return t?t(i):i}}var it,st,at,ot,lt,ct,ut,dt,ht,ft,pt,mt,gt,yt,vt,wt,bt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,xt=(()=>{let e=0;return()=>(++e).toString()})(),_t=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Et="default",kt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return ze(ze({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return ze(ze({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?ze(ze({},e),t.toast):e)});case 2:let{toast:r}=t;return kt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return ze(ze({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?ze(ze({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?ze(ze({},e),{},{toasts:[]}):ze(ze({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return ze(ze({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return ze(ze({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>ze(ze({},e),{},{pauseDuration:e.pauseDuration+s}))})}},Nt=[],St={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Tt={},Ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et;Tt[t]=kt(Tt[t]||St,e),Nt.forEach(e=>{let[n,r]=e;n===t&&r(Tt[t])})},It=e=>Object.keys(Tt).forEach(t=>Ct(e,t)),jt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;return t=>{Ct(t,e)}},At={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Rt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return ze(ze({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||xt()})}(t,e,n);return jt(r.toasterId||(e=>Object.keys(Tt).find(t=>Tt[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Pt=(e,t)=>Rt("blank")(e,t);Pt.error=Rt("error"),Pt.success=Rt("success"),Pt.loading=Rt("loading"),Pt.custom=Rt("custom"),Pt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?jt(t)(n):It(n)},Pt.dismissAll=e=>Pt.dismiss(void 0,e),Pt.remove=(e,t)=>{let n={type:4,toastId:e};t?jt(t)(n):It(n)},Pt.removeAll=e=>Pt.remove(void 0,e),Pt.promise=(e,t,n)=>{let r=Pt.loading(t.loading,ze(ze({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?bt(t.success,e):void 0;return i?Pt.success(i,ze(ze({id:r},n),null==n?void 0:n.success)):Pt.dismiss(r),e}).catch(e=>{let i=t.error?bt(t.error,e):void 0;i?Pt.error(i,ze(ze({id:r},n),null==n?void 0:n.error)):Pt.dismiss(r)}),e};var Ot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et,[n,r]=(0,s.useState)(Tt[t]||St),i=(0,s.useRef)(Tt[t]);(0,s.useEffect)(()=>(i.current!==Tt[t]&&r(Tt[t]),Nt.push([t,r]),()=>{let e=Nt.findIndex(e=>{let[n]=e;return n===t});e>-1&&Nt.splice(e,1)}),[t]);let a=n.toasts.map(t=>{var n,r,i;return ze(ze(ze(ze({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||At[t.type],style:ze(ze(ze({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return ze(ze({},n),{},{toasts:a})}(e,t),i=(0,s.useRef)(new Map).current,a=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(i.has(e))return;let n=setTimeout(()=>{i.delete(e),o({type:4,toastId:e})},t);i.set(e,n)},[]);(0,s.useEffect)(()=>{if(r)return;let e=Date.now(),i=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Pt.dismiss(n.id,t),r);n.visible&&Pt.dismiss(n.id)});return()=>{i.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let o=(0,s.useCallback)(jt(t),[t]),l=(0,s.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,s.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),u=(0,s.useCallback)(()=>{r&&o({type:6,time:Date.now()})},[r,o]),d=(0,s.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=t||{},a=n.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=a.findIndex(t=>t.id===e.id),l=a.filter((e,t)=>t<o&&e.visible).length;return a.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,s.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)a(e.id,e.removeDelay);else{let t=i.get(e.id);t&&(clearTimeout(t),i.delete(e.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},Dt=nt(it||(it=Me(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Lt=nt(st||(st=Me(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Mt=nt(at||(at=Me(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Ut=rt("div")(ot||(ot=Me(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Dt,Lt,e=>e.secondary||"#fff",Mt),Ft=nt(lt||(lt=Me(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Bt=rt("div")(ct||(ct=Me(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Ft),Vt=nt(ut||(ut=Me(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),zt=nt(dt||(dt=Me(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),qt=rt("div")(ht||(ht=Me(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Vt,zt,e=>e.secondary||"#fff"),Wt=rt("div")(ft||(ft=Me(["\n  position: absolute;\n"]))),Ht=rt("div")(pt||(pt=Me(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Kt=nt(mt||(mt=Me(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Gt=rt("div")(gt||(gt=Me(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Kt),Qt=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:i}=t;return void 0!==n?"string"==typeof n?s.createElement(Gt,null,n):n:"blank"===r?null:s.createElement(Ht,null,s.createElement(Bt,ze({},i)),"loading"!==r&&s.createElement(Wt,null,"error"===r?s.createElement(Ut,ze({},i)):s.createElement(qt,ze({},i))))},Yt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),$t=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Jt=rt("div")(yt||(yt=Me(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Xt=rt("div")(vt||(vt=Me(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Zt=s.memo(e=>{let{toast:t,position:n,style:r,children:i}=e,a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=_t()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Yt(n),$t(n)];return{animation:t?"".concat(nt(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(nt(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},o=s.createElement(Qt,{toast:t}),l=s.createElement(Xt,ze({},t.ariaProps),bt(t.message,t));return s.createElement(Jt,{className:t.className,style:ze(ze(ze({},a),r),t.style)},"function"==typeof i?i({icon:o,message:l}):s.createElement(s.Fragment,null,o,l))});!function(e,t,n,r){Qe.p=t,Ze=e,et=n,tt=r}(s.createElement);var en=e=>{let{id:t,className:n,style:r,onHeightUpdate:i,children:a}=e,o=s.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;i(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return s.createElement("div",{ref:o,className:n,style:r},a)},tn=Xe(wt||(wt=Me(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),nn=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:i,children:a,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:d}=Ot(r,o);return s.createElement("div",{"data-rht-toaster":o||"",style:ze({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let r=e.position||n,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return ze(ze({left:0,right:0,display:"flex",position:"absolute",transition:_t()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(r,d.calculateOffset(e,{reverseOrder:t,gutter:i,defaultPosition:n}));return s.createElement(en,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?tn:"",style:o},"custom"===e.type?bt(e.message,e):a?a(e):s.createElement(Zt,{toast:e,position:r}))}))},rn=Pt;const sn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},an={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new on;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class on extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ln=function(e){return function(e){const t=sn(e);return an.encodeByteArray(t,!0)}(e).replace(/\./g,"")},cn=function(e){try{return an.decodeString(e,!0)}catch(qe){console.error("base64Decode failed: ",qe)}return null};const un=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,dn=()=>{try{return un()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5000",REACT_APP_ENVIRONMENT:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyDt3ilVFm5BryPqb2DeXPF0mCXiWbvU7H8",REACT_APP_FIREBASE_APP_ID:"1:624853863549:web:b5c22a8c65db67d5949a6a",REACT_APP_FIREBASE_AUTH_DOMAIN:"skillwagers.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-7YFELE6P82",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"624853863549",REACT_APP_FIREBASE_PROJECT_ID:"skillwagers",REACT_APP_FIREBASE_STORAGE_BUCKET:"skillwagers.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(qe){return}const t=e&&cn(e[1]);return t&&JSON.parse(t)})()}catch(qe){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(qe))}},hn=e=>{var t,n;return null===(n=null===(t=dn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},fn=e=>{const t=hn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},pn=()=>{var e;return null===(e=dn())||void 0===e?void 0:e.config},mn=e=>{var t;return null===(t=dn())||void 0===t?void 0:t["_".concat(e)]};class gn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function yn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ln(JSON.stringify({alg:"none",type:"JWT"})),ln(JSON.stringify(s)),""].join(".")}function vn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function wn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function bn(){return!function(){var e;const t=null===(e=dn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(qe){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xn(){try{return"object"===typeof indexedDB}catch(qe){return!1}}function _n(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class En extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}}class kn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Nn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new En(n,s,t)}}const Nn=/\{\$([^}]+)}/g;function Sn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Tn(n)&&Tn(s)){if(!Sn(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Tn(e){return null!==e&&"object"===typeof e}function Cn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function In(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function jn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class An{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Rn),void 0===r.error&&(r.error=Rn),void 0===r.complete&&(r.complete=Rn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(qe){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(qe){"undefined"!==typeof console&&console.error&&console.error(qe)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rn(){}function Pn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function On(e){return e&&e._delegate?e._delegate:e}class Dn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ln="[DEFAULT]";class Mn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new gn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(qe){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(qe){if(r)return null;throw qe}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ln})}catch(qe){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(qe){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ln?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;return this.component?this.component.multipleInstances?e:Ln:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Un{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Mn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Fn=[];var Bn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Bn||(Bn={}));const Vn={debug:Bn.DEBUG,verbose:Bn.VERBOSE,info:Bn.INFO,warn:Bn.WARN,error:Bn.ERROR,silent:Bn.SILENT},zn=Bn.INFO,qn={[Bn.DEBUG]:"log",[Bn.VERBOSE]:"log",[Bn.INFO]:"info",[Bn.WARN]:"warn",[Bn.ERROR]:"error"},Wn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=qn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Hn{constructor(e){this.name=e,this._logLevel=zn,this._logHandler=Wn,this._userLogHandler=null,Fn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Vn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.DEBUG,...t),this._logHandler(this,Bn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.VERBOSE,...t),this._logHandler(this,Bn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.INFO,...t),this._logHandler(this,Bn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.WARN,...t),this._logHandler(this,Bn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.ERROR,...t),this._logHandler(this,Bn.ERROR,...t)}}let Kn,Gn;const Qn=new WeakMap,Yn=new WeakMap,$n=new WeakMap,Jn=new WeakMap,Xn=new WeakMap;let Zn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Yn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$n.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function er(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gn||(Gn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(rr(this),n),nr(Qn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nr(e.apply(rr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(rr(this),t,...r);return $n.set(s,t.sort?t.sort():[t]),nr(s)}}function tr(e){return"function"===typeof e?er(e):(e instanceof IDBTransaction&&function(e){if(Yn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Yn.set(e,t)}(e),t=e,(Kn||(Kn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Zn):e);var t}function nr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(nr(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Qn.set(t,e)}).catch(()=>{}),Xn.set(t,e),t}(e);if(Jn.has(e))return Jn.get(e);const t=tr(e);return t!==e&&(Jn.set(e,t),Xn.set(t,e)),t}const rr=e=>Xn.get(e);function ir(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=nr(a);return r&&a.addEventListener("upgradeneeded",e=>{r(nr(a.result),e.oldVersion,e.newVersion,nr(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const sr=["get","getKey","getAll","getAllKeys","count"],ar=["put","add","delete","clear"],or=new Map;function lr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(or.get(t))return or.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ar.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!sr.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return or.set(t,s),s}Zn=(e=>ze(ze({},e),{},{get:(t,n,r)=>lr(t,n)||e.get(t,n,r),has:(t,n)=>!!lr(t,n)||e.has(t,n)}))(Zn);class cr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ur="@firebase/app",dr="0.10.13",hr=new Hn("@firebase/app"),fr="@firebase/app-compat",pr="@firebase/analytics-compat",mr="@firebase/analytics",gr="@firebase/app-check-compat",yr="@firebase/app-check",vr="@firebase/auth",wr="@firebase/auth-compat",br="@firebase/database",xr="@firebase/data-connect",_r="@firebase/database-compat",Er="@firebase/functions",kr="@firebase/functions-compat",Nr="@firebase/installations",Sr="@firebase/installations-compat",Tr="@firebase/messaging",Cr="@firebase/messaging-compat",Ir="@firebase/performance",jr="@firebase/performance-compat",Ar="@firebase/remote-config",Rr="@firebase/remote-config-compat",Pr="@firebase/storage",Or="@firebase/storage-compat",Dr="@firebase/firestore",Lr="@firebase/vertexai-preview",Mr="@firebase/firestore-compat",Ur="firebase",Fr="[DEFAULT]",Br={[ur]:"fire-core",[fr]:"fire-core-compat",[mr]:"fire-analytics",[pr]:"fire-analytics-compat",[yr]:"fire-app-check",[gr]:"fire-app-check-compat",[vr]:"fire-auth",[wr]:"fire-auth-compat",[br]:"fire-rtdb",[xr]:"fire-data-connect",[_r]:"fire-rtdb-compat",[Er]:"fire-fn",[kr]:"fire-fn-compat",[Nr]:"fire-iid",[Sr]:"fire-iid-compat",[Tr]:"fire-fcm",[Cr]:"fire-fcm-compat",[Ir]:"fire-perf",[jr]:"fire-perf-compat",[Ar]:"fire-rc",[Rr]:"fire-rc-compat",[Pr]:"fire-gcs",[Or]:"fire-gcs-compat",[Dr]:"fire-fst",[Mr]:"fire-fst-compat",[Lr]:"fire-vertex","fire-js":"fire-js",[Ur]:"fire-js-all"},Vr=new Map,zr=new Map,qr=new Map;function Wr(e,t){try{e.container.addComponent(t)}catch(qe){hr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),qe)}}function Hr(e){const t=e.name;if(qr.has(t))return hr.debug("There were multiple attempts to register component ".concat(t,".")),!1;qr.set(t,e);for(const n of Vr.values())Wr(n,e);for(const n of zr.values())Wr(n,e);return!0}function Kr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Gr(e){return void 0!==e.settings}const Qr=new kn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Yr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const $r="10.14.1";function Jr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Fr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Qr.create("bad-app-name",{appName:String(i)});if(n||(n=pn()),!n)throw Qr.create("no-options");const s=Vr.get(i);if(s){if(Sn(n,s.options)&&Sn(r,s.config))return s;throw Qr.create("duplicate-app",{appName:i})}const a=new Un(i);for(const l of qr.values())a.addComponent(l);const o=new Yr(n,r,a);return Vr.set(i,o),o}function Xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr;const t=Vr.get(e);if(!t&&e===Fr&&pn())return Jr();if(!t)throw Qr.create("no-app",{appName:e});return t}function Zr(e,t,n){var r;let i=null!==(r=Br[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void hr.warn(e.join(" "))}Hr(new Dn("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ei="firebase-heartbeat-store";let ti=null;function ni(){return ti||(ti=ir("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ei)}catch(qe){console.warn(qe)}}}).catch(e=>{throw Qr.create("idb-open",{originalErrorMessage:e.message})})),ti}async function ri(e,t){try{const n=(await ni()).transaction(ei,"readwrite"),r=n.objectStore(ei);await r.put(t,ii(e)),await n.done}catch(qe){if(qe instanceof En)hr.warn(qe.message);else{const t=Qr.create("idb-set",{originalErrorMessage:null===qe||void 0===qe?void 0:qe.message});hr.warn(t.message)}}}function ii(e){return"".concat(e.name,"!").concat(e.options.appId)}class si{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oi(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ai();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(qe){hr.warn(qe)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ai(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),li(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),li(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ln(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(qe){return hr.warn(qe),""}}}function ai(){return(new Date).toISOString().substring(0,10)}class oi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!xn()&&_n().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ni()).transaction(ei),n=await t.objectStore(ei).get(ii(e));return await t.done,n}catch(qe){if(qe instanceof En)hr.warn(qe.message);else{const t=Qr.create("idb-get",{originalErrorMessage:null===qe||void 0===qe?void 0:qe.message});hr.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function li(e){return ln(JSON.stringify({version:2,heartbeats:e})).length}var ci;ci="",Hr(new Dn("platform-logger",e=>new cr(e),"PRIVATE")),Hr(new Dn("heartbeat",e=>new si(e),"PRIVATE")),Zr(ur,dr,ci),Zr(ur,dr,"esm2017"),Zr("fire-js","");function ui(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function di(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hi=di,fi=new kn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pi=new Hn("@firebase/auth");function mi(e){if(pi.logLevel<=Bn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pi.error("Auth (".concat($r,"): ").concat(e),...n)}}function gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xi(e,...n)}function yi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xi(e,...n)}function vi(e,t,n){const r=Object.assign(Object.assign({},hi()),{[t]:n});return new kn("auth","Firebase",r).create(t,{appName:e.name})}function wi(e){return vi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&gi(e,"argument-error"),vi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function xi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return fi.create(e,...n)}function _i(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xi(t,...r)}}function Ei(e){const t="INTERNAL ASSERTION FAILED: "+e;throw mi(t),new Error(t)}function ki(e,t){e||Ei(t)}function Ni(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Si(){return"http:"===Ti()||"https:"===Ti()}function Ti(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ci{constructor(e,t){this.shortDelay=e,this.longDelay=t,ki(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Si()||wn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ii(e,t){ki(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ji{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ai={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ri=new Ci(3e4,6e4);function Pi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Oi(e,t,n,r){return Di(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Cn(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),ji.fetch()(Mi(e,e.config.apiHost,n,a),l)})}async function Di(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ai),t);try{const t=new Fi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Bi(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Bi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Bi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Bi(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw vi(e,o,a);gi(e,o)}}catch(qe){if(qe instanceof En)throw qe;gi(e,"network-request-failed",{message:String(qe)})}}async function Li(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Oi(e,t,n,r,i);return"mfaPendingCredential"in s&&gi(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Mi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ii(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ui(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(yi(this.auth,"network-request-failed")),Ri.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yi(e,t,r);return i.customData._tokenResponse=n,i}function Vi(e){return void 0!==e&&void 0!==e.enterprise}class zi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ui(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function qi(e,t){return Oi(e,"GET","/v2/recaptchaConfig",Pi(e,t))}async function Wi(e,t){return Oi(e,"POST","/v1/accounts:lookup",t)}function Hi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(qe){}}function Ki(e){return 1e3*Number(e)}function Gi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return mi("JWT malformed, contained fewer than 3 sections"),null;try{const e=cn(n);return e?JSON.parse(e):(mi("Failed to decode base64 JWT payload"),null)}catch(qe){return mi("Caught error parsing JWT payload as JSON",null===qe||void 0===qe?void 0:qe.toString()),null}}function Qi(e){const t=Gi(e);return _i(t,"internal-error"),_i("undefined"!==typeof t.exp,"internal-error"),_i("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Yi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(qe){throw qe instanceof En&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(qe)&&e.auth.currentUser===e&&await e.auth.signOut(),qe}}class $i{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(qe){return void((null===qe||void 0===qe?void 0:qe.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ji{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hi(this.lastLoginAt),this.creationTime=Hi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Yi(e,Wi(n,{idToken:r}));_i(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Zi(s.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ji(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function Zi(e){return e.map(e=>{var{providerId:t}=e,n=ui(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class es{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_i(e.idToken,"internal-error"),_i("undefined"!==typeof e.idToken,"internal-error"),_i("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Qi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_i(0!==e.length,"internal-error");const t=Qi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(_i(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Di(e,{},async()=>{const n=Cn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Mi(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ji.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new es;return n&&(_i("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(_i("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(_i("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new es,this.toJSON())}_performRefresh(){return Ei("not implemented")}}function ts(e,t){_i("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ns{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ui(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $i(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ji(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Yi(this,this.stsTokenManager.getToken(this.auth,e));return _i(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=On(e),r=await n.getIdToken(t),i=Gi(r);_i(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Hi(Ki(i.auth_time)),issuedAtTime:Hi(Ki(i.iat)),expirationTime:Hi(Ki(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=On(e);await Xi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_i(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_i(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(wi(this.auth));const e=await this.getIdToken();return await Yi(this,async function(e,t){return Oi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:x,stsTokenManager:_}=t;_i(v&&_,e,"internal-error");const E=es.fromJSON(this.name,_);_i("string"===typeof v,e,"internal-error"),ts(u,e.name),ts(d,e.name),_i("boolean"===typeof w,e,"internal-error"),_i("boolean"===typeof b,e,"internal-error"),ts(h,e.name),ts(f,e.name),ts(p,e.name),ts(m,e.name),ts(g,e.name),ts(y,e.name);const k=new ns({uid:v,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(k.providerData=x.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new es;r.updateFromServerResponse(t);const i=new ns({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Xi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];_i(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Zi(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new es;a.updateFromIdToken(n);const o=new ns({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Ji(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const rs=new Map;function is(e){ki(e instanceof Function,"Expected a class definition");let t=rs.get(e);return t?(ki(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rs.set(e,t),t)}class ss{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ss.type="NONE";const as=ss;function os(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ls{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=os(this.userKey,r.apiKey,i),this.fullPersistenceKey=os("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ls(is(as),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||is(as);const s=os(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=ns._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new ls(i,e,n)):new ls(i,e,n)}}function cs(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(us(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ms(t))return"Blackberry";if(gs(t))return"Webos";if(ds(t))return"Safari";if((t.includes("chrome/")||hs(t))&&!t.includes("edge/"))return"Chrome";if(ps(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/firefox\//i.test(e)}function ds(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/crios\//i.test(e)}function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/iemobile/i.test(e)}function ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/android/i.test(e)}function ms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/blackberry/i.test(e)}function gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/webos/i.test(e)}function ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vs(){return function(){const e=vn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ws(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return ys(e)||ps(e)||gs(e)||ms(e)||/windows phone/i.test(e)||fs(e)}function bs(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=cs(vn());break;case"Worker":t="".concat(cs(vn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat($r,"/").concat(r)}class xs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(qe){r(qe)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(qe){t.reverse();for(const n of t)try{n()}catch(It){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===qe||void 0===qe?void 0:qe.message})}}}class _s{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Es{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ns(this),this.idTokenSubscription=new Ns(this),this.beforeStateQueue=new xs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=is(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ls.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(qe){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Wi(this,{idToken:e}),n=await ns._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(qe){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(qe))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _i(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(qe){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xi(e)}catch(qe){if((null===qe||void 0===qe?void 0:qe.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(wi(this));const t=e?On(e):null;return t&&_i(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&_i(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Oi(e,"GET","/v2/passwordPolicy",Pi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new _s(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Oi(e,"POST","/v2/accounts:revokeToken",Pi(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&is(e)||this._popupRedirectResolver;_i(t,this,"argument-error"),this.redirectPersistenceManager=await ls.create(this,[is(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_i(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _i(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(pi.logLevel<=Bn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pi.warn("Auth (".concat($r,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ks(e){return On(e)}class Ns{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new An(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return _i(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ss={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ts(e){return Ss.loadJS(e)}function Cs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Is{constructor(e){this.type="recaptcha-enterprise",this.auth=ks(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Vi(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{qi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new zi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Vi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ss.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ts(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function js(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Is(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function As(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await js(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await js(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function Rs(e,t,n){const r=ks(e);_i(r._canInitEmulator,r,"emulator-config-failed"),_i(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Ps(t),{host:a,port:o}=function(e){const t=Ps(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Os(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Os(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ps(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Os(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ds{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function Ls(e,t){return Oi(e,"POST","/v1/accounts:signUp",t)}async function Ms(e,t){return Li(e,"POST","/v1/accounts:signInWithPassword",Pi(e,t))}async function Us(e,t){return Oi(e,"POST","/v1/accounts:sendOobCode",Pi(e,t))}async function Fs(e,t){return Us(e,t)}class Bs extends Ds{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Bs(e,t,"password")}static _fromEmailAndCode(e,t){return new Bs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return As(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ms);case"emailLink":return async function(e,t){return Li(e,"POST","/v1/accounts:signInWithEmailLink",Pi(e,t))}(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return As(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ls);case"emailLink":return async function(e,t){return Li(e,"POST","/v1/accounts:signInWithEmailLink",Pi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Vs(e,t){return Li(e,"POST","/v1/accounts:signInWithIdp",Pi(e,t))}class zs extends Ds{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ui(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new zs(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Vs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Vs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cn(t)}return e}}const qs={USER_NOT_FOUND:"user-not-found"};class Ws extends Ds{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ws({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ws({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Li(e,"POST","/v1/accounts:signInWithPhoneNumber",Pi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Li(e,"POST","/v1/accounts:signInWithPhoneNumber",Pi(e,t));if(n.temporaryProof)throw Bi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Li(e,"POST","/v1/accounts:signInWithPhoneNumber",Pi(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),qs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ws({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Hs{constructor(e){var t,n,r,i,s,a;const o=In(jn(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);_i(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=In(jn(e)).link,n=t?In(jn(t)).deep_link_id:null,r=In(jn(e)).deep_link_id;return(r?In(jn(r)).link:null)||r||n||t||e}(e);try{return new Hs(t)}catch(n){return null}}}class Ks{constructor(){this.providerId=Ks.PROVIDER_ID}static credential(e,t){return Bs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Hs.parseLink(t);return _i(n,"argument-error"),Bs._fromEmailAndCode(e,n.code,n.tenantId)}}Ks.PROVIDER_ID="password",Ks.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ks.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Gs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qs extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ys extends Qs{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch(n){return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ys.PROVIDER_ID="facebook.com";class $s extends Qs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zs._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return $s.credential(n,r)}catch(i){return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com",$s.PROVIDER_ID="google.com";class Js extends Qs{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch(n){return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com",Js.PROVIDER_ID="github.com";class Xs extends Qs{constructor(){super("twitter.com")}static credential(e,t){return zs._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Xs.credential(n,r)}catch(i){return null}}}async function Zs(e,t){return Li(e,"POST","/v1/accounts:signUp",Pi(e,t))}Xs.TWITTER_SIGN_IN_METHOD="twitter.com",Xs.PROVIDER_ID="twitter.com";class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ns._fromIdTokenResponse(e,n,r),s=ta(n);return new ea({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ta(n);return new ea({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ta(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class na extends En{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,na.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new na(e,t,n,r)}}function ra(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw na._fromErrorAndOperation(e,n,t,r);throw n})}async function ia(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Yi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ea._forOperation(e,"link",r)}async function sa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Gr(r.app))return Promise.reject(wi(r));const i="reauthenticate";try{const s=await Yi(e,ra(r,i,t,e),n);_i(s.idToken,r,"internal-error");const a=Gi(s.idToken);_i(a,r,"internal-error");const{sub:o}=a;return _i(e.uid===o,r,"user-mismatch"),ea._forOperation(e,i,s)}catch(qe){throw(null===qe||void 0===qe?void 0:qe.code)==="auth/".concat("user-not-found")&&gi(r,"user-mismatch"),qe}}async function aa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Gr(e.app))return Promise.reject(wi(e));const r="signIn",i=await ra(e,r,t),s=await ea._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function oa(e,t){return aa(ks(e),t)}function la(e,t,n){var r;_i((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),_i("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_i(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(_i(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ca(e){const t=ks(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ua(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=On(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Yi(i,async function(e,t){return Oi(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function da(e){return On(e).signOut()}new WeakMap;const ha="__sak";class fa{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ha,"1"),this.storage.removeItem(ha),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class pa extends fa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ws(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);vs()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pa.type="LOCAL";const ma=pa;class ga extends fa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ga.type="SESSION";const ya=ga;class va{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new va(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function wa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}va.receivers=[];class ba{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=wa("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function xa(){return window}function _a(){return"undefined"!==typeof xa().WorkerGlobalScope&&"function"===typeof xa().importScripts}const Ea="firebaseLocalStorageDb",ka="firebaseLocalStorage",Na="fbase_key";class Sa{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ta(e,t){return e.transaction([ka],t?"readwrite":"readonly").objectStore(ka)}function Ca(){const e=indexedDB.open(Ea,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(ka,{keyPath:Na})}catch(qe){n(qe)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(ka)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ea);return new Sa(e).toPromise()}(),t(await Ca()))})})}async function Ia(e,t,n){const r=Ta(e,!0).put({[Na]:t,value:n});return new Sa(r).toPromise()}function ja(e,t){const n=Ta(e,!0).delete(t);return new Sa(n).toPromise()}class Aa{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ca()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(qe){if(t++>3)throw qe;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _a()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=va._getInstance(_a()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ba(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ca();return await Ia(e,ha,"1"),await ja(e,ha),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ia(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Ta(e,!1).get(t),r=await new Sa(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ja(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ta(e,!1).getAll();return new Sa(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Aa.type="LOCAL";const Ra=Aa;Cs("rcb"),new Ci(3e4,6e4);const Pa="recaptcha";async function Oa(e,t,n){var r;const i=await n.verify();try{let s;if(_i("string"===typeof i,e,"argument-error"),_i(n.type===Pa,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){_i("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Oi(e,"POST","/v2/accounts/mfaEnrollment:start",Pi(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{_i("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;_i(n,e,"missing-multi-factor-info");const a=await function(e,t){return Oi(e,"POST","/v2/accounts/mfaSignIn:start",Pi(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Oi(e,"POST","/v1/accounts:sendVerificationCode",Pi(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Da{constructor(e){this.providerId=Da.PROVIDER_ID,this.auth=ks(e)}verifyPhoneNumber(e,t){return Oa(this.auth,e,On(t))}static credential(e,t){return Ws._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Da.credentialFromTaggedObject(t)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ws._fromTokenResponse(n,r):null}}function La(e,t){return t?is(t):(_i(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Da.PROVIDER_ID="phone",Da.PHONE_SIGN_IN_METHOD="phone";class Ma extends Ds{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ua(e){return aa(e.auth,new Ma(e),e.bypassAuthState)}function Fa(e){const{auth:t,user:n}=e;return _i(n,t,"internal-error"),sa(n,new Ma(e),e.bypassAuthState)}async function Ba(e){const{auth:t,user:n}=e;return _i(n,t,"internal-error"),ia(n,new Ma(e),e.bypassAuthState)}class Va{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(qe){this.reject(qe)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(qe){this.reject(qe)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ua;case"linkViaPopup":case"linkViaRedirect":return Ba;case"reauthViaPopup":case"reauthViaRedirect":return Fa;default:gi(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const za=new Ci(2e3,1e4);class qa extends Va{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _i(e,this.auth,"internal-error"),e}async onExecution(){ki(1===this.filter.length,"Popup operations only handle one event");const e=wa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,za.get())};e()}}qa.currentPopupAction=null;const Wa=new Map;class Ha extends Va{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Wa.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Qa(t),r=Ga(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(qe){e=()=>Promise.reject(qe)}Wa.set(this.auth._key(),e)}return this.bypassAuthState||Wa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ka(e,t){Wa.set(e._key(),t)}function Ga(e){return is(e._redirectPersistence)}function Qa(e){return os("pendingRedirect",e.config.apiKey,e.name)}async function Ya(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Gr(e.app))return Promise.reject(wi(e));const r=ks(e),i=La(r,t),s=new Ha(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class $a{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xa(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Xa(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ja(e))}saveEventToCache(e){this.cachedEventUids.add(Ja(e)),this.lastProcessedEventTime=Date.now()}}function Ja(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Xa(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Za=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eo=/^https?/;async function to(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Oi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(no(r))return}catch(n){}gi(e,"unauthorized-domain")}function no(e){const t=Ni(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!eo.test(n))return!1;if(Za.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ro=new Ci(3e4,6e4);function io(){const e=xa().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function so(e){return new Promise((t,n)=>{var r,i,s;function a(){io(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{io(),n(yi(e,"network-request-failed"))},timeout:ro.get()})}if(null===(i=null===(r=xa().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=xa().gapi)||void 0===s?void 0:s.load)){const t=Cs("iframefcb");return xa()[t]=()=>{gapi.load?a():n(yi(e,"network-request-failed"))},Ts("".concat(Ss.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw ao=null,e})}let ao=null;const oo=new Ci(5e3,15e3),lo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},co=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uo(e){const t=e.config;_i(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ii(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:$r},i=co.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Cn(r).slice(1))}async function ho(e){const t=await function(e){return ao=ao||so(e),ao}(e),n=xa().gapi;return _i(n,e,"internal-error"),t.open({where:document.body,url:uo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lo,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=yi(e,"network-request-failed"),s=xa().setTimeout(()=>{r(i)},oo.get());function a(){xa().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const fo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class po{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(qe){}}}function mo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},fo),{width:r.toString(),height:i.toString(),top:s,left:a}),c=vn().toLowerCase();n&&(o=hs(c)?"_blank":n),us(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ys(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new po(null);const d=window.open(t||"",o,u);_i(d,e,"popup-blocked");try{d.focus()}catch(qe){}return new po(d)}const go="__/auth/handler",yo="emulator/auth/handler",vo=encodeURIComponent("fac");async function wo(e,t,n,r,i,s){_i(e.config.authDomain,e,"auth-domain-config-required"),_i(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$r,eventId:i};if(t instanceof Gs){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Qs){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(vo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(go);return Ii(t,yo)}(e),"?").concat(Cn(o).slice(1)).concat(c)}const bo="webStorageSupport";const xo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ya,this._completeRedirectFn=Ya,this._overrideRedirectResult=Ka}async _openPopup(e,t,n,r){var i;ki(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return mo(e,await wo(e,t,n,Ni(),r),wa())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){xa().location.href=e}(await wo(e,t,n,Ni(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ki(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await ho(e),n=new $a(e);return t.register("authEvent",t=>{_i(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bo,{type:bo},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[bo];void 0!==i&&t(!!i),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=to(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ws()||ds()||ys()}};var _o="@firebase/auth",Eo="1.7.9";class ko{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_i(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const No=mn("authIdTokenMaxAge")||300;let So=null;var To;!function(e){Ss=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=yi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),To="Browser",Hr(new Dn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;_i(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:To,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bs(To)},c=new Es(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(is);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Hr(new Dn("auth-internal",e=>(e=>new ko(e))(ks(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(_o,Eo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(To)),Zr(_o,Eo,"esm2017");var Co,Io,jo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ao={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Io=Ao.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Co=Ao.Integer=r}).apply("undefined"!==typeof jo?jo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ro,Po,Oo,Do,Lo,Mo,Uo,Fo,Bo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Vo={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Bo&&Bo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout(()=>{throw e},0)}function k(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var N=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new S,e=>e.reset());class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,C=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=N.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(A)}};var A=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(Ye){E(Ye)}var t=N;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function R(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Ye){}return e}();function D(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(et){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,P);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new V(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(B(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[W]=null)):B(e)}}}function J(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;x(t=new P(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}d(le,R);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&$(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function we(){P.call(this,"c")}d(ve,P),d(we,P);var be={},xe=null;function _e(){return xe=xe||new ne}function Ee(e){P.call(this,be.La,e)}function ke(e){const t=_e();re(t,new Ee(t))}function Ne(e,t){P.call(this,be.STAT_EVENT,e),this.stat=t}function Se(e){const t=_e();re(t,new Ne(t,e))}function Te(e,t){P.call(this,be.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ie(){this.g=!0}function je(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}be.La="serverreachability",d(Ee,P),be.STAT_EVENT="statevent",d(Ne,P),be.Ma="timingevent",d(Te,P),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ae,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Ae=new Oe;var Me={},Ue={};function Fe(e,t,n){e.L=1,e.v=yt(ht(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),We(e),e.A=ht(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),jt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=wn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function We(e){e.S=Date.now()+e.I,Ge(e,e.I)}function Ge(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function Qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function $e(e){0==e.j.G||e.J||pn(e.j,e)}function Je(e){Qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Xe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||st(n.h,e)))if(!e.K&&st(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(He){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fn(n),nn(n)}un(n),Se(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=it(n.h)&&n.ca){try{n.ca()}catch(He){}n.ca=void 0}}else gn(n,11)}else if((e.K||n.g==e)&&fn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(at(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,gt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=vn(r,r.J?r.ia:null,r.W),a.K){ot(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(Qe(o),We(o)),r.g=a}else cn(r);0<n.i.length&&sn(n)}else"stop"!=c[0]&&"close"!=c[0]||gn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?gn(n,7):tn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(He){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Jt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Jt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Xt(this.g)))){this.J||4!=h||7==t||ke(),Qe(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Xt(this.g);e="";var s=r.length,a=4==Jt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Je(this),$e(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Je(this),$e(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=ze(this,o),e==Ue){4==h&&(this.s=4,Se(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Se(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Xe(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),dn(d),d.M=!0,Se(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),Je(this),$e(this)}else je(this.i,this.l,o,null),Xe(this,o);4==h&&Je(this),this.o&&!this.J&&(4==h?pn(this.j,this):(this.o=!1,We(this)))}else(function(e){const t={};e=(e.g&&2<=Jt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Je(this),$e(this)}}}catch(Ot){}},De.prototype.cancel=function(){this.J=!0,Je(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(ke(),Se(17)),Je(this),this.s=2,$e(this)):Ge(this,this.S-e)};var tt=class{constructor(e,t){this.g=e,this.map=t}};function nt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function it(e){return e.h?1:e.g?e.g.size:0}function st(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function at(e,t){e.g?e.g.add(t):e.h=t}function ot(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}nt.prototype.cancel=function(){if(this.i=lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof dt){this.h=e.h,ft(this,e.j),this.o=e.o,this.g=e.g,pt(this,e.s),this.l=e.l;var t=e.i,n=new St;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),mt(this,n),this.m=e.m}else e&&(t=String(e).match(ut))?(this.h=!1,ft(this,t[1]||"",!0),this.o=vt(t[2]||""),this.g=vt(t[3]||"",!0),pt(this,t[4]),this.l=vt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=vt(t[7]||"")):(this.h=!1,this.i=new St(null,this.h))}function ht(e){return new dt(e)}function ft(e,t,n){e.j=n?vt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function mt(e,t,n){t instanceof St?(e.i=t,function(e,t){t&&!e.j&&(Tt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ct(this,t),jt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=wt(t,kt)),e.i=new St(t,e.h))}function gt(e,t,n){e.i.set(t,n)}function yt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function wt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,bt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function bt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(wt(t,xt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(wt(t,xt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(wt(n,"/"==n.charAt(0)?Et:_t,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",wt(n,Nt)),e.join("")};var xt=/[#\/\?@]/g,_t=/[#\?:]/g,Et=/[#\?]/g,kt=/[#\?@]/g,Nt=/#/g;function St(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ct(e,t){Tt(e),t=At(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return Tt(e),t=At(e,t),e.g.has(t)}function jt(e,t,n){Ct(e,t),0<n.length&&(e.i=null,e.g.set(At(e,t),h(n)),e.h+=n.length)}function At(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Rt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(et){}}function Pt(){this.g=new fe}function Dt(e,t,n){const r=n||"";try{ct(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(qe){throw t.push(r+"type="+encodeURIComponent("_badmap")),qe}}function Lt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Mt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ut(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ft(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Bt(e)}function Bt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Vt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function zt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gt(e,t,n))}function qt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=St.prototype).add=function(e,t){Tt(this),this.i=null,e=At(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Tt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Tt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Tt(this);let t=[];if("string"===typeof e)It(this,e)&&(t=t.concat(this.g.get(At(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Tt(this),this.i=null,It(this,e=At(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Lt,pe),Lt.prototype.g=function(){return new Mt(this.l,this.j)},Lt.prototype.i=function(e){return function(){return e}}({}),d(Mt,ne),(e=Mt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Bt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ft(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bt(this)),this.g&&(this.readyState=3,Bt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ut(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ft(this):Bt(this),3==this.readyState&&Ut(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ft(this))},e.Qa=function(e){this.g&&(this.response=e,Ft(this))},e.ga=function(){this.g&&Ft(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(qt,ne);var Wt=/^https?$/i,Ht=["POST","PUT"];function Kt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Gt(e),Yt(e)}function Gt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Jt(e)||2!=e.Z()))if(e.u&&4==Jt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Jt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(ut)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Wt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Jt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Gt(e)}}finally{Yt(e)}}}function Yt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(qe){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Jt(e){return e.g?e.g.readyState:0}function Xt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function en(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zt("baseRetryDelayMs",5e3,e),this.cb=Zt("retryDelaySeedMs",1e4,e),this.Wa=Zt("forwardChannelMaxRetries",2,e),this.wa=Zt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new nt(e&&e.concurrentRequestLimit),this.Da=new Pt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tn(e){if(rn(e),3==e.G){var t=e.U++,n=ht(e.I);if(gt(n,"SID",e.K),gt(n,"RID",t),gt(n,"TYPE","terminate"),on(e,n),(t=new De(e,e.j,t)).L=2,t.v=yt(ht(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(Ze){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=wn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),We(t)}yn(e)}function nn(e){e.g&&(dn(e),e.g.cancel(),e.g=null)}function rn(e){nn(e),e.u&&(i.clearTimeout(e.u),e.u=null),fn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function sn(e){if(!rt(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||j(),C||(T(),C=!0),I.add(t,e),e.B=0}}function an(e,t){var n;n=t?t.l:e.U++;const r=ht(e.I);gt(r,"SID",e.K),gt(r,"RID",n),gt(r,"AID",e.T),on(e,r),e.m&&e.o&&zt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=ln(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),at(e.h,n),Fe(n,r,t)}function on(e,t){e.H&&v(e.H,function(e,n){gt(t,n,e)}),e.l&&ct({},function(e,n){gt(t,n,e)})}function ln(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Dt(o,e,"req"+n+"_")}catch(Ot){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function cn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||j(),C||(T(),C=!0),I.add(t,e),e.v=0}}function un(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),mn(e,e.v)),e.v++,!0)}function dn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function hn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ht(e.qa);gt(t,"RID","rpc"),gt(t,"SID",e.K),gt(t,"AID",e.T),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&gt(t,"TO",e.ja),gt(t,"TYPE","xmlhttp"),on(e,t),e.m&&e.o&&zt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=yt(ht(t)),n.m=null,n.P=!0,Be(n,e)}function fn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function pn(e,t){var n=null;if(e.g==t){fn(e),dn(e),e.g=null;var r=2}else{if(!st(e.h,t))return;n=t.D,ot(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Te(r,n)),sn(e)}else cn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(it(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),mn(e,e.B)),e.B++,!0))}(e,t)||2==r&&un(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:gn(e,5);break;case 4:gn(e,10);break;case 3:gn(e,6);break;default:gn(e,2)}}function mn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function gn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ft(r,"https"),yt(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=u(Rt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Rt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Rt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Rt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout(()=>{n.abort(),Rt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Rt(0,0,!0,t):Rt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Rt(0,0,!1,t)})}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),yn(e),rn(e)}function yn(e){if(e.G=0,e.ka=[],e.l){const t=lt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function vn(e,t,n){var r=n instanceof dt?ht(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),pt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new dt(null);r&&ft(a,r),t&&(a.g=t),s&&pt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&gt(r,n,t),gt(r,"VER",e.la),on(e,r),r}function wn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new qt(new Lt({eb:n})):new qt(e.pa)).Ha(e.J),t}function bn(){}function xn(){}function _n(e,t){ne.call(this),this.g=new en(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nn(this)}function En(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kn(){we.call(this),this.status=1}function Nn(e){this.g=e}(e=qt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(et){return void Kt(this,et)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ht,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(et){Kt(this,et)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Yt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qt(this):this.bb())},e.bb=function(){Qt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch(Ke){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Ke){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=en.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=vn(this,null,this.W),sn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=w(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ln(this,i,t),gt(n=ht(this.I),"RID",e),gt(n,"CVER",22),this.D&&gt(n,"X-HTTP-Session-Id",this.D),on(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Vt(s)))+"&"+t:this.m&&zt(n,this.m,s)),at(this.h,i),this.Ua&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",t),gt(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?an(this,e):0==this.i.length||rt(this.h)||an(this))},e.Fa=function(){if(this.u=null,hn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),nn(this),hn(this))},e.Za=function(){null!=this.C&&(this.C=null,nn(this),un(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},xn.prototype.g=function(e,t){return new _n(e,t)},d(_n,ne),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){tn(this.g)},_n.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new tt(t.Ya++,e)),3==t.G&&sn(t)},_n.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,_n.aa.N.call(this)},d(En,ve),d(kn,we),d(Nn,bn),Nn.prototype.ua=function(){re(this.g,"a")},Nn.prototype.ta=function(e){re(this.g,new En(e))},Nn.prototype.sa=function(e){re(this.g,new kn)},Nn.prototype.ra=function(){re(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,Fo=Vo.createWebChannelTransport=function(){return new xn},Uo=Vo.getStatEventTarget=function(){return _e()},Mo=Vo.Event=be,Lo=Vo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Do=Vo.ErrorCode=Re,Pe.COMPLETE="complete",Oo=Vo.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Po=Vo.WebChannel=ge,Vo.FetchXmlHttpFactory=Lt,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Ro=Vo.XhrIo=qt}).apply("undefined"!==typeof Bo?Bo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const zo="@firebase/firestore";class qo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qo.UNAUTHENTICATED=new qo(null),qo.GOOGLE_CREDENTIALS=new qo("google-credentials-uid"),qo.FIRST_PARTY=new qo("first-party-uid"),qo.MOCK_USER=new qo("mock-user");let Wo="10.14.0";const Ho=new Hn("@firebase/firestore");function Ko(){return Ho.logLevel}function Go(e){if(Ho.logLevel<=Bn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($o);Ho.debug("Firestore (".concat(Wo,"): ").concat(e),...i)}}function Qo(e){if(Ho.logLevel<=Bn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($o);Ho.error("Firestore (".concat(Wo,"): ").concat(e),...i)}}function Yo(e){if(Ho.logLevel<=Bn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($o);Ho.warn("Firestore (".concat(Wo,"): ").concat(e),...i)}}function $o(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(We){return e}}function Jo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Wo,") INTERNAL ASSERTION FAILED: ")+e;throw Qo(t),new Error(t)}function Xo(e,t){e||Jo()}function Zo(e,t){return e}const el={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tl extends En{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class nl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class il{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qo.UNAUTHENTICATED))}shutdown(){}}class sl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class al{constructor(e){this.t=e,this.currentUser=qo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xo(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new nl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new nl,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Go("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Go("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new nl)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Go("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xo("string"==typeof t.accessToken),new rl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xo(null===e||"string"==typeof e),new qo(e)}}class ol{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=qo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ll{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ol(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ul{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Xo(void 0===this.o);const n=e=>{null!=e.error&&Go("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Go("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Go("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Go("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Xo("string"==typeof e.token),this.R=e.token,new cl(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class hl{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=dl(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function fl(e,t){return e<t?-1:e>t?1:0}function pl(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class ml{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tl(el.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tl(el.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tl(el.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tl(el.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ml.fromMillis(Date.now())}static fromDate(e){return ml.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ml(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fl(this.nanoseconds,e.nanoseconds):fl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gl{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gl(e)}static min(){return new gl(new ml(0,0))}static max(){return new gl(new ml(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Jo(),void 0===n?n=e.length-t:n>e.length-t&&Jo(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===yl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vl extends yl{construct(e,t,n){return new vl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new tl(el.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new vl(e)}static emptyPath(){return new vl([])}}const wl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bl extends yl{construct(e,t,n){return new bl(e,t,n)}static isValidIdentifier(e){return wl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bl(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new tl(el.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new tl(el.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new tl(el.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new tl(el.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bl(t)}static emptyPath(){return new bl([])}}class xl{constructor(e){this.path=e}static fromPath(e){return new xl(vl.fromString(e))}static fromName(e){return new xl(vl.fromString(e).popFirst(5))}static empty(){return new xl(vl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xl(new vl(e.slice()))}}class _l{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}_l.UNKNOWN_ID=-1;function El(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=gl.fromTimestamp(1e9===r?new ml(n+1,0):new ml(n,r));return new Nl(i,xl.empty(),t)}function kl(e){return new Nl(e.readTime,e.key,-1)}class Nl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Nl(gl.min(),xl.empty(),-1)}static max(){return new Nl(gl.max(),xl.empty(),-1)}}function Sl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=xl.comparator(e.documentKey,t.documentKey),0!==n?n:fl(e.largestBatchId,t.largestBatchId))}const Tl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Il(e){if(e.code!==el.FAILED_PRECONDITION||e.message!==Tl)throw e;Go("LocalStore","Unexpectedly lost primary lease")}class jl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new jl((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof jl?t:jl.resolve(t)}catch(e){return jl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):jl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):jl.reject(t)}static resolve(e){return new jl((t,n)=>{t(e)})}static reject(e){return new jl((t,n)=>{n(e)})}static waitFor(e){return new jl((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=jl.resolve(!1);for(const n of e)t=t.next(e=>e?jl.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new jl((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new jl((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Al(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(e){return"IndexedDbTransactionError"===e.name}class Pl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Ol(e){return null==e}function Dl(e){return 0===e&&1/e==-1/0}function Ll(e){return"number"==typeof e&&Number.isInteger(e)&&!Dl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Pl.oe=-1;const Ml=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ul=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fl=Ul,Bl=[...Fl,"indexConfiguration","indexState","indexEntries"];function Vl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ql(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Wl{constructor(e,t){this.comparator=e,this.root=t||Kl.EMPTY}insert(e,t){return new Wl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kl.BLACK,null,null))}remove(e){return new Wl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hl(this.root,e,this.comparator,!0)}}class Hl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Kl.RED,this.left=null!=r?r:Kl.EMPTY,this.right=null!=i?i:Kl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Kl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Jo();if(this.right.isRed())throw Jo();const e=this.left.check();if(e!==this.right.check())throw Jo();return e+(this.isRed()?0:1)}}Kl.EMPTY=null,Kl.RED=!0,Kl.BLACK=!1,Kl.EMPTY=new class{constructor(){this.size=0}get key(){throw Jo()}get value(){throw Jo()}get color(){throw Jo()}get left(){throw Jo()}get right(){throw Jo()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Kl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gl{constructor(e){this.comparator=e,this.data=new Wl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ql(this.data.getIterator())}getIteratorFrom(e){return new Ql(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Gl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gl(this.comparator);return t.data=e,t}}class Ql{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yl{constructor(e){this.fields=e,e.sort(bl.comparator)}static empty(){return new Yl([])}unionWith(e){let t=new Gl(bl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Yl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class $l extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $l("Invalid base64 string: "+e):e}}(e);return new Jl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Jl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jl.EMPTY_BYTE_STRING=new Jl("");const Xl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zl(e){if(Xo(!!e),"string"==typeof e){let t=0;const n=Xl.exec(e);if(Xo(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ec(e.seconds),nanos:ec(e.nanos)}}function ec(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function tc(e){return"string"==typeof e?Jl.fromBase64String(e):Jl.fromUint8Array(e)}function nc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rc(e){const t=e.mapValue.fields.__previous_value__;return nc(t)?rc(t):t}function ic(e){const t=Zl(e.mapValue.fields.__local_write_time__.timestampValue);return new ml(t.seconds,t.nanos)}class sc{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class ac{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ac("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}const oc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nc(e)?4:kc(e)?9007199254740991:_c(e)?10:11:Jo()}function cc(e,t){if(e===t)return!0;const n=lc(e);if(n!==lc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ic(e).isEqual(ic(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Zl(e.timestampValue),r=Zl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return tc(e.bytesValue).isEqual(tc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ec(e.geoPointValue.latitude)===ec(t.geoPointValue.latitude)&&ec(e.geoPointValue.longitude)===ec(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ec(e.integerValue)===ec(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ec(e.doubleValue),r=ec(t.doubleValue);return n===r?Dl(n)===Dl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return pl(e.arrayValue.values||[],t.arrayValue.values||[],cc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Vl(n)!==Vl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cc(n[i],r[i])))return!1;return!0}(e,t);default:return Jo()}}function uc(e,t){return void 0!==(e.values||[]).find(e=>cc(e,t))}function dc(e,t){if(e===t)return 0;const n=lc(e),r=lc(t);if(n!==r)return fl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ec(e.integerValue||e.doubleValue),r=ec(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return hc(e.timestampValue,t.timestampValue);case 4:return hc(ic(e),ic(t));case 5:return fl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=tc(e),r=tc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=fl(n[i],r[i]);if(0!==e)return e}return fl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=fl(ec(e.latitude),ec(t.latitude));return 0!==n?n:fl(ec(e.longitude),ec(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return fc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=fl((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:fc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===oc.mapValue&&t===oc.mapValue)return 0;if(e===oc.mapValue)return 1;if(t===oc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=fl(r[a],s[a]);if(0!==e)return e;const t=dc(n[r[a]],i[s[a]]);if(0!==t)return t}return fl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Jo()}}function hc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return fl(e,t);const n=Zl(e),r=Zl(t),i=fl(n.seconds,r.seconds);return 0!==i?i:fl(n.nanos,r.nanos)}function fc(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=dc(n[i],r[i]);if(e)return e}return fl(n.length,r.length)}function pc(e){return mc(e)}function mc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Zl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return tc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return xl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=mc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(mc(e.fields[i]));return n+"}"}(e.mapValue):Jo()}function gc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function yc(e){return!!e&&"integerValue"in e}function vc(e){return!!e&&"arrayValue"in e}function wc(e){return!!e&&"nullValue"in e}function bc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xc(e){return!!e&&"mapValue"in e}function _c(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ec(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Ec(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ec(e.arrayValue.values[n]);return t}return Object.assign({},e)}function kc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Nc{constructor(e){this.value=e}static empty(){return new Nc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!xc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(t)}setAll(e){let t=bl.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ec(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());xc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];xc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){zl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Nc(Ec(this.value))}}function Sc(e){const t=[];return zl(e.fields,(e,n)=>{const r=new bl([e]);if(xc(n)){const e=Sc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Yl(t)}class Tc{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Tc(e,0,gl.min(),gl.min(),gl.min(),Nc.empty(),0)}static newFoundDocument(e,t,n,r){return new Tc(e,1,t,gl.min(),n,r,0)}static newNoDocument(e,t){return new Tc(e,2,t,gl.min(),gl.min(),Nc.empty(),0)}static newUnknownDocument(e,t){return new Tc(e,3,t,gl.min(),gl.min(),Nc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Cc{constructor(e,t){this.position=e,this.inclusive=t}}function Ic(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?xl.comparator(xl.fromName(a.referenceValue),n.key):dc(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function jc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cc(e.position[n],t.position[n]))return!1;return!0}class Ac{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Rc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Pc{}class Oc extends Pc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new zc(e,t,n):"array-contains"===t?new Kc(e,n):"in"===t?new Gc(e,n):"not-in"===t?new Qc(e,n):"array-contains-any"===t?new Yc(e,n):new Oc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new qc(e,n):new Wc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dc(t,this.value)):null!==t&&lc(this.value)===lc(t)&&this.matchesComparison(dc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jo()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dc extends Pc{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Dc(e,t)}matches(e){return Lc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Lc(e){return"and"===e.op}function Mc(e){return Uc(e)&&Lc(e)}function Uc(e){for(const t of e.filters)if(t instanceof Dc)return!1;return!0}function Fc(e){if(e instanceof Oc)return e.field.canonicalString()+e.op.toString()+pc(e.value);if(Mc(e))return e.filters.map(e=>Fc(e)).join(",");{const t=e.filters.map(e=>Fc(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Bc(e,t){return e instanceof Oc?function(e,t){return t instanceof Oc&&e.op===t.op&&e.field.isEqual(t.field)&&cc(e.value,t.value)}(e,t):e instanceof Dc?function(e,t){return t instanceof Dc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Bc(n,t.filters[r]),!0)}(e,t):void Jo()}function Vc(e){return e instanceof Oc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(pc(e.value))}(e):e instanceof Dc?function(e){return e.op.toString()+" {"+e.getFilters().map(Vc).join(" ,")+"}"}(e):"Filter"}class zc extends Oc{constructor(e,t,n){super(e,t,n),this.key=xl.fromName(n.referenceValue)}matches(e){const t=xl.comparator(e.key,this.key);return this.matchesComparison(t)}}class qc extends Oc{constructor(e,t){super(e,"in",t),this.keys=Hc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Wc extends Oc{constructor(e,t){super(e,"not-in",t),this.keys=Hc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Hc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>xl.fromName(e.referenceValue))}class Kc extends Oc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vc(t)&&uc(t.arrayValue,this.value)}}class Gc extends Oc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uc(this.value.arrayValue,t)}}class Qc extends Oc{constructor(e,t){super(e,"not-in",t)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uc(this.value.arrayValue,t)}}class Yc extends Oc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>uc(this.value.arrayValue,e))}}class $c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function Jc(e){return new $c(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xc(e){const t=Zo(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Fc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ol(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>pc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>pc(e)).join(",")),t.ue=e}return t.ue}function Zc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Rc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Bc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jc(e.startAt,t.startAt)&&jc(e.endAt,t.endAt)}function eu(e){return xl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class tu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nu(e,t,n,r,i,s,a,o){return new tu(e,t,n,r,i,s,a,o)}function ru(e){return new tu(e)}function iu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function su(e){return null!==e.collectionGroup}function au(e){const t=Zo(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Gl(bl.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Ac(r,n))}),e.has(bl.keyField().canonicalString())||t.ce.push(new Ac(bl.keyField(),n))}return t.ce}function ou(e){const t=Zo(e);return t.le||(t.le=lu(t,au(e))),t.le}function lu(e,t){if("F"===e.limitType)return Jc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ac(e.field,t)});const n=e.endAt?new Cc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Cc(e.startAt.position,e.startAt.inclusive):null;return Jc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function cu(e,t){const n=e.filters.concat([t]);return new tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function uu(e,t,n){return new tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function du(e,t){return Zc(ou(e),ou(t))&&e.limitType===t.limitType}function hu(e){return"".concat(Xc(ou(e)),"|lt:").concat(e.limitType)}function fu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Vc(e)).join(", "),"]")),Ol(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>pc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>pc(e)).join(",")),"Target(".concat(t,")")}(ou(e)),"; limitType=").concat(e.limitType,")")}function pu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of au(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ic(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,au(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ic(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,au(e),t))}(e,t)}function mu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gu(e){return(t,n)=>{let r=!1;for(const i of au(e)){const e=yu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function yu(e,t,n){const r=e.field.isKeyField()?xl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dc(r,i):Jo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Jo()}}class vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zl(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ql(this.inner)}size(){return this.innerSize}}const wu=new Wl(xl.comparator);function bu(){return wu}const xu=new Wl(xl.comparator);function _u(){let e=xu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Eu(e){let t=xu;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ku(){return Su()}function Nu(){return Su()}function Su(){return new vu(e=>e.toString(),(e,t)=>e.isEqual(t))}const Tu=new Wl(xl.comparator),Cu=new Gl(xl.comparator);function Iu(){let e=Cu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ju=new Gl(fl);function Au(){return ju}function Ru(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dl(t)?"-0":t}}function Pu(e){return{integerValue:""+e}}function Ou(e,t){return Ll(t)?Pu(t):Ru(e,t)}class Du{constructor(){this._=void 0}}function Lu(e,t,n){return e instanceof Fu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&nc(t)&&(t=rc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Bu?Vu(e,t):e instanceof zu?qu(e,t):function(e,t){const n=Uu(e,t),r=Hu(n)+Hu(e.Pe);return yc(n)&&yc(e.Pe)?Pu(r):Ru(e.serializer,r)}(e,t)}function Mu(e,t,n){return e instanceof Bu?Vu(e,t):e instanceof zu?qu(e,t):n}function Uu(e,t){return e instanceof Wu?function(e){return yc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Fu extends Du{}class Bu extends Du{constructor(e){super(),this.elements=e}}function Vu(e,t){const n=Ku(t);for(const r of e.elements)n.some(e=>cc(e,r))||n.push(r);return{arrayValue:{values:n}}}class zu extends Du{constructor(e){super(),this.elements=e}}function qu(e,t){let n=Ku(t);for(const r of e.elements)n=n.filter(e=>!cc(e,r));return{arrayValue:{values:n}}}class Wu extends Du{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Hu(e){return ec(e.integerValue||e.doubleValue)}function Ku(e){return vc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Gu{constructor(e,t){this.field=e,this.transform=t}}class Qu{constructor(e,t){this.version=e,this.transformResults=t}}class Yu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yu}static exists(e){return new Yu(void 0,e)}static updateTime(e){return new Yu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ju{}function Xu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ld(e.key,Yu.none()):new rd(e.key,e.data,Yu.none());{const n=e.data,r=Nc.empty();let i=new Gl(bl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new id(e.key,r,new Yl(i.toArray()),Yu.none())}}function Zu(e,t,n){e instanceof rd?function(e,t,n){const r=e.value.clone(),i=ad(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof id?function(e,t,n){if(!$u(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ad(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ed(e,t,n,r){return e instanceof rd?function(e,t,n,r){if(!$u(e.precondition,t))return n;const i=e.value.clone(),s=od(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof id?function(e,t,n,r){if(!$u(e.precondition,t))return n;const i=od(e.fieldTransforms,r,t),s=t.data;return s.setAll(sd(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return $u(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function td(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Uu(r.transform,e||null);null!=i&&(null===n&&(n=Nc.empty()),n.set(r.field,i))}return n||null}function nd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pl(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Bu&&t instanceof Bu||e instanceof zu&&t instanceof zu?pl(e.elements,t.elements,cc):e instanceof Wu&&t instanceof Wu?cc(e.Pe,t.Pe):e instanceof Fu&&t instanceof Fu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rd extends Ju{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class id extends Ju{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ad(e,t,n){const r=new Map;Xo(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Mu(a,o,n[i]))}return r}function od(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Lu(e,s,t))}return r}class ld extends Ju{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cd extends Ju{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ud{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Zu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ed(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ed(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Nu();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Xu(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(gl.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Iu())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(e,t)=>nd(e,t))&&pl(this.baseMutations,e.baseMutations,(e,t)=>nd(e,t))}}class dd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xo(e.mutations.length===n.length);let r=Tu;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new dd(e,t,n,r)}}class hd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class fd{constructor(e,t){this.count=e,this.unchangedNames=t}}var pd,md;function gd(e){switch(e){default:return Jo();case el.CANCELLED:case el.UNKNOWN:case el.DEADLINE_EXCEEDED:case el.RESOURCE_EXHAUSTED:case el.INTERNAL:case el.UNAVAILABLE:case el.UNAUTHENTICATED:return!1;case el.INVALID_ARGUMENT:case el.NOT_FOUND:case el.ALREADY_EXISTS:case el.PERMISSION_DENIED:case el.FAILED_PRECONDITION:case el.ABORTED:case el.OUT_OF_RANGE:case el.UNIMPLEMENTED:case el.DATA_LOSS:return!0}}function yd(e){if(void 0===e)return Qo("GRPC error has no .code"),el.UNKNOWN;switch(e){case pd.OK:return el.OK;case pd.CANCELLED:return el.CANCELLED;case pd.UNKNOWN:return el.UNKNOWN;case pd.DEADLINE_EXCEEDED:return el.DEADLINE_EXCEEDED;case pd.RESOURCE_EXHAUSTED:return el.RESOURCE_EXHAUSTED;case pd.INTERNAL:return el.INTERNAL;case pd.UNAVAILABLE:return el.UNAVAILABLE;case pd.UNAUTHENTICATED:return el.UNAUTHENTICATED;case pd.INVALID_ARGUMENT:return el.INVALID_ARGUMENT;case pd.NOT_FOUND:return el.NOT_FOUND;case pd.ALREADY_EXISTS:return el.ALREADY_EXISTS;case pd.PERMISSION_DENIED:return el.PERMISSION_DENIED;case pd.FAILED_PRECONDITION:return el.FAILED_PRECONDITION;case pd.ABORTED:return el.ABORTED;case pd.OUT_OF_RANGE:return el.OUT_OF_RANGE;case pd.UNIMPLEMENTED:return el.UNIMPLEMENTED;case pd.DATA_LOSS:return el.DATA_LOSS;default:return Jo()}}(md=pd||(pd={}))[md.OK=0]="OK",md[md.CANCELLED=1]="CANCELLED",md[md.UNKNOWN=2]="UNKNOWN",md[md.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",md[md.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",md[md.NOT_FOUND=5]="NOT_FOUND",md[md.ALREADY_EXISTS=6]="ALREADY_EXISTS",md[md.PERMISSION_DENIED=7]="PERMISSION_DENIED",md[md.UNAUTHENTICATED=16]="UNAUTHENTICATED",md[md.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",md[md.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",md[md.ABORTED=10]="ABORTED",md[md.OUT_OF_RANGE=11]="OUT_OF_RANGE",md[md.UNIMPLEMENTED=12]="UNIMPLEMENTED",md[md.INTERNAL=13]="INTERNAL",md[md.UNAVAILABLE=14]="UNAVAILABLE",md[md.DATA_LOSS=15]="DATA_LOSS";let vd=null;function wd(){return new TextEncoder}const bd=new Co([4294967295,4294967295],0);function xd(e){const t=wd().encode(e),n=new Io;return n.update(t),new Uint8Array(n.digest())}function _d(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Co([n,r],0),new Co([i,s],0)]}class Ed{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new kd("Invalid padding: ".concat(t));if(n<0)throw new kd("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new kd("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new kd("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Co.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Co.fromNumber(n)));return 1===r.compare(bd)&&(r=new Co([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=xd(e),[n,r]=_d(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ed(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=xd(e),[n,r]=_d(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Nd(gl.min(),r,new Wl(fl),bu(),Iu())}}class Sd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Sd(n,t,Iu(),Iu(),Iu())}}class Td{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Cd{constructor(e,t){this.targetId=e,this.me=t}}class Id{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class jd{constructor(){this.fe=0,this.ge=Pd(),this.pe=Jl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Iu(),t=Iu(),n=Iu();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Jo()}}),new Sd(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Pd()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xo(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ad{constructor(e){this.Le=e,this.Be=new Map,this.ke=bu(),this.qe=Rd(),this.Qe=new Wl(fl)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Jo()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(eu(i))if(0===n){const e=new xl(i.path);this.Ue(t,e,Tc.newNoDocument(e,gl.min()))}else Xo(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==vd||vd.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=tc(n).toUint8Array()}catch(e){if(e instanceof $l)return Yo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Ed(s,r,i)}catch(e){return Yo(e instanceof kd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&eu(i.target)){const t=new xl(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Tc.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=Iu();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new Nd(e,t,this.Qe,this.ke,n);return this.ke=bu(),this.qe=Rd(),this.Qe=new Wl(fl),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new jd,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Gl(fl),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Go("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new jd),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Rd(){return new Wl(xl.comparator)}function Pd(){return new Wl(xl.comparator)}const Od={asc:"ASCENDING",desc:"DESCENDING"},Dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ld={and:"AND",or:"OR"};class Md{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ud(e,t){return e.useProto3Json||Ol(t)?t:{value:t}}function Fd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Vd(e,t){return Fd(e,t.toTimestamp())}function zd(e){return Xo(!!e),gl.fromTimestamp(function(e){const t=Zl(e);return new ml(t.seconds,t.nanos)}(e))}function qd(e,t){return Wd(e,t).canonicalString()}function Wd(e,t){const n=function(e){return new vl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Hd(e){const t=vl.fromString(e);return Xo(dh(t)),t}function Kd(e,t){return qd(e.databaseId,t.path)}function Gd(e,t){const n=Hd(t);if(n.get(1)!==e.databaseId.projectId)throw new tl(el.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tl(el.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xl(Jd(n))}function Qd(e,t){return qd(e.databaseId,t)}function Yd(e){const t=Hd(e);return 4===t.length?vl.emptyPath():Jd(t)}function $d(e){return new vl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jd(e){return Xo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xd(e,t,n){return{name:Kd(e,t),fields:n.value.mapValue.fields}}function Zd(e,t){let n;if(t instanceof rd)n={update:Xd(e,t.key,t.value)};else if(t instanceof ld)n={delete:Kd(e,t.key)};else if(t instanceof id)n={update:Xd(e,t.key,t.data),updateMask:uh(t.fieldMask)};else{if(!(t instanceof cd))return Jo();n={verify:Kd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Fu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wu)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Jo()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Vd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Jo()}(e,t.precondition)),n}function eh(e,t){return{documents:[Qd(e,t.path)]}}function th(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Qd(e,i);const s=function(e){if(0!==e.length)return ch(Dc.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:oh(e.field),direction:ih(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Ud(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function nh(e){let t=Yd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xo(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=rh(e);return t instanceof Dc&&Mc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Ac(lh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ol(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Cc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Cc(n,t)}(n.endAt)),nu(t,i,a,s,o,"F",l,c)}function rh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=lh(e.unaryFilter.field);return Oc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=lh(e.unaryFilter.field);return Oc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lh(e.unaryFilter.field);return Oc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=lh(e.unaryFilter.field);return Oc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jo()}}(e):void 0!==e.fieldFilter?function(e){return Oc.create(lh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jo()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Dc.create(e.compositeFilter.filters.map(e=>rh(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Jo()}}(e.compositeFilter.op))}(e):Jo()}function ih(e){return Od[e]}function sh(e){return Dd[e]}function ah(e){return Ld[e]}function oh(e){return{fieldPath:e.canonicalString()}}function lh(e){return bl.fromServerFormat(e.fieldPath)}function ch(e){return e instanceof Oc?function(e){if("=="===e.op){if(bc(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NAN"}};if(wc(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bc(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NAN"}};if(wc(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oh(e.field),op:sh(e.op),value:e.value}}}(e):e instanceof Dc?function(e){const t=e.getFilters().map(e=>ch(e));return 1===t.length?t[0]:{compositeFilter:{op:ah(e.op),filters:t}}}(e):Jo()}function uh(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function dh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class hh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gl.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gl.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jl.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new hh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fh{constructor(e){this.ct=e}}function ph(e){const t=nh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uu(t,t.limit,"L"):t}class mh{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ec(e.integerValue));else if("doubleValue"in e){const n=ec(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Dl(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Zl(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(tc(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?kc(e)?this.dt(t,Number.MAX_SAFE_INTEGER):_c(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Jo()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(ec(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),xl.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}mh.vt=new mh;class gh{constructor(){this.un=new yh}addToCollectionParentIndex(e,t){return this.un.add(t),jl.resolve()}getCollectionParents(e,t){return jl.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return jl.resolve()}deleteFieldIndex(e,t){return jl.resolve()}deleteAllFieldIndexes(e){return jl.resolve()}createTargetIndexes(e,t){return jl.resolve()}getDocumentsMatchingTarget(e,t){return jl.resolve(null)}getIndexType(e,t){return jl.resolve(0)}getFieldIndexes(e,t){return jl.resolve([])}getNextCollectionGroupToUpdate(e){return jl.resolve(null)}getMinOffset(e,t){return jl.resolve(Nl.min())}getMinOffsetFromCollectionGroup(e,t){return jl.resolve(Nl.min())}updateCollectionGroup(e,t,n){return jl.resolve()}updateIndexEntries(e,t){return jl.resolve()}}class yh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gl(vl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gl(vl.comparator)).toArray()}}new Uint8Array(0);class vh{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vh(e,vh.DEFAULT_COLLECTION_PERCENTILE,vh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vh.DEFAULT_COLLECTION_PERCENTILE=10,vh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vh.DEFAULT=new vh(41943040,vh.DEFAULT_COLLECTION_PERCENTILE,vh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vh.DISABLED=new vh(-1,0,0);class wh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wh(0)}static kn(){return new wh(-1)}}class bh{constructor(){this.changes=new vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?jl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _h{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&ed(n.mutation,e,Yl.empty(),ml.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Iu()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Iu();const r=ku();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=_u();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ku();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Iu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=bu();const s=Su(),a=Su();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof id)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),ed(a.mutation,t,a.mutation.getFieldMask(),ml.now())):s.set(t.key,Yl.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new xh(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Su();let r=new Wl((e,t)=>e-t),i=Iu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Yl.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Iu()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Nu();l.forEach(e=>{if(!i.has(e)){const r=Xu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return jl.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return xl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):su(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):jl.resolve(ku());let a=-1,o=i;return s.next(t=>jl.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?jl.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Iu())).next(e=>({batchId:a,changes:Eu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xl(t)).next(e=>{let t=_u();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=_u();return this.indexManager.getCollectionParents(e,i).next(a=>jl.forEach(a,a=>{const o=function(e,t){return new tu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Tc.newInvalidDocument(r)))});let n=_u();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&ed(s.mutation,r,Yl.empty(),ml.now()),pu(t,r)&&(n=n.insert(e,r))}),n})}}class Eh{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return jl.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:zd(e.createTime)}}(t)),jl.resolve()}getNamedQuery(e,t){return jl.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:ph(e.bundledQuery),readTime:zd(e.readTime)}}(t)),jl.resolve()}}class kh{constructor(){this.overlays=new Wl(xl.comparator),this.Ir=new Map}getOverlay(e,t){return jl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ku();return jl.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),jl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),jl.resolve()}getOverlaysForCollection(e,t,n){const r=ku(),i=t.length+1,s=new xl(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return jl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Wl((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ku(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ku(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return jl.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new hd(t,n));let i=this.Ir.get(t);void 0===i&&(i=Iu(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Nh{constructor(){this.sessionToken=Jl.EMPTY_BYTE_STRING}getSessionToken(e){return jl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,jl.resolve()}}class Sh{constructor(){this.Tr=new Gl(Th.Er),this.dr=new Gl(Th.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Th(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new Th(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new xl(new vl([])),n=new Th(t,e),r=new Th(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new xl(new vl([])),n=new Th(t,e),r=new Th(t,e+1);let i=Iu();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Th(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Th{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return xl.comparator(e.key,t.key)||fl(e.wr,t.wr)}static Ar(e,t){return fl(e.wr,t.wr)||xl.comparator(e.key,t.key)}}class Ch{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Gl(Th.Er)}checkEmpty(e){return jl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ud(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Th(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return jl.resolve(s)}lookupMutationBatch(e,t){return jl.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return jl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return jl.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return jl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Th(t,0),r=new Th(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),jl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gl(fl);return t.forEach(e=>{const t=new Th(e,0),r=new Th(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),jl.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;xl.isDocumentKey(i)||(i=i.child(""));const s=new Th(new xl(i),0);let a=new Gl(fl);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},s),jl.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Xo(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return jl.forEach(t.mutations,r=>{const i=new Th(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new Th(t,0),r=this.br.firstAfterOrEqual(n);return jl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,jl.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ih{constructor(e){this.Mr=e,this.docs=new Wl(xl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return jl.resolve(n?n.document.mutableCopy():Tc.newInvalidDocument(t))}getEntries(e,t){let n=bu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Tc.newInvalidDocument(e))}),jl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=bu();const s=t.path,a=new xl(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Sl(kl(a),n)<=0||(r.has(a.key)||pu(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return jl.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Jo()}Or(e,t){return jl.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new jh(this)}getSize(e){return jl.resolve(this.size)}}class jh extends bh{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),jl.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Ah{constructor(e){this.persistence=e,this.Nr=new vu(e=>Xc(e),Zc),this.lastRemoteSnapshotVersion=gl.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sh,this.targetCount=0,this.kr=wh.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),jl.resolve()}getLastRemoteSnapshotVersion(e){return jl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return jl.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),jl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),jl.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new wh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,jl.resolve()}updateTargetData(e,t){return this.Kn(t),jl.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,jl.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),jl.waitFor(i).next(()=>r)}getTargetCount(e){return jl.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return jl.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),jl.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),jl.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),jl.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return jl.resolve(n)}containsKey(e,t){return jl.resolve(this.Br.containsKey(t))}}class Rh{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Pl(0),this.Kr=!1,this.Kr=!0,this.$r=new Nh,this.referenceDelegate=e(this),this.Ur=new Ah(this),this.indexManager=new gh,this.remoteDocumentCache=function(e){return new Ih(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new fh(t),this.Gr=new Eh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Ch(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Go("MemoryPersistence","Starting transaction:",e);const r=new Ph(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return jl.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Ph extends Cl{constructor(e){super(),this.currentSequenceNumber=e}}class Oh{constructor(e){this.persistence=e,this.Jr=new Sh,this.Yr=null}static Zr(e){return new Oh(e)}get Xr(){if(this.Yr)return this.Yr;throw Jo()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),jl.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),jl.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),jl.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jl.forEach(this.Xr,n=>{const r=xl.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,gl.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return jl.or([()=>jl.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Dh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Iu(),r=Iu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Dh(e,t.fromCache,n,r)}}class Lh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Mh{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=bn()?8:Al(vn())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Lh;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(Ko()<=Bn.DEBUG&&Go("QueryEngine","SDK will not create cache indexes for query:",fu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),jl.resolve()):(Ko()<=Bn.DEBUG&&Go("QueryEngine","Query:",fu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Ko()<=Bn.DEBUG&&Go("QueryEngine","The SDK decides to create cache indexes for query:",fu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ou(t))):jl.resolve())}Yi(e,t){if(iu(t))return jl.resolve(null);let n=ou(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=uu(t,null,"F"),n=ou(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Iu(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,uu(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return iu(t)||r.isEqual(gl.min())?jl.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?jl.resolve(null):(Ko()<=Bn.DEBUG&&Go("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fu(t)),this.rs(e,s,t,El(r,-1)).next(e=>e))})}ts(e,t){let n=new Gl(gu(e));return t.forEach((t,r)=>{pu(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Ko()<=Bn.DEBUG&&Go("QueryEngine","Using full collection scan to execute query:",fu(t)),this.Ji.getDocumentsMatchingQuery(e,t,Nl.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Uh{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Wl(fl),this._s=new vu(e=>Xc(e),Zc),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _h(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Fh(e,t,n,r){return new Uh(e,t,n,r)}async function Bh(e,t){const n=Zo(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Iu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:s}))})})}function Vh(e){const t=Zo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function zh(e,t,n){let r=Iu(),i=Iu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=bu();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(gl.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Go("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ps:r,Is:i}})}function qh(e,t){const n=Zo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Wh(e,t){const n=Zo(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,jl.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new hh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function Hh(e,t,n){const r=Zo(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Rl(e))throw e;Go("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function Kh(e,t,n){const r=Zo(e);let i=gl.min(),s=Iu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Zo(e),i=r._s.get(n);return void 0!==i?jl.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,ou(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:gl.min(),n?s:Iu())).next(e=>(Gh(r,mu(t),e),{documents:e,Ts:s})))}function Gh(e,t,n){let r=e.us.get(t)||gl.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class Qh{constructor(){this.activeTargetIds=Au()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yh{constructor(){this.so=new Qh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Qh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $h{_o(e){}shutdown(){}}class Jh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Go("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Go("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xh=null;function Zh(){return null===Xh?Xh=268435456+Math.round(2147483648*Math.random()):Xh++,"0x"+Xh.toString(16)}const ef={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tf{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const nf="WebChannelConnection";class rf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const s=Zh(),a=this.xo(e,t.toUriEncodedString());Go("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then(t=>(Go("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw Yo("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=ef[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Zh();return new Promise((s,a)=>{const o=new Ro;o.setWithCredentials(!0),o.listenOnce(Oo.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Do.NO_ERROR:const t=o.getResponseJson();Go(nf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Do.TIMEOUT:Go(nf,"RPC '".concat(e,"' ").concat(i," timed out")),a(new tl(el.DEADLINE_EXCEEDED,"Request time out"));break;case Do.HTTP_ERROR:const n=o.getStatus();if(Go(nf,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(el).indexOf(t)>=0?t:el.UNKNOWN}(t.status);a(new tl(e,t.message))}else a(new tl(el.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new tl(el.UNAVAILABLE,"Connection failed."));break;default:Jo()}}finally{Go(nf,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Go(nf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=Zh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Fo(),a=Uo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Go(nf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new tf({Io:t=>{h?Go(nf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Go(nf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Go(nf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Po.EventType.OPEN,()=>{h||(Go(nf,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),p(u,Po.EventType.CLOSE,()=>{h||(h=!0,Go(nf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),p(u,Po.EventType.ERROR,t=>{h||(h=!0,Yo(nf,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new tl(el.UNAVAILABLE,"The operation could not be completed")))}),p(u,Po.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];Xo(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Go(nf,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=pd[e];if(void 0!==t)return yd(t)}(t),i=a.message;void 0===n&&(n=el.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new tl(n,i)),u.close()}else Go(nf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}}),p(a,Mo.STAT_EVENT,t=>{t.stat===Lo.PROXY?Go(nf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Lo.NOPROXY&&Go(nf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function sf(){return"undefined"!=typeof document?document:null}function af(e){return new Md(e,!0)}class of{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Go("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class lf{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new of(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===el.RESOURCE_EXHAUSTED?(Qo(t.toString()),Qo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===el.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new tl(el.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Go("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Go("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cf extends lf{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Jo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Xo(void 0===t||"string"==typeof t),Jl.fromBase64String(t||"")):(Xo(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Jl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?el.UNKNOWN:yd(e.code);return new tl(t,e.message||"")}(a);n=new Id(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gd(e,r.document.name),s=zd(r.document.updateTime),a=r.document.createTime?zd(r.document.createTime):gl.min(),o=new Nc({mapValue:{fields:r.document.fields}}),l=Tc.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Td(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gd(e,r.document),s=r.readTime?zd(r.readTime):gl.min(),a=Tc.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Td([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gd(e,r.document),s=r.removedTargetIds||[];n=new Td([],s,i,null)}else{if(!("filter"in t))return Jo();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new fd(r,i),a=e.targetId;n=new Cd(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return gl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?gl.min():t.readTime?zd(t.readTime):gl.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=$d(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=eu(r)?{documents:eh(e,r)}:{query:th(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Bd(e,t.resumeToken);const r=Ud(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(gl.min())>0){n.readTime=Fd(e,t.snapshotVersion.toTimestamp());const r=Ud(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jo()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=$d(this.serializer),t.removeTarget=e,this.a_(t)}}class uf extends lf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Xo(!!e.streamToken),this.lastStreamToken=e.streamToken,Xo(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Xo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Xo(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?zd(e.updateTime):zd(t);return n.isEqual(gl.min())&&(n=zd(t)),new Qu(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=zd(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=$d(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Zd(this.serializer,e))};this.a_(t)}}class df extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new tl(el.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Mo(e,Wd(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===el.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tl(el.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Lo(e,Wd(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===el.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tl(el.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class hf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(Qo(t),this.D_=!1):Go("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class ff{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{_f(this)&&(Go("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Zo(e);t.L_.add(4),await mf(t),t.q_.set("Unknown"),t.L_.delete(4),await pf(t)}(this))})}),this.q_=new hf(n,r)}}async function pf(e){if(_f(e))for(const t of e.B_)await t(!0)}async function mf(e){for(const t of e.B_)await t(!1)}function gf(e,t){const n=Zo(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),xf(n)?bf(n):Vf(n).r_()&&vf(n,t))}function yf(e,t){const n=Zo(e),r=Vf(n);n.N_.delete(t),r.r_()&&wf(n,t),0===n.N_.size&&(r.r_()?r.o_():_f(n)&&n.q_.set("Unknown"))}function vf(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Vf(e).A_(t)}function wf(e,t){e.Q_.xe(t),Vf(e).R_(t)}function bf(e){e.Q_=new Ad({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Vf(e).start(),e.q_.v_()}function xf(e){return _f(e)&&!Vf(e).n_()&&e.N_.size>0}function _f(e){return 0===Zo(e).L_.size}function Ef(e){e.Q_=void 0}async function kf(e){e.q_.set("Online")}async function Nf(e){e.N_.forEach((t,n)=>{vf(e,t)})}async function Sf(e,t){Ef(e),xf(e)?(e.q_.M_(t),bf(e)):e.q_.set("Unknown")}async function Tf(e,t,n){if(e.q_.set("Online"),t instanceof Id&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Go("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Cf(e,n)}else if(t instanceof Td?e.Q_.Ke(t):t instanceof Cd?e.Q_.He(t):e.Q_.We(t),!n.isEqual(gl.min()))try{const t=await Vh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Jl.EMPTY_BYTE_STRING,r.snapshotVersion)),wf(e,t);const i=new hh(r.target,t,n,r.sequenceNumber);vf(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Go("RemoteStore","Failed to raise snapshot:",t),await Cf(e,t)}}async function Cf(e,t,n){if(!Rl(t))throw t;e.L_.add(1),await mf(e),e.q_.set("Offline"),n||(n=()=>Vh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Go("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await pf(e)})}function If(e,t){return t().catch(n=>Cf(e,n,t))}async function jf(e){const t=Zo(e),n=zf(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Af(t);)try{const e=await qh(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Rf(t,e)}catch(e){await Cf(t,e)}Pf(t)&&Of(t)}function Af(e){return _f(e)&&e.O_.length<10}function Rf(e,t){e.O_.push(t);const n=zf(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Pf(e){return _f(e)&&!zf(e).n_()&&e.O_.length>0}function Of(e){zf(e).start()}async function Df(e){zf(e).p_()}async function Lf(e){const t=zf(e);for(const n of e.O_)t.m_(n.mutations)}async function Mf(e,t,n){const r=e.O_.shift(),i=dd.from(r,t,n);await If(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await jf(e)}async function Uf(e,t){t&&zf(e).V_&&await async function(e,t){if(function(e){return gd(e)&&e!==el.ABORTED}(t.code)){const n=e.O_.shift();zf(e).s_(),await If(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await jf(e)}}(e,t),Pf(e)&&Of(e)}async function Ff(e,t){const n=Zo(e);n.asyncQueue.verifyOperationInProgress(),Go("RemoteStore","RemoteStore received new credentials");const r=_f(n);n.L_.add(3),await mf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await pf(n)}async function Bf(e,t){const n=Zo(e);t?(n.L_.delete(2),await pf(n)):t||(n.L_.add(2),await mf(n),n.q_.set("Unknown"))}function Vf(e){return e.K_||(e.K_=function(e,t,n){const r=Zo(e);return r.w_(),new cf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:kf.bind(null,e),Ro:Nf.bind(null,e),mo:Sf.bind(null,e),d_:Tf.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),xf(e)?bf(e):e.q_.set("Unknown")):(await e.K_.stop(),Ef(e))})),e.K_}function zf(e){return e.U_||(e.U_=function(e,t,n){const r=Zo(e);return r.w_(),new uf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Df.bind(null,e),mo:Uf.bind(null,e),f_:Lf.bind(null,e),g_:Mf.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await jf(e)):(await e.U_.stop(),e.O_.length>0&&(Go("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class qf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new qf(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tl(el.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wf(e,t){if(Qo("AsyncQueue","".concat(t,": ").concat(e)),Rl(e))return new tl(el.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Hf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||xl.comparator(t.key,n.key):(e,t)=>xl.comparator(e.key,t.key),this.keyedMap=_u(),this.sortedSet=new Wl(this.comparator)}static emptySet(e){return new Hf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Hf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Kf{constructor(){this.W_=new Wl(xl.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Jo():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Gf{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Gf(e,t,Hf.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&du(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Qf{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Yf{constructor(){this.queries=$f(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Zo(e),r=n.queries;n.queries=$f(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new tl(el.ABORTED,"Firestore shutting down"))}}function $f(){return new vu(e=>hu(e),du)}async function Jf(e,t){const n=Zo(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new Qf,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Wf(e,"Initialization of query '".concat(fu(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&tp(n)}async function Xf(e,t){const n=Zo(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Zf(e,t){const n=Zo(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&tp(n)}function ep(e,t,n){const r=Zo(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function tp(e){e.Y_.forEach(e=>{e.next()})}var np,rp;(rp=np||(np={})).ea="default",rp.Cache="cache";class ip{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Gf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==np.Cache}}class sp{constructor(e){this.key=e}}class ap{constructor(e){this.key=e}}class op{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Iu(),this.mutatedKeys=Iu(),this.Aa=gu(e),this.Ra=new Hf(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Kf,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=pu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jo()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new Gf(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Kf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Iu(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new ap(e))}),this.da.forEach(n=>{e.has(n)||t.push(new sp(n))}),t}ba(e){this.Ta=e.Ts,this.da=Iu();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Gf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class lp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class cp{constructor(e){this.key=e,this.va=!1}}class up{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new vu(e=>hu(e),du),this.Ma=new Map,this.xa=new Set,this.Oa=new Wl(xl.comparator),this.Na=new Map,this.La=new Sh,this.Ba={},this.ka=new Map,this.qa=wh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function dp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Rp(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await fp(r,t,n,!0),i}async function hp(e,t){const n=Rp(e);await fp(n,t,!0,!1)}async function fp(e,t,n,r){const i=await Wh(e.localStore,ou(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await pp(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&gf(e.remoteStore,i),o}async function pp(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await Kh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Sp(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await Kh(e.localStore,t,!0),a=new op(t,s.Ts),o=a.ma(s.documents),l=Sd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Sp(e,n,c.wa);const u=new lp(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function mp(e,t,n){const r=Zo(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(e=>!du(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yf(r.remoteStore,i.targetId),kp(r,i.targetId)}).catch(Il)):(kp(r,i.targetId),await Hh(r.localStore,i.targetId,!0))}async function gp(e,t){const n=Zo(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yf(n.remoteStore,r.targetId))}async function yp(e,t){const n=Zo(e);try{const e=await function(e,t){const n=Zo(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Jl.EMPTY_BYTE_STRING,gl.min()).withLastLimboFreeSnapshotVersion(gl.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Ur.updateTargetData(e,c))});let o=bu(),l=Iu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(zh(e,s,t.documentUpdates).next(e=>{o=e.Ps,l=e.Is})),!r.isEqual(gl.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return jl.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.os=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(Xo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Xo(r.va):e.removedDocuments.size>0&&(Xo(r.va),r.va=!1))}),await Ip(n,e,t)}catch(e){await Il(e)}}function vp(e,t,n){const r=Zo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Zo(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&tp(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wp(e,t,n){const r=Zo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new Wl(xl.comparator);e=e.insert(s,Tc.newNoDocument(s,gl.min()));const n=Iu().add(s),i=new Nd(gl.min(),new Map,new Wl(fl),e,n);await yp(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),Cp(r)}else await Hh(r.localStore,t,!1).then(()=>kp(r,t,n)).catch(Il)}async function bp(e,t){const n=Zo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Zo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=jl.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Xo(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Iu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Ep(n,r,null),_p(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ip(n,e)}catch(e){await Il(e)}}async function xp(e,t,n){const r=Zo(e);try{const e=await function(e,t){const n=Zo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Xo(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Ep(r,t,n),_p(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ip(r,e)}catch(n){await Il(n)}}function _p(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function Ep(e,t,n){const r=Zo(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function kp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||Np(e,t)})}function Np(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(yf(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Cp(e))}function Sp(e,t,n){for(const r of n)r instanceof sp?(e.La.addReference(r.key,t),Tp(e,r)):r instanceof ap?(Go("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Np(e,r.key)):Jo()}function Tp(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Go("SyncEngine","New document in limbo: "+n),e.xa.add(r),Cp(e))}function Cp(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new xl(vl.fromString(t)),r=e.qa.next();e.Na.set(r,new cp(n)),e.Oa=e.Oa.insert(n,r),gf(e.remoteStore,new hh(ou(ru(n.path)),r,"TargetPurposeLimboResolution",Pl.oe))}}async function Ip(e,t,n){const r=Zo(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,o)=>{a.push(r.Ka(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Dh.Wi(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=Zo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>jl.forEach(t,t=>jl.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>jl.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Rl(e))throw e;Go("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function jp(e,t){const n=Zo(e);if(!n.currentUser.isEqual(t)){Go("SyncEngine","User change. New user:",t.toKey());const e=await Bh(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new tl(el.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ip(n,e.hs)}}function Ap(e,t){const n=Zo(e),r=n.Na.get(t);if(r&&r.va)return Iu().add(r.key);{let e=Iu();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Rp(e){const t=Zo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ap.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wp.bind(null,t),t.Ca.d_=Zf.bind(null,t.eventManager),t.Ca.$a=ep.bind(null,t.eventManager),t}function Pp(e){const t=Zo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xp.bind(null,t),t}class Op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Fh(this.persistence,new Mh,e.initialUser,this.serializer)}Ga(e){return new Rh(Oh.Zr,this.serializer)}Wa(e){return new Yh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Op.provider={build:()=>new Op};class Dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>vp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=jp.bind(null,this.syncEngine),await Bf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Yf}createDatastore(e){const t=af(e.databaseInfo.databaseId),n=function(e){return new rf(e)}(e.databaseInfo);return function(e,t,n,r){return new df(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ff(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>vp(this.syncEngine,e,0),Jh.D()?new Jh:new $h)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new up(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Zo(e);Go("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await mf(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Dp.provider={build:()=>new Dp};class Lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Mp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new tl(el.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Zo(e),r={documents:t.map(e=>Kd(n.serializer,e))},i=await n.Lo("BatchGetDocuments",n.serializer.databaseId,vl.emptyPath(),r,t.length),s=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Xo(!!t.found),t.found.name,t.found.updateTime;const n=Gd(e,t.found.name),r=zd(t.found.updateTime),i=t.found.createTime?zd(t.found.createTime):gl.min(),s=new Nc({mapValue:{fields:t.found.fields}});return Tc.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Xo(!!t.missing),Xo(!!t.readTime);const n=Gd(e,t.missing),r=zd(t.readTime);return Tc.newNoDocument(n,r)}(e,t):Jo()}(n.serializer,e);s.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=s.get(e.toString());Xo(!!t),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ld(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=xl.fromPath(t);this.mutations.push(new cd(n,this.precondition(n)))}),await async function(e,t){const n=Zo(e),r={writes:t.map(e=>Zd(n.serializer,e))};await n.Mo("Commit",n.serializer.databaseId,vl.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jo();t=gl.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new tl(el.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(gl.min())?Yu.exists(!1):Yu.updateTime(t):Yu.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gl.min()))throw new tl(el.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yu.updateTime(t)}return Yu.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Up{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this._u=n.maxAttempts,this.t_=new of(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new Mp(this.datastore),t=this.cu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.lu(e)}))}).catch(e=>{this.lu(e)})})}cu(e){try{const t=this.updateFunction(e);return!Ol(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!gd(t)}return!1}}class Fp{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=qo.UNAUTHENTICATED,this.clientId=hl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Go("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Go("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(We){const n=Wf(We,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Bp(e,t){e.asyncQueue.verifyOperationInProgress(),Go("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Bh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Vp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zp(e);Go("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Ff(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ff(t.remoteStore,n)),e._onlineComponents=t}async function zp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Go("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bp(e,e._uninitializedComponentsProvider._offline)}catch(We){const n=We;if(!function(e){return"FirebaseError"===e.name?e.code===el.FAILED_PRECONDITION||e.code===el.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await Bp(e,new Op)}}else Go("FirestoreClient","Using default OfflineComponentProvider"),await Bp(e,new Op);return e._offlineComponents}async function qp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Go("FirestoreClient","Using user provided OnlineComponentProvider"),await Vp(e,e._uninitializedComponentsProvider._online)):(Go("FirestoreClient","Using default OnlineComponentProvider"),await Vp(e,new Dp))),e._onlineComponents}function Wp(e){return qp(e).then(e=>e.syncEngine)}function Hp(e){return qp(e).then(e=>e.datastore)}async function Kp(e){const t=await qp(e),n=t.eventManager;return n.onListen=dp.bind(null,t.syncEngine),n.onUnlisten=mp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=hp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gp.bind(null,t.syncEngine),n}function Gp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new nl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Lp({next:o=>{s.Za(),t.enqueueAndForget(()=>Xf(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new tl(el.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new tl(el.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new ip(ru(n.path),s,{includeMetadataChanges:!0,_a:!0});return Jf(e,a)}(await Kp(e),e.asyncQueue,t,n,r)),r.promise}function Qp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new nl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Lp({next:n=>{s.Za(),t.enqueueAndForget(()=>Xf(e,a)),n.fromCache&&"server"===r.source?i.reject(new tl(el.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new ip(n,s,{includeMetadataChanges:!0,_a:!0});return Jf(e,a)}(await Kp(e),e.asyncQueue,t,n,r)),r.promise}function Yp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const $p=new Map;function Jp(e,t,n){if(!n)throw new tl(el.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xp(e){if(!xl.isDocumentKey(e))throw new tl(el.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zp(e){if(xl.isDocumentKey(e))throw new tl(el.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function em(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Jo()}function tm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tl(el.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=em(e);throw new tl(el.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function nm(e,t){if(t<=0)throw new tl(el.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class rm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new tl(el.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tl(el.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new tl(el.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new tl(el.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new tl(el.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new tl(el.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tl(el.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tl(el.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new il;switch(e.type){case"firstParty":return new ll(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new tl(el.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$p.get(e);t&&(Go("ComponentProvider","Removing Datastore"),$p.delete(e),t.terminate())}(this),Promise.resolve()}}class sm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sm(this.firestore,e,this._query)}}class am{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new om(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new am(this.firestore,e,this._key)}}class om extends sm{constructor(e,t,n){super(e,t,ru(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new am(this.firestore,null,new xl(e))}withConverter(e){return new om(this.firestore,e,this._path)}}function lm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=On(e),Jp("collection","path",t),e instanceof im){const n=vl.fromString(t,...r);return Zp(n),new om(e,null,n)}{if(!(e instanceof am||e instanceof om))throw new tl(el.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vl.fromString(t,...r));return Zp(n),new om(e.firestore,null,n)}}function cm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=On(e),1===arguments.length&&(t=hl.newId()),Jp("doc","path",t),e instanceof im){const n=vl.fromString(t,...r);return Xp(n),new am(e,null,new xl(n))}{if(!(e instanceof am||e instanceof om))throw new tl(el.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vl.fromString(t,...r));return Xp(n),new am(e.firestore,e instanceof om?e.converter:null,new xl(n))}}class um{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new of(this,"async_queue_retry"),this.Vu=()=>{const e=sf();e&&Go("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=sf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=sf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new nl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(qe){if(!Rl(qe))throw qe;Go("AsyncQueue","Operation failed with retryable error: "+qe)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Qo("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=qf.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&Jo()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class dm extends im{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new um,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new um(e),this._firestoreClient=void 0,await e}}}function hm(e){if(e._terminated)throw new tl(el.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||fm(e),e._firestoreClient}function fm(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new sc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Yp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Fp(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class pm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pm(Jl.fromBase64String(e))}catch(e){throw new tl(el.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new pm(Jl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new tl(el.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gm{constructor(e){this._methodName=e}}class ym{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tl(el.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tl(el.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fl(this._lat,e._lat)||fl(this._long,e._long)}}class vm{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const wm=/^__.*__$/;class bm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new id(e,this.data,this.fieldMask,t,this.fieldTransforms):new rd(e,this.data,t,this.fieldTransforms)}}class xm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new id(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _m(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jo()}}class Em{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Em(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Bm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(_m(this.Cu)&&wm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class km{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||af(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Em({Cu:e,methodName:t,qu:n,path:bl.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nm(e){const t=e._freezeSettings(),n=af(e._databaseId);return new km(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Lm("Data must be an object, but it was:",a,r);const o=Om(r,a);let l,c;if(s.merge)l=new Yl(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Mm(t,r,n);if(!a.contains(i))throw new tl(el.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Vm(e,i)||e.push(i)}l=new Yl(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new bm(new Nc(o),l,c)}class Tm extends gm{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tm}}class Cm extends gm{_toFieldTransform(e){return new Gu(e.path,new Fu)}isEqual(e){return e instanceof Cm}}class Im extends gm{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new Wu(e.serializer,Ou(e.serializer,this.$u));return new Gu(e.path,t)}isEqual(e){return e instanceof Im&&this.$u===e.$u}}function jm(e,t,n,r){const i=e.Qu(1,t,n);Lm("Data must be an object, but it was:",i,r);const s=[],a=Nc.empty();zl(r,(e,r)=>{const o=Fm(t,e,n);r=On(r);const l=i.Nu(o);if(r instanceof Tm)s.push(o);else{const e=Pm(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new Yl(s);return new xm(a,o,i.fieldTransforms)}function Am(e,t,n,r,i,s){const a=e.Qu(1,t,n),o=[Mm(t,r,n)],l=[i];if(s.length%2!=0)throw new tl(el.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Mm(t,s[h])),l.push(s[h+1]);const c=[],u=Nc.empty();for(let h=o.length-1;h>=0;--h)if(!Vm(c,o[h])){const e=o[h];let t=l[h];t=On(t);const n=a.Nu(e);if(t instanceof Tm)c.push(e);else{const r=Pm(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Yl(c);return new xm(u,d,a.fieldTransforms)}function Rm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Pm(n,e.Qu(r?4:3,t))}function Pm(e,t){if(Dm(e=On(e)))return Lm("Unsupported field value:",t,e),Om(e,t);if(e instanceof gm)return function(e,t){if(!_m(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Pm(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=On(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ou(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ml.fromDate(e);return{timestampValue:Fd(t.serializer,n)}}if(e instanceof ml){const n=new ml(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fd(t.serializer,n)}}if(e instanceof ym)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof pm)return{bytesValue:Bd(t.serializer,e._byteString)};if(e instanceof am){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:qd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof vm)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return Ru(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(em(e)))}(e,t)}function Om(e,t){const n={};return ql(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zl(e,(e,r)=>{const i=Pm(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Dm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ml||e instanceof ym||e instanceof pm||e instanceof am||e instanceof gm||e instanceof vm)}function Lm(e,t,n){if(!Dm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=em(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Mm(e,t,n){if((t=On(t))instanceof mm)return t._internalPath;if("string"==typeof t)return Fm(e,t);throw Bm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Um=new RegExp("[~\\*/\\[\\]]");function Fm(e,t,n){if(t.search(Um)>=0)throw Bm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new mm(...t.split("."))._internalPath}catch(r){throw Bm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Bm(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new tl(el.INVALID_ARGUMENT,o+e+l)}function Vm(e,t){return e.some(e=>e.isEqual(t))}class zm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new am(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qm extends zm{data(){return super.data()}}function Wm(e,t){return"string"==typeof t?Fm(e,t):t instanceof mm?t._internalPath:t._delegate._internalPath}function Hm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new tl(el.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Km{}class Gm extends Km{}function Qm(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Km&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Jm).length,n=e.filter(e=>e instanceof Ym).length;if(t>1||t>0&&n>0)throw new tl(el.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Ym extends Gm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ym(e,t,n)}_apply(e){const t=this._parse(e);return ig(e._query,t),new sm(e.firestore,e.converter,cu(e._query,t))}_parse(e){const t=Nm(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new tl(el.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){rg(a,s);const t=[];for(const n of a)t.push(ng(r,e,n));o={arrayValue:{values:t}}}else o=ng(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||rg(a,s),o=Rm(n,t,a,"in"===s||"not-in"===s);return Oc.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function $m(e,t,n){const r=t,i=Wm("where",e);return Ym._create(i,r,n)}class Jm extends Km{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jm(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Dc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ig(n,i),n=cu(n,i)}(e._query,t),new sm(e.firestore,e.converter,cu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Xm extends Gm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new tl(el.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new tl(el.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(t,n)}(e._query,this._field,this._direction);return new sm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new tu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Zm(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Wm("orderBy",e);return Xm._create(n,t)}class eg extends Gm{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new eg(e,t,n)}_apply(e){return new sm(e.firestore,e.converter,uu(e._query,this._limit,this._limitType))}}function tg(e){return nm("limit",e),eg._create("limit",e,"F")}function ng(e,t,n){if("string"==typeof(n=On(n))){if(""===n)throw new tl(el.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!su(t)&&-1!==n.indexOf("/"))throw new tl(el.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(vl.fromString(n));if(!xl.isDocumentKey(r))throw new tl(el.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gc(e,new xl(r))}if(n instanceof am)return gc(e,n._key);throw new tl(el.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(em(n),"."))}function rg(e,t){if(!Array.isArray(e)||0===e.length)throw new tl(el.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ig(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new tl(el.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new tl(el.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function sg(e,t){if(!(t instanceof Ym||t instanceof Jm))throw new tl(el.INVALID_ARGUMENT,"Function ".concat(e,"() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'."))}class ag{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ec(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Jo()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return zl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>ec(e.doubleValue));return new vm(i)}convertGeoPoint(e){return new ym(ec(e.latitude),ec(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=rc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const t=Zl(e);return new ml(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=vl.fromString(e);Xo(dh(n));const r=new ac(n.get(1),n.get(3)),i=new xl(n.popFirst(5));return r.isEqual(t)||Qo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function og(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class lg extends ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new pm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new am(this.firestore,null,t)}}class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ug extends zm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Wm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class dg extends ug{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class hg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new cg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new dg(this._firestore,this._userDataWriter,n.key,n,new cg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new tl(el.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new dg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new cg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new dg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:fg(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function fg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jo()}}function pg(e){e=tm(e,am);const t=tm(e.firestore,dm);return Gp(hm(t),e._key).then(n=>bg(t,e,n))}class mg extends ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new pm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new am(this.firestore,null,t)}}function gg(e){e=tm(e,sm);const t=tm(e.firestore,dm),n=hm(t),r=new mg(t);return Hm(e._query),Qp(n,e._query).then(n=>new hg(t,r,e,n))}function yg(e,t,n){e=tm(e,am);const r=tm(e.firestore,dm),i=og(e.converter,t,n);return wg(r,[Sm(Nm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Yu.none())])}function vg(e,t,n){e=tm(e,am);const r=tm(e.firestore,dm),i=Nm(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=On(t))||t instanceof mm?Am(i,"updateDoc",e._key,t,n,o):jm(i,"updateDoc",e._key,t),wg(r,[s.toMutation(e._key,Yu.exists(!0))])}function wg(e,t){return function(e,t){const n=new nl;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Pp(e);try{const e=await function(e,t){const n=Zo(e),r=ml.now(),i=t.reduce((e,t)=>e.add(t.key),Iu());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=bu(),l=Iu();return n.cs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=td(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new id(e.key,t,Sc(t.value.mapValue),Yu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Eu(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Wl(fl)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ip(r,e.changes),await jf(r.remoteStore)}catch(e){const t=Wf(e,"Failed to persist write");n.reject(t)}}(await Wp(e),t,n)),n.promise}(hm(e),t)}function bg(e,t,n){const r=n.docs.get(t._key),i=new mg(e);return new ug(e,i,t._key,r,new cg(n.hasPendingWrites,n.fromCache),t.converter)}const xg={maxAttempts:5};function _g(e,t){if((e=On(e)).firestore!==t)throw new tl(el.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Eg extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nm(e)}get(e){const t=_g(e,this._firestore),n=new lg(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Jo();const r=e[0];if(r.isFoundDocument())return new zm(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new zm(this._firestore,n,t._key,null,t.converter);throw Jo()})}set(e,t,n){const r=_g(e,this._firestore),i=og(r.converter,t,n),s=Sm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=_g(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=On(t))||t instanceof mm?Am(this._dataReader,"Transaction.update",r._key,t,n,a):jm(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=_g(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_g(e,this._firestore),n=new mg(this._firestore);return super.get(e).then(e=>new ug(this._firestore,n,t._key,e._document,new cg(!1,!1),t.converter))}}function kg(e,t,n){e=tm(e,dm);const r=Object.assign(Object.assign({},xg),n);return function(e){if(e.maxAttempts<1)throw new tl(el.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new nl;return e.asyncQueue.enqueueAndForget(async()=>{const i=await Hp(e);new Up(e.asyncQueue,i,n,t,r).au()}),r.promise}(hm(e),n=>t(new Eg(e,n)),r)}function Ng(){return new Cm("serverTimestamp")}function Sg(e){return new Im("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wo=e}($r),Hr(new Dn("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new dm(new al(e.getProvider("auth-internal")),new ul(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tl(el.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Zr(zo,"4.7.3",e),Zr(zo,"4.7.3","esm2017")}();Zr("firebase","10.14.1","app");const Tg="firebasestorage.googleapis.com",Cg="storageBucket";class Ig extends En{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Rg(e),"Firebase Storage: ".concat(t," (").concat(Rg(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ig.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var jg,Ag;function Rg(e){return"storage/"+e}function Pg(){return new Ig(jg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Og(){return new Ig(jg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dg(){return new Ig(jg.CANCELED,"User canceled the upload/download.")}function Lg(){return new Ig(jg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Mg(e){return new Ig(jg.INVALID_ARGUMENT,e)}function Ug(){return new Ig(jg.APP_DELETED,"The Firebase app was deleted.")}function Fg(e,t){return new Ig(jg.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Bg(e){throw new Ig(jg.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(jg||(jg={}));class Vg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Vg.makeFromUrl(e,t)}catch(qe){return new Vg(e,"")}if(""===n.path)return n;throw r=e,new Ig(jg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Tg?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Vg(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Ig(jg.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class zg{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function qg(e){return"string"===typeof e||e instanceof String}function Wg(e){return Hg()&&e instanceof Blob}function Hg(){return"undefined"!==typeof Blob}function Kg(e,t,n,r){if(r<t)throw Mg("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Mg("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Gg(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Qg(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Yg(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ag||(Ag={}));class $g{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Jg(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Ag.NO_ERROR,i=n.getStatus();if(!t||Yg(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Ag.ABORT;return void e(!1,new Jg(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Jg(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(qe){r(qe)}else if(null!==i){const e=Pg();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Ug():Dg())}else{r(Og())}};this.canceled_?t(0,new Jg(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jg{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Xg(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Zg(){const e=Xg();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Hg())return new Blob(n);throw new Ig(jg.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function ey(e){if("undefined"===typeof atob)throw t="base-64",new Ig(jg.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const ty="raw",ny="base64",ry="base64url",iy="data_url";class sy{constructor(e,t){this.data=e,this.contentType=t||null}}function ay(e,t){switch(e){case ty:return new sy(oy(t));case ny:case ry:return new sy(ly(e,t));case iy:return new sy(function(e){const t=new cy(e);return t.base64?ly(ny,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(qe){throw Fg(iy,"Malformed data URL.")}return oy(t)}(t.rest)}(t),new cy(t).contentType)}throw Pg()}function oy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ly(e,t){switch(e){case ny:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Fg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case ry:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Fg(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ey(t)}catch(qe){if(qe.message.includes("polyfill"))throw qe;throw Fg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class cy{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Fg(iy,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class uy{constructor(e,t){let n=0,r="";Wg(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Wg(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new uy(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new uy(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Hg()){const e=t.map(e=>e instanceof uy?e.data_:e);return new uy(Zg.apply(null,e))}{const e=t.map(e=>qg(e)?ay(ty,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new uy(r,!0)}}uploadData(){return this.data_}}function dy(e){let t;try{t=JSON.parse(e)}catch(qe){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function hy(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function fy(e,t){return t}class py{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||fy}}let my=null;function gy(){if(my)return my;const e=[];e.push(new py("bucket")),e.push(new py("generation")),e.push(new py("metageneration")),e.push(new py("name","fullPath",!0));const t=new py("name");t.xform=function(e,t){return function(e){return!qg(e)||e.length<2?e:hy(e)}(t)},e.push(t);const n=new py("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new py("timeCreated")),e.push(new py("updated")),e.push(new py("md5Hash",null,!0)),e.push(new py("cacheControl",null,!0)),e.push(new py("contentDisposition",null,!0)),e.push(new py("contentEncoding",null,!0)),e.push(new py("contentLanguage",null,!0)),e.push(new py("contentType",null,!0)),e.push(new py("metadata","customMetadata",!0)),my=e,my}function yy(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Vg(n,r);return t._makeStorageReference(i)}})}(r,e),r}function vy(e,t,n){const r=dy(t);if(null===r)return null;return yy(e,r,n)}function wy(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class by{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xy(e){if(!e)throw Pg()}function _y(e,t){return function(n,r){const i=vy(e,r,t);return xy(null!==i),i}}function Ey(e,t){return function(n,r){const i=vy(e,r,t);return xy(null!==i),function(e,t,n,r){const i=dy(t);if(null===i)return null;if(!qg(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(t=>{const i=e.bucket,s=e.fullPath;return Gg("/b/"+a(i)+"/o/"+a(s),n,r)+Qg({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function ky(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ig(jg.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Ig(jg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Ig(jg.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ig(jg.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Ny(e){const t=ky(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Ig(jg.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Sy(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Ty(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=Sy(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wy(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=uy.getBlob(c,r,u);if(null===d)throw Lg();const h={name:l.fullPath},f=Gg(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new by(f,"POST",_y(e,n),p);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=ky(t),m}class Cy{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ag.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ag.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ag.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw Bg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(qe){return-1}}getResponse(){if(!this.sent_)throw Bg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Iy extends Cy{initXhr(){this.xhr_.responseType="text"}}function jy(){return new Iy}class Ay{constructor(e,t){this._service=e,this._location=t instanceof Vg?t:Vg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ay(e,t)}get root(){const e=new Vg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hy(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Vg(this._location.bucket,e);return new Ay(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Ig(jg.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Ry(e,t,n){e._throwIfRoot("uploadBytes");const r=Ty(e.storage,e._location,gy(),new uy(t,!0),n);return e.storage.makeRequestWithTokens(r,jy).then(t=>({metadata:t,ref:e}))}function Py(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Gg(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new by(r,"GET",Ey(e,n),i);return s.errorHandler=Ny(t),s}(e.storage,e._location,gy());return e.storage.makeRequestWithTokens(t,jy).then(e=>{if(null===e)throw new Ig(jg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function Oy(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Vg(e._location.bucket,n);return new Ay(e.storage,r)}function Dy(e,t){if(e instanceof Uy){const n=e;if(null==n._bucket)throw new Ig(jg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Cg+"' property when initializing the app?");const r=new Ay(n,n._bucket);return null!=t?Dy(r,t):r}return void 0!==t?Oy(e,t):e}function Ly(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Uy)return new Ay(e,t);throw Mg("To use ref(service, url), the first argument must be a Storage instance.")}return Dy(e,t)}function My(e,t){const n=null===t||void 0===t?void 0:t[Cg];return null==n?null:Vg.makeFromBucketSpec(n,e)}class Uy{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Tg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Vg.makeFromBucketSpec(r,this._host):My(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Vg.makeFromBucketSpec(this._url,e):this._bucket=My(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Kg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Kg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ay(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new zg(Ug());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Qg(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new $g(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Fy="@firebase/storage",By="0.13.2",Vy="storage";function zy(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Uy(r,i,s,n,$r)}Hr(new Dn(Vy,zy,"PUBLIC").setMultipleInstances(!0)),Zr(Fy,By,""),Zr(Fy,By,"esm2017");const qy="@firebase/installations",Wy="0.6.9",Hy=1e4,Ky="w:".concat(Wy),Gy="FIS_v2",Qy=36e5,Yy=new kn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $y(e){return e instanceof En&&e.code.includes("request-failed")}function Jy(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Xy(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Zy(e,t){const n=(await t.json()).error;return Yy.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ev(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function tv(e,t){let{refreshToken:n}=t;const r=ev(e);return r.append("Authorization",function(e){return"".concat(Gy," ").concat(e)}(n)),r}async function nv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function rv(e){return new Promise(t=>{setTimeout(t,e)})}const iv=/^[cdef][\w-]{21}$/;function sv(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return iv.test(t)?t:""}catch(e){return""}}function av(e){return"".concat(e.appName,"!").concat(e.appId)}const ov=new Map;function lv(e,t){const n=av(e);cv(n,t),function(e,t){const n=dv();n&&n.postMessage({key:e,fid:t});hv()}(n,t)}function cv(e,t){const n=ov.get(e);if(n)for(const r of n)r(t)}let uv=null;function dv(){return!uv&&"BroadcastChannel"in self&&(uv=new BroadcastChannel("[Firebase] FID Change"),uv.onmessage=e=>{cv(e.data.key,e.data.fid)}),uv}function hv(){0===ov.size&&uv&&(uv.close(),uv=null)}const fv="firebase-installations-store";let pv=null;function mv(){return pv||(pv=ir("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(fv)}})),pv}async function gv(e,t){const n=av(e),r=(await mv()).transaction(fv,"readwrite"),i=r.objectStore(fv),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||lv(e,t.fid),t}async function yv(e){const t=av(e),n=(await mv()).transaction(fv,"readwrite");await n.objectStore(fv).delete(t),await n.done}async function vv(e,t){const n=av(e),r=(await mv()).transaction(fv,"readwrite"),i=r.objectStore(fv),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||lv(e,a.fid),a}async function wv(e){let t;const n=await vv(e.appConfig,n=>{const r=function(e){const t=e||{fid:sv(),registrationStatus:0};return _v(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Yy.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=Jy(n),a=ev(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:Gy,appId:n.appId,sdkVersion:Ky},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await nv(()=>fetch(s,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Xy(e.authToken)}}throw await Zy("Create Installation",u)}(e,t);return gv(e.appConfig,n)}catch(qe){throw $y(qe)&&409===qe.customData.serverCode?await yv(e.appConfig):await gv(e.appConfig,{fid:t.fid,registrationStatus:0}),qe}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:bv(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function bv(e){let t=await xv(e.appConfig);for(;1===t.registrationStatus;)await rv(100),t=await xv(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await wv(e);return n||t}return t}function xv(e){return vv(e,e=>{if(!e)throw Yy.create("installation-not-found");return _v(e)})}function _v(e){return 1===(t=e).registrationStatus&&t.registrationTime+Hy<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Ev(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Jy(e),"/").concat(n,"/authTokens:generate")}(n,t),s=tv(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:Ky,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await nv(()=>fetch(i,l));if(c.ok){return Xy(await c.json())}throw await Zy("Generate Auth Token",c)}async function kv(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await vv(e.appConfig,r=>{if(!Sv(r))throw Yy.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Qy}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Nv(e.appConfig);for(;1===n.authToken.requestStatus;)await rv(100),n=await Nv(e.appConfig);const r=n.authToken;return 0===r.requestStatus?kv(e,t):r}(e,n),r;{if(!navigator.onLine)throw Yy.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Ev(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await gv(e.appConfig,r),n}catch(qe){if(!$y(qe)||401!==qe.customData.serverCode&&404!==qe.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await gv(e.appConfig,n)}else await yv(e.appConfig);throw qe}}(e,n),n}});return t?await t:r.authToken}function Nv(e){return vv(e,e=>{if(!Sv(e))throw Yy.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Hy<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function Sv(e){return void 0!==e&&2===e.registrationStatus}async function Tv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await wv(e);t&&await t}(n);return(await kv(n,t)).token}function Cv(e){return Yy.create("missing-app-config-values",{valueName:e})}const Iv="installations",jv=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Cv("App Configuration");if(!e.name)throw Cv("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Cv(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Kr(t,"heartbeat"),_delete:()=>Promise.resolve()}},Av=e=>{const t=Kr(e.getProvider("app").getImmediate(),Iv).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await wv(t);return r?r.catch(console.error):kv(t).catch(console.error),n.fid}(t),getToken:e=>Tv(t,e)}};Hr(new Dn(Iv,jv,"PUBLIC")),Hr(new Dn("installations-internal",Av,"PRIVATE")),Zr(qy,Wy),Zr(qy,Wy,"esm2017");const Rv="analytics",Pv="https://www.googletagmanager.com/gtag/js",Ov=new Hn("@firebase/analytics"),Dv=new kn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Lv(e){if(!e.startsWith(Pv)){const t=Dv.create("invalid-gtag-resource",{gtagURL:e});return Ov.warn(t.message),""}return e}function Mv(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Uv(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Lv}),r=document.createElement("script"),i="".concat(Pv,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Fv(e,t,n,r){return async function(i){try{for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Mv(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(qe){Ov.error(qe)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=a;await async function(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const e=(await Mv(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(qe){Ov.error(qe)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(qe){Ov.error(qe)}}}const Bv=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Vv(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function zv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bv,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Dv.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Dv.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Wv;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),qv({appId:r,apiKey:i,measurementId:s},a,o,t)}async function qv(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Bv;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Dv.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(qe){if(l)return Ov.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===qe||void 0===qe?void 0:qe.message,"]")),{appId:o,measurementId:l};throw qe}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Vv(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(s,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw Dv.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return s.deleteThrottleMetadata(o),t}catch(qe){const r=qe;if(!function(e){if(!(e instanceof En)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(o),l)return Ov.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:o,measurementId:l};throw qe}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?Pn(i,s.intervalMillis,30):Pn(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(o,u),Ov.debug("Calling attemptFetch again in ".concat(c," millis")),qv(e,u,n,s)}}class Wv{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Hv,Kv;function Gv(e){Kv=e}function Qv(e){Hv=e}async function Yv(e,t,n,r,i,s,a){var o;const l=zv(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Ov.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>Ov.error(e)),t.push(l);const c=async function(){if(!xn())return Ov.warn(Dv.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await _n()}catch(qe){return Ov.warn(Dv.create("indexeddb-unavailable",{errorInfo:null===qe||void 0===qe?void 0:qe.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Pv)&&n.src.includes(e))return n;return null})(s)||Uv(s,u.measurementId),Kv&&(i("consent","default",Kv),Gv(void 0)),i("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),Hv&&(i("set",Hv),Qv(void 0)),u.measurementId}class $v{constructor(e){this.app=e}_delete(){return delete Jv[this.app.options.appId],Promise.resolve()}}let Jv={},Xv=[];const Zv={};let ew,tw,nw="dataLayer",rw="gtag",iw=!1;function sw(){const e=[];if(wn()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=Dv.create("invalid-analytics-context",{errorInfo:t});Ov.warn(n.message)}}function aw(e,t,n){sw();const r=e.options.appId;if(!r)throw Dv.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Dv.create("no-api-key");Ov.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Jv[r])throw Dv.create("already-exists",{id:r});if(!iw){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(nw);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=Fv(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Jv,Xv,Zv,nw,rw);tw=e,ew=t,iw=!0}Jv[r]=Yv(e,Xv,Zv,t,ew,nw,n);return new $v(e)}function ow(e,t,n,r){e=On(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(tw,Jv[e.app.options.appId],t,n,r).catch(e=>Ov.error(e))}const lw="@firebase/analytics",cw="0.10.8";Hr(new Dn(Rv,(e,t)=>{let{options:n}=t;return aw(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Hr(new Dn("analytics-internal",function(e){try{const t=e.getProvider(Rv).getImmediate();return{logEvent:(e,n,r)=>ow(t,e,n,r)}}catch(qe){throw Dv.create("interop-component-reg-failed",{reason:qe})}},"PRIVATE")),Zr(lw,cw),Zr(lw,cw,"esm2017");const uw=["REACT_APP_FIREBASE_API_KEY","REACT_APP_FIREBASE_AUTH_DOMAIN","REACT_APP_FIREBASE_PROJECT_ID","REACT_APP_FIREBASE_STORAGE_BUCKET","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","REACT_APP_FIREBASE_APP_ID"].filter(e=>!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:5000",REACT_APP_ENVIRONMENT:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyDt3ilVFm5BryPqb2DeXPF0mCXiWbvU7H8",REACT_APP_FIREBASE_APP_ID:"1:624853863549:web:b5c22a8c65db67d5949a6a",REACT_APP_FIREBASE_AUTH_DOMAIN:"skillwagers.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-7YFELE6P82",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"624853863549",REACT_APP_FIREBASE_PROJECT_ID:"skillwagers",REACT_APP_FIREBASE_STORAGE_BUCKET:"skillwagers.appspot.com"}[e]);if(uw.length>0)throw console.error("Missing required Firebase environment variables:",uw),new Error("Missing Firebase configuration: ".concat(uw.join(", ")));const dw=Jr({apiKey:"AIzaSyDt3ilVFm5BryPqb2DeXPF0mCXiWbvU7H8",authDomain:"skillwagers.firebaseapp.com",projectId:"skillwagers",storageBucket:"skillwagers.appspot.com",messagingSenderId:"624853863549",appId:"1:624853863549:web:b5c22a8c65db67d5949a6a",measurementId:"G-7YFELE6P82"}),hw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr();const t=Kr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Kr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Sn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;gi(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:xo,persistence:[Ra,ma,ya]}),r=mn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>No)return;const r=null===t||void 0===t?void 0:t.token;So!==r&&(So=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){On(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){On(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=hn("auth");return s&&Rs(n,"http://".concat(s)),n}(dw),fw=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Kr("object"==typeof e?e:Xr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=fn("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=tm(e,im))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=qo.MOCK_USER;else{t=yn(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new tl(el.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new qo(s)}e._authCredentials=new sl(new rl(t,n))}}(r,...e)}return r}(dw),pw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr(),t=arguments.length>1?arguments[1]:void 0;e=On(e);const n=Kr(e,Vy).getImmediate({identifier:t}),r=fn("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:yn(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(dw);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr();e=On(e);const t=Kr(e,Rv);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Kr(e,Rv);if(n.isInitialized()){const e=n.getImmediate();if(Sn(t,n.getOptions()))return e;throw Dv.create("already-initialized")}const r=n.initialize({options:t})}(e)}(dw);var mw=n(579);const gw=(0,s.createContext)(),yw=()=>{const e=(0,s.useContext)(gw);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},vw=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(null),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null),d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;const n=cm(fw,"users",e.uid),r=await pg(n);if(r.exists()){const i=ze({lastLoginAt:Ng(),email:e.email,displayName:e.displayName||r.data().displayName,photoURL:null!==e.photoURL?e.photoURL:r.data().photoURL},t);return await vg(n,i),ze(ze({},r.data()),i)}{const r=ze({uid:e.uid,email:e.email,displayName:e.displayName||t.displayName||"",photoURL:e.photoURL||null,createdAt:Ng(),lastLoginAt:Ng(),betaBalance:100,lastDailyRewardAt:null,stats:{wins:0,losses:0,totalChallenges:0}},t);return await yg(n,r),r}},h=async e=>{try{const t=cm(fw,"users",e),n=await pg(t);return n.exists()?n.data():null}catch(t){return console.error("Error fetching user profile:",t),null}};(0,s.useEffect)(()=>{const e=function(e,t,n,r){return On(e).onAuthStateChanged(t,n,r)}(hw,async e=>{if(r(e),e)try{const t=await d(e);a(t)}catch(t){console.error("Error handling user auth state:",t);const n=await h(e.uid);a(n)}else a(null);l(!1)});return e},[]);const f=async()=>{try{if(!n)throw new Error("No authenticated user");const e=await h(n);return a(e),e}catch(e){throw console.error("Error refreshing profile:",e),e}},p={currentUser:n,userProfile:i,token:c,login:async(e,t)=>{const n=await function(e,t,n){return Gr(e.app)?Promise.reject(wi(e)):oa(On(e),Ks.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ca(e),t})}(hw,e,t);return n.user},register:async(e,t,n,r)=>{const i=await async function(e,t,n){if(Gr(e.app))return Promise.reject(wi(e));const r=ks(e),i=As(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zs),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ca(e),t}),a=await ea._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(hw,e,t),s=i.user;await ua(s,{displayName:n});const o=await d(s,{displayName:n,dateOfBirth:r,betaUser:!0});return a(o),s},googleSignIn:async()=>{const e=new $s,t=await async function(e,t,n){if(Gr(e.app))return Promise.reject(yi(e,"operation-not-supported-in-this-environment"));const r=ks(e);bi(e,t,Gs);const i=La(r,n);return new qa(r,"signInViaPopup",t,i).executeNotNull()}(hw,e),n=t.user,r=await d(n,{betaUser:!0,provider:"google"});return a(r),n},logout:async()=>{await da(hw),r(null),a(null),u(null)},updateUserProfile:async e=>{try{if(!n)throw new Error("No authenticated user");const t=cm(fw,"users",n.uid);await vg(t,ze(ze({},e),{},{updatedAt:new Date}));const r=await h(n);return a(r),r}catch(t){throw console.error("Error updating profile:",t),t}},verifyAge:async e=>{try{if(!n)throw new Error("No authenticated user");const t=new Date(e),r=new Date,i=r.getFullYear()-t.getFullYear(),s=r.getMonth()-t.getMonth();if(!(i>18||18===i&&s>0||18===i&&0===s&&r.getDate()>=t.getDate()))throw new Error("Must be 18 years or older to use this platform");const o=cm(fw,"users",n.uid);return await vg(o,{ageVerified:!0,dateOfBirth:e,ageVerifiedAt:new Date}),a(t=>ze(ze({},t),{},{ageVerified:!0,dateOfBirth:e})),{success:!0,ageVerified:!0}}catch(t){throw console.error("Error verifying age:",t),t}},refreshProfile:f,claimDailyReward:async()=>{try{if(!n)throw new Error("No authenticated user");const e=cm(fw,"users",n.uid),t=await kg(fw,async t=>{var n;const r=await t.get(e);if(!r.exists())throw new Error("User document not found");const i=r.data(),s=new Date,a=null===(n=i.lastDailyRewardAt)||void 0===n?void 0:n.toDate();if(a){const e=s-a,t=864e5;if(e<t){const n=t-e;throw new Error("Daily reward already claimed. Next reward in ".concat(Math.ceil(n/6e4)," minutes."))}}return t.update(e,{betaBalance:Sg(100),lastDailyRewardAt:Ng(),"stats.totalRewardsClaimed":Sg(1)}),{success:!0,amount:100,newBalance:(i.betaBalance||0)+100}});return await f(),t}catch(e){throw console.error("Error claiming daily reward:",e),e}},claimDevFunds:async()=>{try{if(!n)throw new Error("No authenticated user");const e=cm(fw,"users",n.uid);return await vg(e,{betaBalance:Sg(100),lastDevFundsClaim:new Date,"stats.totalFundsClaimed":Sg(100)}),await f(),{success:!0,amount:100}}catch(e){throw console.error("Error claiming dev funds:",e),e}},loading:o};return(0,mw.jsx)(gw.Provider,{value:p,children:!o&&t})},ww=e=>{let{size:t="sm",className:n=""}=e;return(0,mw.jsx)("span",{className:"inline-flex items-center ".concat({xs:"px-1 py-0.5 text-xs",sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base"}[t]," font-semibold bg-gradient-to-r from-primaryAccent to-red-500 text-white rounded-full shadow-sm animate-pulse ").concat(n),children:"BETA"})};function bw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const xw=["title","titleId"];function _w(e,t){let{title:n,titleId:r}=e,i=bw(e,xw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ew=s.forwardRef(_w),kw=()=>{const{currentUser:e,userProfile:t,claimDailyReward:n}=yw(),[r,i]=(0,s.useState)(!1),[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(!1),h=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(null===t||void 0===t||!t.lastDailyRewardAt)return c(!0),void o(null);const e=()=>{const e=t.lastDailyRewardAt.toDate(),n=new Date-e,r=864e5;if(n>=r)c(!0),o(null);else{c(!1);o(r-n)}};e();const n=setInterval(e,6e4);return()=>clearInterval(n)},[null===t||void 0===t?void 0:t.lastDailyRewardAt]),(0,s.useEffect)(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);if(!e)return null;const f=(null===t||void 0===t?void 0:t.betaBalance)||0;return(0,mw.jsxs)("div",{className:"relative",ref:h,children:[(0,mw.jsxs)("div",{className:"flex items-center gap-2 bg-gray-800 rounded-lg px-3 py-2 border border-gray-700 hover:border-primaryAccent transition-colors cursor-pointer",onClick:()=>i(!r),children:[(0,mw.jsx)("span",{className:"text-yellow-400 text-sm",children:"\ud83e\ude99"}),(0,mw.jsx)("span",{className:"text-white font-medium text-sm",children:f.toLocaleString()}),(0,mw.jsx)("button",{className:"p-1 rounded-full transition-colors ".concat(l?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"),disabled:!l,title:l?"Claim daily reward":"Daily reward not available yet",children:(0,mw.jsx)(Ew,{className:"w-3 h-3"})})]}),r&&(0,mw.jsx)("div",{className:"absolute right-0 mt-2 w-72 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50 p-4",children:(0,mw.jsxs)("div",{className:"text-center",children:[(0,mw.jsx)("div",{className:"text-lg font-semibold text-white mb-2",children:"Daily Reward"}),(0,mw.jsx)("div",{className:"text-yellow-400 text-2xl mb-3",children:"\ud83e\ude99 +100"}),l?(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-gray-300 text-sm mb-4",children:"You can claim your daily reward now!"}),(0,mw.jsx)("button",{onClick:async()=>{if(l&&e&&!u){d(!0);try{await n(),i(!1)}catch(t){console.error("Error claiming reward:",t),alert(t.message||"Failed to claim reward. Please try again.")}finally{d(!1)}}},disabled:u,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors",children:u?"Claiming...":"Claim Reward"})]}):(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-gray-300 text-sm mb-2",children:"Next reward available in:"}),(0,mw.jsx)("div",{className:"text-primaryAccent font-mono text-lg mb-4",children:a?(e=>{const t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);return"".concat(t,"h ").concat(n,"m")})(a):"Calculating..."}),(0,mw.jsx)("button",{disabled:!0,className:"w-full bg-gray-600 text-gray-400 font-medium py-2 px-4 rounded-lg cursor-not-allowed",children:"Reward Claimed"})]}),(0,mw.jsx)("div",{className:"mt-4 p-3 bg-gray-700 rounded-lg",children:(0,mw.jsx)("p",{className:"text-xs text-gray-400",children:"\ud83d\udca1 Daily rewards reset every 24 hours. Come back tomorrow for another +100 coins!"})})]})})]})},Nw=["title","titleId"];function Sw(e,t){let{title:n,titleId:r}=e,i=bw(e,Nw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Tw=s.forwardRef(Sw),Cw=e=>{let{src:t,alt:n="User avatar",size:r="md",className:i="",fallbackInitials:a=""}=e;const[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!0),d={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16","2xl":"h-20 w-20"},h={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-7 w-7",xl:"h-10 w-10","2xl":"h-12 w-12"},f={sm:"text-xs",md:"text-sm",lg:"text-base",xl:"text-lg","2xl":"text-xl"};return!t||o?a?(0,mw.jsx)("div",{className:"".concat(d[r]," ").concat(i," rounded-full bg-blue-500 flex items-center justify-center text-white font-medium ").concat(f[r]),children:a.slice(0,2).toUpperCase()}):(0,mw.jsx)("div",{className:"".concat(d[r]," ").concat(i," rounded-full bg-gray-300 flex items-center justify-center text-gray-600"),children:(0,mw.jsx)(Tw,{className:h[r]})}):(0,mw.jsxs)("div",{className:"".concat(d[r]," ").concat(i," rounded-full overflow-hidden border border-gray-300 bg-gray-100"),children:[c&&(0,mw.jsx)("div",{className:"h-full w-full bg-gray-200 animate-pulse rounded-full flex items-center justify-center",children:(0,mw.jsx)(Tw,{className:"".concat(h[r]," text-gray-400")})}),(0,mw.jsx)("img",{src:t,alt:n,className:"h-full w-full object-cover ".concat(c?"hidden":"block"),onLoad:()=>{u(!1)},onError:()=>{l(!0),u(!1)},loading:"lazy"})]})},Iw=["title","titleId"];function jw(e,t){let{title:n,titleId:r}=e,i=bw(e,Iw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Aw=s.forwardRef(jw),Rw=["title","titleId"];function Pw(e,t){let{title:n,titleId:r}=e,i=bw(e,Rw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Ow=s.forwardRef(Pw),Dw=["title","titleId"];function Lw(e,t){let{title:n,titleId:r}=e,i=bw(e,Dw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Mw=s.forwardRef(Lw),Uw=["title","titleId"];function Fw(e,t){let{title:n,titleId:r}=e,i=bw(e,Uw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Bw=s.forwardRef(Fw),Vw=()=>{var e,t;const{currentUser:n,userProfile:r,logout:i}=yw(),[a,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),u=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&(o(!1),c(!1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);if(!n)return(0,mw.jsx)(Re,{to:"/auth",className:"rounded-xl border border-primaryAccent text-primaryAccent px-4 py-2 hover:bg-primaryAccent hover:text-white transition-colors text-sm font-medium",children:"Login/Register"});const d=[{label:"Profile",icon:Tw,href:"/profile",description:"Update picture and username"},{label:"Statistics",icon:Aw,href:"/profile?tab=stats",description:"View your performance stats"},{label:"Settings",icon:Ow,href:"/profile?tab=settings",description:"Email, password, age verification"}];return(0,mw.jsxs)("div",{className:"relative",ref:u,children:[(0,mw.jsxs)("button",{onClick:()=>o(!a),onKeyDown:e=>{"Escape"===e.key&&(o(!1),c(!1))},className:"flex items-center gap-3 hover:bg-gray-800 p-2 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-primaryAccent focus:ring-offset-2 focus:ring-offset-gray-900","aria-expanded":a,"aria-haspopup":"true",children:[(0,mw.jsx)(Cw,{src:n.photoURL,alt:(null===r||void 0===r?void 0:r.displayName)||n.displayName||"User",size:"md",fallbackInitials:(null===(e=(null===r||void 0===r?void 0:r.displayName)||n.displayName)||void 0===e?void 0:e.charAt(0))||(null===(t=n.email)||void 0===t?void 0:t.charAt(0))||"U"}),(0,mw.jsx)("span",{className:"text-sm text-gray-300 hidden sm:block",children:(null===r||void 0===r?void 0:r.displayName)||n.displayName||n.email}),(0,mw.jsx)(Mw,{className:"w-4 h-4 text-gray-400 transition-transform ".concat(a?"rotate-180":"")})]}),a&&(0,mw.jsx)("div",{className:"absolute right-0 mt-2 w-64 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-50",role:"menu","aria-orientation":"vertical",children:(0,mw.jsxs)("div",{className:"py-1",children:[d.map(e=>(0,mw.jsxs)(Re,{to:e.href,className:"flex items-center px-4 py-3 text-sm text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",role:"menuitem",onClick:()=>o(!1),children:[(0,mw.jsx)(e.icon,{className:"w-4 h-4 mr-3 text-gray-400"}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("div",{className:"font-medium",children:e.label}),(0,mw.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})]},e.label)),(0,mw.jsx)("div",{className:"border-t border-gray-700 mt-1 pt-1",children:(0,mw.jsxs)("button",{onClick:async()=>{if(l)try{await i(),o(!1),c(!1)}catch(e){console.error("Sign out error:",e)}else c(!0)},className:"flex items-center w-full px-4 py-3 text-sm transition-colors ".concat(l?"bg-red-600 text-white hover:bg-red-700":"text-gray-300 hover:bg-gray-700 hover:text-white"),role:"menuitem",children:[(0,mw.jsx)(Bw,{className:"w-4 h-4 mr-3 text-gray-400"}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("div",{className:"font-medium",children:l?"Confirm Sign Out":"Sign Out"}),(0,mw.jsx)("div",{className:"text-xs text-gray-500",children:l?"Click again to confirm":"End your session"})]})]})})]})})]})},zw=["title","titleId"];function qw(e,t){let{title:n,titleId:r}=e,i=bw(e,zw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Ww=s.forwardRef(qw),Hw=["title","titleId"];function Kw(e,t){let{title:n,titleId:r}=e,i=bw(e,Hw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Gw=s.forwardRef(Kw),Qw=["title","titleId"];function Yw(e,t){let{title:n,titleId:r}=e,i=bw(e,Qw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const $w=s.forwardRef(Yw),Jw=["title","titleId"];function Xw(e,t){let{title:n,titleId:r}=e,i=bw(e,Jw);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Zw=s.forwardRef(Xw),eb=["title","titleId"];function tb(e,t){let{title:n,titleId:r}=e,i=bw(e,eb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const nb=s.forwardRef(tb),rb=()=>{const{currentUser:e}=yw(),[t,n]=(0,s.useState)(!1),r=[{path:"/",label:"Home",icon:Ww},{path:"/wagering",label:"Wagering",icon:Gw},{path:"/marketplace",label:"Marketplace",icon:$w},...e?[{path:"/wagers",label:"My Wagers",icon:Gw}]:[]];return(0,mw.jsx)("nav",{className:"fixed top-0 w-full z-50 backdrop-blur-gaming border-b border-gray-700",children:(0,mw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mw.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,mw.jsxs)(Pe,{to:"/",className:"flex items-center gap-2",children:[(0,mw.jsx)("img",{src:"/icons/skillwagers-192.png",alt:"SkillWagers",className:"h-6 w-6"}),(0,mw.jsx)("span",{className:"font-bold text-brand text-xl",children:"SkillWagers"}),(0,mw.jsx)(ww,{size:"xs",className:"ml-2"})]}),(0,mw.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:r.map(e=>{let{path:t,label:n,icon:r}=e;return(0,mw.jsxs)(Pe,{to:t,className:e=>{let{isActive:t}=e;return"flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 ".concat(t?"text-brand":"text-gray-300 hover:text-brand")},children:[(0,mw.jsx)(r,{className:"w-4 h-4"}),(0,mw.jsx)("span",{children:n})]},t)})}),(0,mw.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[e&&(0,mw.jsx)(kw,{}),(0,mw.jsx)(Vw,{})]}),(0,mw.jsx)("div",{className:"md:hidden",children:(0,mw.jsx)("button",{onClick:()=>n(!t),className:"text-gray-300 hover:text-white p-2",children:t?(0,mw.jsx)(Zw,{className:"w-6 h-6"}):(0,mw.jsx)(nb,{className:"w-6 h-6"})})})]}),t&&(0,mw.jsx)("div",{className:"md:hidden",children:(0,mw.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-dark-800 rounded-lg mt-2",children:[r.map(e=>{let{path:t,label:r,icon:i}=e;return(0,mw.jsxs)(Pe,{to:t,onClick:()=>n(!1),className:e=>{let{isActive:t}=e;return"flex items-center space-x-2 px-3 py-2 rounded-md text-base font-medium ".concat(t?"bg-dark-700 text-brand":"text-gray-300 hover:text-brand hover:bg-dark-700")},children:[(0,mw.jsx)(i,{className:"w-5 h-5"}),(0,mw.jsx)("span",{children:r})]},t)}),(0,mw.jsx)("div",{className:"border-t border-gray-600 pt-2 mt-2",children:(0,mw.jsx)("div",{className:"px-3 py-2",children:(0,mw.jsx)(Vw,{})})})]})})]})})},ib=e=>{let{children:t,adminOnly:n=!1}=e;const{currentUser:r,userProfile:i,loading:s}=yw(),a=te();return s?(0,mw.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center",children:[(0,mw.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,mw.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primaryAccent to-red-500 rounded-lg flex items-center justify-center",children:(0,mw.jsx)("span",{className:"text-white font-bold text-sm",children:"SW"})}),(0,mw.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"SkillWagers"}),(0,mw.jsx)(ww,{size:"xs"})]}),(0,mw.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primaryAccent"}),(0,mw.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Loading..."})]}):r?!n||i&&i.isAdmin?t:(0,mw.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center",children:(0,mw.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[(0,mw.jsxs)("div",{className:"flex justify-center items-center space-x-2 mb-4",children:[(0,mw.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primaryAccent to-red-500 rounded-lg flex items-center justify-center",children:(0,mw.jsx)("span",{className:"text-white font-bold text-sm",children:"SW"})}),(0,mw.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"SkillWagers"}),(0,mw.jsx)(ww,{size:"xs"})]}),(0,mw.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),(0,mw.jsx)("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page. Admin privileges required."}),(0,mw.jsx)("button",{onClick:()=>window.history.back(),className:"bg-primaryAccent text-white px-4 py-2 rounded-md hover:bg-secondary-600 transition-colors",children:"Go Back"})]})}):(0,mw.jsx)(ve,{to:"/login",state:{from:a},replace:!0})},sb=()=>{const[e,t]=(0,s.useState)(!1);(0,s.useEffect)(()=>{localStorage.getItem("hasSeenBetaModel")||t(!0)},[]);return e?(0,mw.jsx)("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:(0,mw.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-xl",children:[(0,mw.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to SkillWagers (Beta)"}),(0,mw.jsx)("p",{className:"text-gray-600 mb-4",children:"You're in early access. All currency is fake for testing. Let's run through a quick demo."}),(0,mw.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 mb-4",children:[(0,mw.jsx)("h4",{className:"text-sm font-semibold text-purple-800 mb-2",children:"Beta Features:"}),(0,mw.jsxs)("ul",{className:"text-xs text-purple-700 space-y-1",children:[(0,mw.jsx)("li",{children:"\u2022 $100 free starting balance (fake currency)"}),(0,mw.jsx)("li",{children:"\u2022 Test challenges and wagers"}),(0,mw.jsx)("li",{children:"\u2022 Limited marketplace functionality"}),(0,mw.jsx)("li",{children:"\u2022 Development features for testing"})]})]}),(0,mw.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 mb-6",children:[(0,mw.jsx)("h4",{className:"text-sm font-semibold text-gray-800 mb-1",children:"Important:"}),(0,mw.jsx)("p",{className:"text-xs text-gray-600",children:"This is not real money. All transactions are simulated for testing purposes. Data may be reset during development."})]}),(0,mw.jsx)("button",{className:"w-full rounded-xl px-4 py-3 bg-primaryAccent text-white font-semibold hover:bg-secondary-600 transition-colors",onClick:()=>{t(!1),localStorage.setItem("hasSeenBetaModel","true")},children:"Got it, let's test"})]})}):null},ab=["title","titleId"];function ob(e,t){let{title:n,titleId:r}=e,i=bw(e,ab);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const lb=s.forwardRef(ob),cb=["title","titleId"];function ub(e,t){let{title:n,titleId:r}=e,i=bw(e,cb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const db=s.forwardRef(ub),hb=["title","titleId"];function fb(e,t){let{title:n,titleId:r}=e,i=bw(e,hb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const pb=s.forwardRef(fb),mb=["title","titleId"];function gb(e,t){let{title:n,titleId:r}=e,i=bw(e,mb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const yb=s.forwardRef(gb),vb=["title","titleId"];function wb(e,t){let{title:n,titleId:r}=e,i=bw(e,vb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const bb=s.forwardRef(wb),xb=["title","titleId"];function _b(e,t){let{title:n,titleId:r}=e,i=bw(e,xb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Eb=s.forwardRef(_b),kb=()=>{const{currentUser:e}=yw(),t=[{icon:lb,title:"Any Skill-Based Challenge",description:"Create competitions for gaming, sports, fitness, art, trivia, or any measurable skill where outcomes depend on ability, not chance."},{icon:db,title:"Secure Escrow",description:"Your stakes are safely held in escrow until challenges are completed and verified."},{icon:pb,title:"Fair Competition Rewards",description:"Win by demonstrating superior skills in transparent, fair competitions with secure payouts."},{icon:yb,title:"Transparent Matching",description:"Challenge specific opponents or find matches based on skill level and competition type."},{icon:bb,title:"Quick Resolution",description:"Fast challenge resolution with proof submission and automated settlement when both parties confirm results."},{icon:Eb,title:"Dispute Resolution",description:"Fair and transparent dispute resolution system managed by our admin team."}];return(0,mw.jsxs)("div",{className:"min-h-screen",children:[(0,mw.jsx)("section",{className:"relative overflow-hidden bg-gray-900 py-20",children:(0,mw.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mw.jsxs)("div",{className:"text-center",children:[(0,mw.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Create and Compete in ",(0,mw.jsx)("span",{className:"gaming-text",children:"Any Skill-Based Challenge"})]}),(0,mw.jsx)("p",{className:"text-xl md:text-2xl text-gray-200 mb-8 max-w-4xl mx-auto",children:"Turn any skill into a fair, wager-based competition. Whether it's gaming mastery, athletic prowess, artistic talent, trivia knowledge, or any other measurable ability\u2014challenge others and prove your expertise."}),(0,mw.jsxs)("div",{className:"bg-dark-700 rounded-lg p-6 mb-8 max-w-3xl mx-auto border border-gray-600",children:[(0,mw.jsx)("p",{className:"text-gray-300 text-lg italic mb-2",children:"Example Challenge:"}),(0,mw.jsx)("p",{className:"text-white text-base",children:'"Challenge someone to a push-up contest for $5 each. Both players record unedited video proof, submit their performance, and the winner takes the pot. SkillWagers ensures fair play and secure handling of every match."'})]}),(0,mw.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e?(0,mw.jsxs)(mw.Fragment,{children:[(0,mw.jsx)(Re,{to:"/wagers",className:"btn-primary text-lg px-8 py-4",children:"Browse Challenges"}),(0,mw.jsx)(Re,{to:"/create-challenge",className:"btn-outline text-lg px-8 py-4",children:"Create Challenge"})]}):(0,mw.jsx)(Re,{to:"/login",className:"btn-accent text-lg px-8 py-4 inline-block",children:"Start a Challenge"})})]})})}),(0,mw.jsx)("section",{className:"py-16 bg-dark-800",children:(0,mw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mw.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{value:"Beta",label:"Current Status"},{value:"Early Access",label:"Platform Stage"},{value:"Skill-Based",label:"Competition Type"},{value:"18+",label:"Age Requirement"}].map((e,t)=>(0,mw.jsxs)("div",{className:"text-center",children:[(0,mw.jsx)("div",{className:"text-3xl md:text-4xl font-bold gaming-text mb-2",children:e.value}),(0,mw.jsx)("div",{className:"text-gray-300 text-sm md:text-base font-medium",children:e.label})]},t))})})}),(0,mw.jsx)("section",{className:"py-20",children:(0,mw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mw.jsxs)("div",{className:"text-center mb-16",children:[(0,mw.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["Why Choose ",(0,mw.jsx)("span",{className:"gaming-text",children:"SkillWagers"}),"?"]}),(0,mw.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"The secure, fair, and transparent platform for any skill-based competition you can imagine."})]}),(0,mw.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,t)=>(0,mw.jsxs)("div",{className:"card-gradient group transition-colors duration-300",children:[(0,mw.jsxs)("div",{className:"flex items-center mb-4",children:[(0,mw.jsx)("div",{className:"p-3 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg",children:(0,mw.jsx)(e.icon,{className:"w-6 h-6 text-white"})}),(0,mw.jsx)("h3",{className:"text-xl font-semibold text-white ml-4",children:e.title})]}),(0,mw.jsx)("p",{className:"text-gray-300 leading-relaxed",children:e.description})]},t))})]})}),(0,mw.jsx)("section",{className:"py-20 bg-dark-800",children:(0,mw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mw.jsxs)("div",{className:"text-center mb-12",children:[(0,mw.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["Challenge ",(0,mw.jsx)("span",{className:"gaming-text",children:"Categories"})]}),(0,mw.jsx)("p",{className:"text-xl text-gray-300",children:"Compete in any skill-based category where talent and practice determine the winner"})]}),(0,mw.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:["Gaming","Fitness","Sports","Trivia","Art & Design","Programming","Music","Languages","Speed Skills","Strategy Games"].map((e,t)=>(0,mw.jsx)("div",{className:"card text-center transition-colors duration-300",children:(0,mw.jsx)("div",{className:"text-lg font-semibold text-white",children:e})},t))})]})}),(0,mw.jsx)("section",{className:"py-20",children:(0,mw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mw.jsxs)("div",{className:"text-center mb-16",children:[(0,mw.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["How It ",(0,mw.jsx)("span",{className:"gaming-text",children:"Works"})]}),(0,mw.jsx)("p",{className:"text-xl text-gray-300",children:"Simple steps to start competing and earning"})]}),(0,mw.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,mw.jsxs)("div",{className:"text-center",children:[(0,mw.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,mw.jsx)("span",{className:"text-2xl font-bold text-white",children:"1"})}),(0,mw.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Create a Challenge"}),(0,mw.jsx)("p",{className:"text-gray-300",children:"Set up a skill-based challenge and choose your wager amount. Define clear rules and proof requirements."})]}),(0,mw.jsxs)("div",{className:"text-center",children:[(0,mw.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-secondary-500 to-secondary-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,mw.jsx)("span",{className:"text-2xl font-bold text-white",children:"2"})}),(0,mw.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Find an Opponent"}),(0,mw.jsx)("p",{className:"text-gray-300",children:"Invite specific opponents or accept open challenges. Stakes are securely held in escrow."})]}),(0,mw.jsxs)("div",{className:"text-center",children:[(0,mw.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-accent-500 to-accent-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,mw.jsx)("span",{className:"text-2xl font-bold text-white",children:"3"})}),(0,mw.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Submit Proof"}),(0,mw.jsx)("p",{className:"text-gray-300",children:"Complete your challenge and submit evidence (recordings, screenshots, or other proof as required)."})]}),(0,mw.jsxs)("div",{className:"text-center",children:[(0,mw.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-primaryAccent to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,mw.jsx)("span",{className:"text-2xl font-bold text-white",children:"4"})}),(0,mw.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Automatic Settlement"}),(0,mw.jsx)("p",{className:"text-gray-300",children:"Once both players confirm results, wagers are settled automatically and winnings distributed."})]})]})]})}),(0,mw.jsx)("section",{className:"py-20 bg-gray-800",children:(0,mw.jsxs)("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[(0,mw.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:["Ready to Join Our ",(0,mw.jsx)("span",{className:"gaming-text",children:"Beta"}),"?"]}),(0,mw.jsx)("p",{className:"text-xl text-gray-200 mb-8",children:"Be among the first to test our skill-based competition platform and help shape its future."}),!e&&(0,mw.jsx)(Re,{to:"/login",className:"btn-accent text-lg px-8 py-4 inline-block",children:"Join SkillWagers Today"}),(0,mw.jsx)("div",{className:"mt-8 p-4 bg-dark-700 rounded-lg border border-yellow-500 max-w-2xl mx-auto",children:(0,mw.jsx)("p",{className:"text-yellow-300 text-sm font-medium",children:"\u26a0\ufe0f Beta Notice: SkillWagers is currently in Beta. All currency used in this version is simulated and has no real-world value."})})]})})]})};function Nb(){return(0,mw.jsx)("div",{className:"min-h-screen bg-gray-900",children:(0,mw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,mw.jsxs)("div",{className:"text-center py-12",children:[(0,mw.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:"My Challenges"}),(0,mw.jsx)("p",{className:"text-gray-400 mb-8",children:"Coming soon! For now, browse and create challenges from other pages."}),(0,mw.jsxs)(Re,{to:"/create-challenge",className:"inline-flex items-center px-4 py-2 bg-primaryAccent hover:bg-secondary-600 text-white font-medium rounded-lg transition-colors",children:[(0,mw.jsx)(Ew,{className:"h-4 w-4 mr-2"}),"Create Challenge"]})]})})})}const Sb=["title","titleId"];function Tb(e,t){let{title:n,titleId:r}=e,i=bw(e,Sb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Cb=s.forwardRef(Tb),Ib=["title","titleId"];function jb(e,t){let{title:n,titleId:r}=e,i=bw(e,Ib);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ab=s.forwardRef(jb),Rb=()=>{const{currentUser:e}=yw(),[t,n]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[a,o]=(0,s.useState)({category:"all",skillLevel:"all",wagerRange:"all"}),[l,c]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{try{i(!0);let e=Qm(lm(fw,"challenges"),$m("status","==","open"),Zm("createdAt","desc"),tg(20));const t=(await gg(e)).docs.map(e=>{var t;return ze(ze({id:e.id},e.data()),{},{createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date})});n(t)}catch(e){console.error("Error fetching challenges:",e)}finally{i(!1)}})()},[a]);const u=e=>{const t={beginner:"bg-green-900 bg-opacity-30 text-green-300 border border-green-600",intermediate:"bg-yellow-900 bg-opacity-30 text-yellow-300 border border-yellow-600",advanced:"bg-red-900 bg-opacity-30 text-red-300 border border-red-600"};return"".concat(t[e]||t.beginner," px-2 py-1 rounded-full text-xs font-medium")},d=t.filter(e=>{var t,n;const r=(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(l.toLowerCase())),i="all"===a.category||e.category===a.category,s="all"===a.skillLevel||e.skillLevel===a.skillLevel;let o=!0;if("all"!==a.wagerRange){const t=e.wagerAmount||0;switch(a.wagerRange){case"low":o=t<=10;break;case"medium":o=t>10&&t<=50;break;case"high":o=t>50;break;default:o=!0}}return r&&i&&s&&o});return(0,mw.jsx)("main",{className:"min-h-screen bg-gray-900 py-8",children:(0,mw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mw.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,mw.jsxs)("div",{children:[(0,mw.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Available Challenges"}),(0,mw.jsx)("p",{className:"text-gray-400",children:"Browse and join skill-based challenges. Test your abilities and compete with others!"})]}),e&&(0,mw.jsxs)(Re,{to:"/create-challenge",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primaryAccent hover:bg-secondary-600",children:[(0,mw.jsx)(Ew,{className:"h-4 w-4 mr-2"}),"Create Challenge"]})]}),(0,mw.jsx)("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 mb-8",children:(0,mw.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,mw.jsx)("div",{className:"flex-1",children:(0,mw.jsxs)("div",{className:"relative",children:[(0,mw.jsx)(Cb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,mw.jsx)("input",{type:"text",placeholder:"Search challenges...",value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-primaryAccent focus:border-primaryAccent"})]})}),(0,mw.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,mw.jsxs)("select",{value:a.category,onChange:e=>o(t=>ze(ze({},t),{},{category:e.target.value})),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-primaryAccent focus:border-primaryAccent",children:[(0,mw.jsx)("option",{value:"all",children:"All Categories"}),(0,mw.jsx)("option",{value:"gaming",children:"Gaming"}),(0,mw.jsx)("option",{value:"trivia",children:"Trivia"}),(0,mw.jsx)("option",{value:"sports",children:"Sports Knowledge"}),(0,mw.jsx)("option",{value:"puzzle",children:"Puzzle Solving"}),(0,mw.jsx)("option",{value:"creative",children:"Creative"})]}),(0,mw.jsxs)("select",{value:a.skillLevel,onChange:e=>o(t=>ze(ze({},t),{},{skillLevel:e.target.value})),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-primaryAccent focus:border-primaryAccent",children:[(0,mw.jsx)("option",{value:"all",children:"All Skill Levels"}),(0,mw.jsx)("option",{value:"beginner",children:"Beginner"}),(0,mw.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,mw.jsx)("option",{value:"advanced",children:"Advanced"})]}),(0,mw.jsxs)("select",{value:a.wagerRange,onChange:e=>o(t=>ze(ze({},t),{},{wagerRange:e.target.value})),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-primaryAccent focus:border-primaryAccent",children:[(0,mw.jsx)("option",{value:"all",children:"All Wager Amounts"}),(0,mw.jsx)("option",{value:"low",children:"1-10 SIM"}),(0,mw.jsx)("option",{value:"medium",children:"11-50 SIM"}),(0,mw.jsx)("option",{value:"high",children:"50+ SIM"})]})]})]})}),(0,mw.jsx)("div",{className:"space-y-6",children:r?(0,mw.jsxs)("div",{className:"text-center py-12",children:[(0,mw.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primaryAccent mx-auto"}),(0,mw.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading challenges..."})]}):0===d.length?(0,mw.jsxs)("div",{className:"text-center py-12",children:[(0,mw.jsx)(lb,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,mw.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No challenges found"}),(0,mw.jsx)("p",{className:"text-gray-400 mb-6",children:l||"all"!==a.category||"all"!==a.skillLevel||"all"!==a.wagerRange?"Try adjusting your search or filters.":"No challenges are currently available. Check back later!"}),(0,mw.jsx)(Re,{to:"/create-challenge",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primaryAccent hover:bg-secondary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primaryAccent",children:"Create the First Challenge"})]}):(0,mw.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:d.map(e=>{return(0,mw.jsxs)(Re,{to:"/challenge/".concat(e.id),className:"bg-gray-800 rounded-xl border border-gray-700 p-6 hover:bg-gray-750 transition-colors duration-200",children:[(0,mw.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,mw.jsxs)("div",{className:"flex-1",children:[(0,mw.jsx)("h3",{className:"text-lg font-semibold text-white mb-2 line-clamp-2",children:e.title}),(0,mw.jsx)("p",{className:"text-gray-400 text-sm line-clamp-3 mb-3",children:e.description})]})}),(0,mw.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mw.jsx)("span",{className:u(e.skillLevel),children:e.skillLevel||"Beginner"}),(0,mw.jsxs)("div",{className:"flex items-center text-purple-300 font-semibold",children:[(0,mw.jsx)(pb,{className:"h-4 w-4 mr-1"}),(n=e.wagerAmount||0,"".concat(n," SIM"))]})]}),(0,mw.jsxs)("div",{className:"text-xs text-gray-500 flex items-center",children:[(0,mw.jsx)(Ab,{className:"h-3 w-3 mr-1"}),(0,mw.jsxs)("span",{children:["Created ",(t=e.createdAt,t?new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.ceil((t-new Date)/864e5),"day"):"Unknown")]})]})]},e.id);var t,n})})}),(0,mw.jsxs)("div",{className:"bg-purple-900 bg-opacity-30 border border-primaryAccent rounded-xl p-6 mt-8",children:[(0,mw.jsx)("h3",{className:"text-lg font-semibold text-purple-200 mb-2",children:"Beta Testing Notice"}),(0,mw.jsx)("p",{className:"text-purple-100",children:"All challenges in this beta use fake SIM currency. You start with 100 SIM in test funds to experiment with the platform. No real money transactions occur during beta testing."})]})]})})},Pb=["title","titleId"];function Ob(e,t){let{title:n,titleId:r}=e,i=bw(e,Pb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Db=s.forwardRef(Ob),Lb=e=>{let{message:t,position:n="top"}=e;const[r,i]=(0,s.useState)(!1);if(!t)return null;return(0,mw.jsxs)("div",{className:"relative inline-flex",children:[(0,mw.jsx)(Db,{className:"w-5 h-5 text-red-500 cursor-help",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)}),r&&(0,mw.jsxs)("div",{className:"absolute z-50 px-3 py-2 text-sm text-white bg-red-600 rounded-lg shadow-lg whitespace-nowrap ".concat({top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2"}[n]),children:[t,(0,mw.jsx)("div",{className:"absolute w-2 h-2 bg-red-600 transform rotate-45 -translate-x-1/2 left-1/2 top-full"})]})]})},Mb=["label","name","error"],Ub=e=>{let{label:t="Password",name:n,error:r=""}=e,i=bw(e,Mb);const[a,o]=(0,s.useState)(!1);return(0,mw.jsxs)("div",{className:"w-full",children:[(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:n,style:{color:"white"},children:t}),r&&(0,mw.jsx)(Lb,{message:r})]}),(0,mw.jsxs)("div",{className:"relative",children:[(0,mw.jsx)("input",ze({id:n,name:n,type:a?"text":"password",style:{backgroundColor:"white",color:"black",border:r?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 48px 12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=r?"#ef4444":"#f59e0b",e.target.style.boxShadow=r?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=r?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"},autoComplete:"current-password"},i)),(0,mw.jsx)("button",{type:"button",onClick:()=>o(!a),style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",padding:"8px",border:"none",background:"transparent",color:"#6b7280",cursor:"pointer",outline:"none"},onMouseEnter:e=>{e.target.style.color="#374151"},onMouseLeave:e=>{e.target.style.color="#6b7280"},"aria-label":a?"Hide password":"Show password",children:a?(0,mw.jsxs)("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,mw.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,mw.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):(0,mw.jsx)("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mw.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L12 12m0 0l3.122 3.122M12 12l-3.122-3.122"})})})]})]})},Fb=["title","titleId"];function Bb(e,t){let{title:n,titleId:r}=e,i=bw(e,Fb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Vb=s.forwardRef(Bb),zb=()=>{var e,t;const[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)({email:"",password:""}),[o,l]=(0,s.useState)({}),{login:c,googleSignIn:u,currentUser:d}=yw(),h=re(),f=(null===(e=te().state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";(0,s.useEffect)(()=>{d&&h(f,{replace:!0})},[d,h,f]);const p=e=>{const{name:t,value:n}=e.target;a(e=>ze(ze({},e),{},{[t]:n})),o[t]&&l(e=>ze(ze({},e),{},{[t]:""})),"email"===t&&n&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)&&l(e=>ze(ze({},e),{},{email:"Please enter a valid email address"}))};return(0,mw.jsxs)("div",{className:"min-h-screen bg-dark-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,mw.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,mw.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,mw.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-primaryAccent to-purple-500 rounded-lg flex items-center justify-center",children:(0,mw.jsx)("span",{className:"font-bold",style:{color:"white"},children:"S"})}),(0,mw.jsx)("h1",{className:"text-2xl font-bold",style:{color:"white"},children:"SkillWagers"}),(0,mw.jsx)(ww,{size:"sm"})]}),(0,mw.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold",style:{color:"white"},children:"Welcome back"}),(0,mw.jsx)("p",{className:"mt-2 text-center text-sm text-gray-400",children:"Sign in to your Beta account"})]}),(0,mw.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,mw.jsxs)("div",{className:"bg-dark-800 py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-700",children:[(0,mw.jsx)("div",{className:"mb-6",children:(0,mw.jsxs)("button",{type:"button",onClick:async()=>{r(!0);try{await u(),h(f,{replace:!0})}catch(e){console.error("Google sign in error:",e),l({password:"Google sign in failed. Please try again."})}finally{r(!1)}},disabled:n,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-dark-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primaryAccent disabled:opacity-50",children:[(0,mw.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,mw.jsx)("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,mw.jsx)("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,mw.jsx)("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,mw.jsx)("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),(0,mw.jsxs)("div",{className:"relative",children:[(0,mw.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,mw.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,mw.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,mw.jsx)("span",{className:"px-2 bg-dark-800",style:{color:"white"},children:"Or sign in with email"})})]}),(0,mw.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(e.email="Please enter a valid email address"):e.email="Email address is required",i.password||(e.password="Password is required"),l(e),0===Object.keys(e).length})()){r(!0);try{await c(i.email,i.password),h(f,{replace:!0})}catch(t){console.error("Login error:",t),"auth/user-not-found"===t.code?l({email:"No account found with this email address"}):"auth/wrong-password"===t.code?l({password:"Incorrect password"}):"auth/invalid-email"===t.code?l({email:"Invalid email address"}):"auth/user-disabled"===t.code?l({email:"This account has been disabled"}):"auth/too-many-requests"===t.code?l({password:"Too many failed attempts. Please try again later"}):l({password:t.message||"Login failed"})}finally{r(!1)}}},children:[(0,mw.jsxs)("div",{children:[(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"white"},children:"Email address"}),o.email&&(0,mw.jsx)(Lb,{message:o.email})]}),(0,mw.jsx)("div",{className:"mt-1",children:(0,mw.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i.email,onChange:p,style:{backgroundColor:"white",color:"black",border:o.email?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=o.email?"#ef4444":"#6f4cff",e.target.style.boxShadow=o.email?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(111, 76, 255, 0.2)"},onBlur:e=>{e.target.style.borderColor=o.email?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"},placeholder:"Enter your email"})})]}),(0,mw.jsx)(Ub,{name:"password",label:"Password",required:!0,value:i.password,onChange:p,error:o.password,placeholder:"Enter your password"}),(0,mw.jsx)("div",{className:"flex items-center justify-between",children:(0,mw.jsx)("div",{className:"text-sm",children:(0,mw.jsx)("button",{type:"button",className:"font-medium text-primaryAccent hover:text-purple-400 underline bg-transparent border-none cursor-pointer",onClick:()=>h("/forgot-password"),children:"Forgot your password?"})})}),(0,mw.jsx)("div",{children:(0,mw.jsxs)("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md bg-primaryAccent hover:bg-secondary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primaryAccent disabled:opacity-50",style:{color:"white"},children:[(0,mw.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,mw.jsx)(Vb,{className:"h-5 w-5 text-purple-300 group-hover:text-purple-200"})}),n?"Signing in...":"Sign in"]})})]}),(0,mw.jsx)("div",{className:"mt-6",children:(0,mw.jsxs)("div",{className:"relative",children:[(0,mw.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,mw.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,mw.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,mw.jsxs)("span",{className:"px-2 bg-dark-800",style:{color:"white"},children:["Don't have an account?"," ",(0,mw.jsx)(Re,{to:"/signup",className:"font-medium text-primaryAccent hover:text-purple-400",children:"Sign up for Beta"})]})})]})})]})})]})},qb=["title","titleId"];function Wb(e,t){let{title:n,titleId:r}=e,i=bw(e,qb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Hb=s.forwardRef(Wb),Kb=["title","titleId"];function Gb(e,t){let{title:n,titleId:r}=e,i=bw(e,Kb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Qb=s.forwardRef(Gb),Yb=["title","titleId"];function $b(e,t){let{title:n,titleId:r}=e,i=bw(e,Yb);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const Jb=s.forwardRef($b),Xb=()=>{const[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)({email:"",password:"",confirmPassword:"",displayName:"",dateOfBirth:"",agreeToTerms:!1}),[c,u]=(0,s.useState)({}),{register:d,googleSignIn:h,currentUser:f}=yw(),p=re();(0,s.useEffect)(()=>{f&&p("/",{replace:!0})},[f,p]);const m=e=>{const{name:t,value:n,type:r,checked:i}=e.target,s="checkbox"===r?i:n;l(e=>ze(ze({},e),{},{[t]:s})),c[t]&&u(e=>ze(ze({},e),{},{[t]:""})),g(t,s)},g=(e,t)=>{let n="";switch(e){case"email":t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&(n="Please enter a valid email address");break;case"password":t&&t.length<6&&(n="Password must be at least 6 characters");break;case"confirmPassword":t&&t!==o.password&&(n="Passwords do not match");break;case"dateOfBirth":if(t){const e=new Date(t),r=new Date,i=e.getFullYear();if(i<1930)n="Please enter a valid birth year";else if(e>r)n="Birth date cannot be in the future";else{r.getFullYear()-i-(r.getMonth()<e.getMonth()||r.getMonth()===e.getMonth()&&r.getDate()<e.getDate()?1:0)<18&&(n="You must be 18 or older to register")}}break;case"displayName":t&&t.length<2&&(n="Display name must be at least 2 characters")}n&&u(t=>ze(ze({},t),{},{[e]:n}))};return(0,mw.jsxs)("div",{className:"min-h-screen bg-dark-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,mw.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,mw.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,mw.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-primaryAccent to-purple-500 rounded-lg flex items-center justify-center",children:(0,mw.jsx)("span",{className:"font-bold",style:{color:"white"},children:"S"})}),(0,mw.jsx)("h1",{className:"text-2xl font-bold",style:{color:"white"},children:"SkillWagers"}),(0,mw.jsx)(ww,{size:"sm"})]}),(0,mw.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold",style:{color:"white"},children:"Create your account"}),(0,mw.jsx)("p",{className:"mt-2 text-center text-sm",style:{color:"white"},children:"Join the Beta and start with $100 fake currency"})]}),(0,mw.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,mw.jsxs)("div",{className:"bg-dark-800 py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-700",children:[(0,mw.jsx)("div",{className:"mb-6",children:(0,mw.jsxs)("button",{type:"button",onClick:async()=>{t(!0);try{await h(),p("/")}catch(e){console.error("Google sign up error:",e),u({password:"Google sign up failed. Please try again."})}finally{t(!1)}},disabled:e,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-600 rounded-md shadow-sm text-sm font-medium bg-dark-700 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primaryAccent disabled:opacity-50",style:{color:"white"},children:[(0,mw.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,mw.jsx)("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,mw.jsx)("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,mw.jsx)("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,mw.jsx)("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]})}),(0,mw.jsxs)("div",{className:"relative",children:[(0,mw.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,mw.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,mw.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,mw.jsx)("span",{className:"px-2 bg-dark-800",style:{color:"white"},children:"Or sign up with email"})})]}),(0,mw.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};if(o.displayName.trim()?o.displayName.length<2&&(e.displayName="Display name must be at least 2 characters"):e.displayName="Display name is required",o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(e.email="Please enter a valid email address"):e.email="Email address is required",o.password?o.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",o.confirmPassword?o.password!==o.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",o.dateOfBirth){const t=new Date(o.dateOfBirth),n=new Date,r=n.getFullYear(),i=t.getFullYear();i<1930?e.dateOfBirth="Please enter a valid birth year":i>r?e.dateOfBirth="Birth year cannot be in the future":t>n?e.dateOfBirth="Birth date cannot be in the future":r-i-(n.getMonth()<t.getMonth()||n.getMonth()===t.getMonth()&&n.getDate()<t.getDate()?1:0)<18&&(e.dateOfBirth="You must be 18 or older to register")}else e.dateOfBirth="Date of birth is required";return o.agreeToTerms||(e.agreeToTerms="You must agree to the terms and conditions"),u(e),0===Object.keys(e).length})()){t(!0);try{await d(o.email,o.password,o.displayName,o.dateOfBirth),p("/")}catch(n){console.error("Registration error:",n),"auth/email-already-in-use"===n.code?u({email:"This email address is already in use"}):"auth/weak-password"===n.code?u({password:"Password is too weak. Please choose a stronger password"}):"auth/invalid-email"===n.code?u({email:"Invalid email address format"}):u({password:n.message||"Registration failed. Please try again"})}finally{t(!1)}}},children:[(0,mw.jsxs)("div",{children:[(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium",style:{color:"white"},children:"Display Name *"}),c.displayName&&(0,mw.jsx)(Lb,{message:c.displayName})]}),(0,mw.jsx)("div",{className:"mt-1",children:(0,mw.jsx)("input",{id:"displayName",name:"displayName",type:"text",required:!0,value:o.displayName,onChange:m,style:{backgroundColor:"white",color:"black",border:c.displayName?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=c.displayName?"#ef4444":"#f59e0b",e.target.style.boxShadow=c.displayName?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=c.displayName?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"},placeholder:"Your display name"})})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium",style:{color:"white"},children:"Email address *"}),c.email&&(0,mw.jsx)(Lb,{message:c.email})]}),(0,mw.jsx)("div",{className:"mt-1",children:(0,mw.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:m,style:{backgroundColor:"white",color:"black",border:c.email?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=c.email?"#ef4444":"#f59e0b",e.target.style.boxShadow=c.email?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=c.email?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"},placeholder:"Enter your email"})})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsx)("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium",style:{color:"white"},children:"Date of Birth * (18+ required)"}),c.dateOfBirth&&(0,mw.jsx)(Lb,{message:c.dateOfBirth})]}),(0,mw.jsx)("div",{className:"mt-1",children:(0,mw.jsx)("input",{id:"dateOfBirth",name:"dateOfBirth",type:"date",required:!0,min:"1930-01-01",max:(new Date).toISOString().split("T")[0],value:o.dateOfBirth,onChange:m,style:{backgroundColor:"white",color:"black",border:c.dateOfBirth?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=c.dateOfBirth?"#ef4444":"#f59e0b",e.target.style.boxShadow=c.dateOfBirth?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=c.dateOfBirth?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"}})})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium",style:{color:"white"},children:"Password *"}),c.password&&(0,mw.jsx)(Lb,{message:c.password})]}),(0,mw.jsxs)("div",{className:"mt-1 relative",children:[(0,mw.jsx)("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",required:!0,value:o.password,onChange:m,style:{backgroundColor:"white",color:"black",border:c.password?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 48px 12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=c.password?"#ef4444":"#f59e0b",e.target.style.boxShadow=c.password?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=c.password?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"},placeholder:"Create a password (6+ characters)"}),(0,mw.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!n),children:n?(0,mw.jsx)(Hb,{className:"h-5 w-5 text-gray-400 hover:text-gray-200"}):(0,mw.jsx)(Qb,{className:"h-5 w-5 text-gray-400 hover:text-gray-200"})})]})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium",style:{color:"white"},children:"Confirm Password *"}),c.confirmPassword&&(0,mw.jsx)(Lb,{message:c.confirmPassword})]}),(0,mw.jsxs)("div",{className:"mt-1 relative",children:[(0,mw.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",autoComplete:"new-password",required:!0,value:o.confirmPassword,onChange:m,style:{backgroundColor:"white",color:"black",border:c.confirmPassword?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",padding:"12px 48px 12px 16px",width:"100%",fontSize:"14px",outline:"none"},onFocus:e=>{e.target.style.borderColor=c.confirmPassword?"#ef4444":"#f59e0b",e.target.style.boxShadow=c.confirmPassword?"0 0 0 2px rgba(239, 68, 68, 0.2)":"0 0 0 2px rgba(245, 158, 11, 0.2)"},onBlur:e=>{e.target.style.borderColor=c.confirmPassword?"#ef4444":"#d1d5db",e.target.style.boxShadow="none"},placeholder:"Confirm your password"}),(0,mw.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!i),children:i?(0,mw.jsx)(Hb,{className:"h-5 w-5 text-gray-400 hover:text-gray-200"}):(0,mw.jsx)(Qb,{className:"h-5 w-5 text-gray-400 hover:text-gray-200"})})]})]}),(0,mw.jsx)("div",{children:(0,mw.jsxs)("div",{className:"flex items-center",children:[(0,mw.jsx)("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",required:!0,checked:o.agreeToTerms,onChange:m,className:"h-4 w-4 text-primaryAccent focus:ring-primaryAccent border rounded bg-dark-700 ".concat(c.agreeToTerms?"border-red-500":"border-gray-600")}),(0,mw.jsxs)("label",{htmlFor:"agreeToTerms",className:"ml-2 block text-sm",style:{color:"white"},children:["I agree to the"," ",(0,mw.jsx)("button",{type:"button",className:"text-primaryAccent hover:text-purple-400 underline bg-transparent border-none cursor-pointer",onClick:()=>window.open("/terms","_blank"),children:"Terms and Conditions"})," ","and"," ",(0,mw.jsx)("button",{type:"button",className:"text-primaryAccent hover:text-purple-400 underline bg-transparent border-none cursor-pointer",onClick:()=>window.open("/privacy","_blank"),children:"Privacy Policy"})]}),c.agreeToTerms&&(0,mw.jsx)(Lb,{message:c.agreeToTerms})]})}),(0,mw.jsx)("div",{children:(0,mw.jsxs)("button",{type:"submit",disabled:e,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md bg-primaryAccent hover:bg-secondary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primaryAccent disabled:opacity-50",style:{color:"white"},children:[(0,mw.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,mw.jsx)(Jb,{className:"h-5 w-5 text-purple-300 group-hover:text-purple-200"})}),e?"Creating account...":"Create account"]})})]}),(0,mw.jsx)("div",{className:"mt-6",children:(0,mw.jsxs)("div",{className:"relative",children:[(0,mw.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,mw.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,mw.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,mw.jsxs)("span",{className:"px-2 bg-dark-800",style:{color:"white"},children:["Already have an account?"," ",(0,mw.jsx)(Re,{to:"/login",className:"font-medium text-primaryAccent hover:text-purple-400",children:"Sign in"})]})})]})})]})})]})},Zb=()=>{var e,t;const[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)({email:"",password:"",confirmPassword:"",displayName:"",dateOfBirth:"",agreeToTerms:!1}),{login:c,register:u,currentUser:d}=yw(),h=re(),f=(null===(e=te().state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";(0,s.useEffect)(()=>{d&&h(f,{replace:!0})},[d,h,f]);const p=e=>{const{name:t,value:n,type:r,checked:i}=e.target;l(e=>ze(ze({},e),{},{[t]:"checkbox"===r?i:n}))};return(0,mw.jsx)("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,mw.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,mw.jsxs)("div",{className:"text-center",children:[(0,mw.jsx)("h2",{className:"text-3xl font-bold gaming-text",children:n?"Welcome Back":"Join SkillWagers"}),(0,mw.jsx)("p",{className:"mt-2 text-gray-300",children:n?"Sign in to your account to start competing":"Create your account and start earning"})]}),(0,mw.jsxs)("div",{className:"card-gradient",children:[(0,mw.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{if(e.preventDefault(),(()=>{if(!o.email||!o.password)return rn.error("Email and password are required"),!1;if(!n){if(!o.displayName)return rn.error("Display name is required"),!1;if(o.password!==o.confirmPassword)return rn.error("Passwords do not match"),!1;if(o.password.length<6)return rn.error("Password must be at least 6 characters"),!1;if(!o.dateOfBirth)return rn.error("Date of birth is required"),!1;const e=new Date(o.dateOfBirth),t=new Date;let n=t.getFullYear()-e.getFullYear();const r=t.getMonth()-e.getMonth();if((r<0||0===r&&t.getDate()<e.getDate())&&n--,n<18)return rn.error("You must be 18 or older to register"),!1;if(!o.agreeToTerms)return rn.error("You must agree to the terms and conditions"),!1}return!0})()){a(!0);try{n?(await c(o.email,o.password),rn.success("Successfully logged in!")):(await u(o.email,o.password,o.displayName,o.dateOfBirth),rn.success("Account created successfully!")),h(f,{replace:!0})}catch(t){console.error("Auth error:",t),"auth/user-not-found"===t.code?rn.error("No account found with this email"):"auth/wrong-password"===t.code?rn.error("Incorrect password"):"auth/email-already-in-use"===t.code?rn.error("Email already in use"):"auth/weak-password"===t.code?rn.error("Password is too weak"):"auth/invalid-email"===t.code?rn.error("Invalid email address"):rn.error(t.message||"Authentication failed")}finally{a(!1)}}},children:[!n&&(0,mw.jsxs)("div",{children:[(0,mw.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),(0,mw.jsx)("input",{id:"displayName",name:"displayName",type:"text",required:!0,value:o.displayName,onChange:p,className:"input-field",placeholder:"Enter your display name"})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,mw.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:o.email,onChange:p,className:"input-field",placeholder:"Enter your email"})]}),(0,mw.jsx)(Ub,{name:"password",label:"Password",required:!0,value:o.password,onChange:p,className:"input-field",placeholder:"Enter your password"}),!n&&(0,mw.jsxs)(mw.Fragment,{children:[(0,mw.jsx)(Ub,{name:"confirmPassword",label:"Confirm Password",required:!0,value:o.confirmPassword,onChange:p,className:"input-field",placeholder:"Confirm your password"}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-300 mb-2",children:"Date of Birth (Must be 18+)"}),(0,mw.jsx)("input",{id:"dateOfBirth",name:"dateOfBirth",type:"date",required:!0,value:o.dateOfBirth,onChange:p,className:"input-field"})]}),(0,mw.jsxs)("div",{className:"flex items-center",children:[(0,mw.jsx)("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",required:!0,checked:o.agreeToTerms,onChange:p,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,mw.jsxs)("label",{htmlFor:"agreeToTerms",className:"ml-2 block text-sm text-gray-300",children:["I agree to the"," ",(0,mw.jsx)("button",{type:"button",className:"text-primary-400 hover:text-primary-300 underline bg-transparent border-none cursor-pointer",onClick:()=>rn.info("Terms and Conditions page coming soon!"),children:"Terms and Conditions"})," ","and"," ",(0,mw.jsx)("button",{type:"button",className:"text-primary-400 hover:text-primary-300 underline bg-transparent border-none cursor-pointer",onClick:()=>rn.info("Privacy Policy page coming soon!"),children:"Privacy Policy"})]})]})]}),(0,mw.jsx)("button",{type:"submit",disabled:i,className:"w-full btn-primary relative",children:i?(0,mw.jsxs)("div",{className:"flex items-center justify-center",children:[(0,mw.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),n?"Signing In...":"Creating Account..."]}):n?"Sign In":"Create Account"})]}),(0,mw.jsx)("div",{className:"mt-6 text-center",children:(0,mw.jsx)("button",{onClick:()=>r(!n),className:"text-sm text-primary-400 hover:text-primary-300",children:n?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),!n&&(0,mw.jsx)("div",{className:"bg-accent-500 bg-opacity-20 border border-accent-500 rounded-lg p-4",children:(0,mw.jsxs)("div",{className:"flex",children:[(0,mw.jsx)("div",{className:"flex-shrink-0",children:(0,mw.jsx)("svg",{className:"h-5 w-5 text-accent-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,mw.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,mw.jsxs)("div",{className:"ml-3",children:[(0,mw.jsx)("h3",{className:"text-sm font-medium text-accent-400",children:"Age Verification Required"}),(0,mw.jsx)("div",{className:"mt-2 text-sm text-accent-300",children:(0,mw.jsx)("p",{children:"You must be 18 years or older to use SkillWagers. This is required by law for real money gaming platforms."})})]})]})})]})})},ex=e=>{let{showLabel:t=!0,className:n=""}=e;const{userProfile:r}=yw();if(!r)return null;const i=r.balance||0,s=r.currency||"fake";return(0,mw.jsxs)("div",{className:"flex items-center space-x-2 ".concat(n),children:[t&&(0,mw.jsx)("span",{className:"text-sm text-gray-500 font-medium",children:"Beta Balance:"}),(0,mw.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,mw.jsx)(pb,{className:"h-4 w-4 text-green-500"}),(0,mw.jsxs)("span",{className:"font-semibold text-green-600",children:["$",i.toFixed(2)]}),"fake"===s&&(0,mw.jsx)("span",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"(FAKE)"})]}),(0,mw.jsx)(ww,{size:"xs"})]})},tx=["title","titleId"];function nx(e,t){let{title:n,titleId:r}=e,i=bw(e,tx);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const rx=s.forwardRef(nx),ix=()=>{const{currentUser:e,userProfile:t}=yw(),[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{e&&d()},[e,d]);const d=(0,s.useCallback)(async()=>{if(null!==e&&void 0!==e&&e.uid)try{l(!0);const n=cm(fw,"dailyRewards",e.uid),i=await pg(n);if(i.exists()){var t;const e=null===(t=i.data().lastClaimTime)||void 0===t?void 0:t.toDate();if(e){const t=new Date;if((t-e)/36e5>=24)r(!0),a(null);else{r(!1);const t=new Date(e.getTime()+864e5);a(t)}}else r(!0)}else r(!0)}catch(n){console.error("Error checking claim status:",n),rn.error("Failed to check daily reward status")}finally{l(!1)}else console.warn("No current user available for checking claim status")},[null===e||void 0===e?void 0:e.uid]);return!e||o?null:(0,mw.jsxs)("div",{className:"bg-gradient-to-r from-yellow-900 via-purple-900 to-red-900 bg-opacity-30 border border-yellow-600 rounded-xl p-4 mb-6",children:[(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mw.jsx)("div",{className:"p-2 bg-yellow-500 bg-opacity-20 rounded-lg",children:(0,mw.jsx)(rx,{className:"h-6 w-6 text-yellow-400"})}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("h3",{className:"text-lg font-semibold text-yellow-300",children:"Daily Free Coins"}),(0,mw.jsx)("p",{className:"text-sm text-yellow-200",children:n?"Claim your daily 100 SIM!":"Come back tomorrow for more coins!"})]})]}),(0,mw.jsx)("div",{className:"text-right",children:n?(0,mw.jsxs)("button",{onClick:async()=>{if(n&&!c&&null!==e&&void 0!==e&&e.uid)try{u(!0);const n=new Date,i=cm(fw,"users",e.uid),s=((null===t||void 0===t?void 0:t.betaBalance)||0)+100;await vg(i,{betaBalance:s});const o=cm(fw,"dailyRewards",e.uid);await yg(o,{lastClaimTime:n,totalClaimed:((null===t||void 0===t?void 0:t.totalDailyClaimed)||0)+100,claimCount:((null===t||void 0===t?void 0:t.dailyClaimCount)||0)+1},{merge:!0}),await vg(i,{totalDailyClaimed:((null===t||void 0===t?void 0:t.totalDailyClaimed)||0)+100,dailyClaimCount:((null===t||void 0===t?void 0:t.dailyClaimCount)||0)+1}),r(!1);const l=new Date(n.getTime()+864e5);a(l),rn.success("\ud83c\udf89 Claimed 100 SIM! Come back in 24 hours for more!",{duration:4e3})}catch(i){console.error("Error claiming daily coins:",i),rn.error("Failed to claim daily coins. Please try again.")}finally{u(!1)}},disabled:c,className:"bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",children:[(0,mw.jsx)(rx,{className:"h-4 w-4"}),(0,mw.jsx)("span",{children:c?"Claiming...":"Claim 100 SIM"})]}):(0,mw.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-200",children:[(0,mw.jsx)(Ab,{className:"h-4 w-4"}),(0,mw.jsx)("span",{className:"text-sm",children:i?(e=>{const t=e-new Date;if(t<=0)return d(),null;const n=Math.floor(t/36e5),r=Math.floor(t%36e5/6e4);return"".concat(n,"h ").concat(r,"m")})(i):"Loading..."})]})})]}),(0,mw.jsx)("div",{className:"mt-3 pt-3 border-t border-yellow-600 border-opacity-50",children:(0,mw.jsxs)("div",{className:"flex justify-between text-xs text-yellow-200",children:[(0,mw.jsxs)("span",{children:["Total Daily Claims: ",(null===t||void 0===t?void 0:t.dailyClaimCount)||0]}),(0,mw.jsxs)("span",{children:["Total Daily SIM: ",(null===t||void 0===t?void 0:t.totalDailyClaimed)||0]})]})})]})},sx=["title","titleId"];function ax(e,t){let{title:n,titleId:r}=e,i=bw(e,sx);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const ox=s.forwardRef(ax),lx=e=>{let{currentUser:t,userProfile:n,refreshProfile:r}=e;const[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{n&&(a(n.displayName||(null===t||void 0===t?void 0:t.displayName)||""),l(n.displayNameLocked||!1))},[n,t]);return o&&!d?(0,mw.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsxs)("div",{children:[(0,mw.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Display Name"}),(0,mw.jsx)("p",{className:"text-white",children:i}),(0,mw.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Display name can be changed once"})]}),(0,mw.jsx)("span",{className:"text-xs text-gray-500 bg-gray-700 px-2 py-1 rounded",children:"Locked"})]})}):(0,mw.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,mw.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,mw.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Display Name"}),!d&&(0,mw.jsx)("button",{onClick:()=>h(!0),className:"text-purple-300 hover:text-purple-200 p-1",children:(0,mw.jsx)(ox,{className:"h-4 w-4"})})]}),d?(0,mw.jsxs)("div",{className:"space-y-3",children:[(0,mw.jsx)("input",{type:"text",value:i,onChange:e=>a(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400",placeholder:"Enter display name",maxLength:50}),(0,mw.jsx)("p",{className:"text-xs text-yellow-400",children:"\u26a0\ufe0f Display name can only be changed once"}),(0,mw.jsxs)("div",{className:"flex gap-2",children:[(0,mw.jsx)("button",{onClick:async()=>{if(i.trim())if(null!==t&&void 0!==t&&t.uid){u(!0);try{await ua(t,{displayName:i.trim()});const e=cm(fw,"users",t.uid);await vg(e,{displayName:i.trim(),displayNameLocked:!0}),await r(),l(!0),h(!1),rn.success("Display name updated successfully")}catch(e){console.error("Error updating display name:",e),rn.error("Failed to update display name")}finally{u(!1)}}else rn.error("User not authenticated");else rn.error("Display name cannot be empty")},disabled:c,className:"bg-primaryAccent text-white px-4 py-2 rounded-lg hover:bg-secondary-600 disabled:opacity-50",children:c?"Saving...":"Save"}),(0,mw.jsx)("button",{onClick:()=>{h(!1),a((null===n||void 0===n?void 0:n.displayName)||(null===t||void 0===t?void 0:t.displayName)||"")},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Cancel"})]})]}):(0,mw.jsx)("p",{className:"text-white",children:i||"No display name set"})]})},cx=["title","titleId"];function ux(e,t){let{title:n,titleId:r}=e,i=bw(e,cx);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const dx=s.forwardRef(ux),hx=e=>{let{currentUser:t}=e;const[n,r]=(0,s.useState)(!1);return(0,mw.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsxs)("div",{children:[(0,mw.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Password"}),(0,mw.jsx)("p",{className:"text-white",children:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,mw.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Reset via email verification"})]}),(0,mw.jsxs)("button",{onClick:async()=>{if(null!==t&&void 0!==t&&t.email){r(!0);try{await async function(e,t,n){const r=ks(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&la(r,i,n),await As(r,i,"getOobCode",Fs)}(hw,t.email),rn.success("Password reset email sent! Check your inbox.")}catch(e){console.error("Error sending password reset email:",e);let t="Failed to send password reset email";"auth/user-not-found"===e.code?t="No account found with this email address":"auth/too-many-requests"===e.code&&(t="Too many requests. Please try again later."),rn.error(t)}finally{r(!1)}}else rn.error("No email address found")},disabled:n,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,mw.jsx)(dx,{className:"h-4 w-4"}),n?"Sending...":"Reset Password"]})]})})},fx=["title","titleId"];function px(e,t){let{title:n,titleId:r}=e,i=bw(e,fx);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const mx=s.forwardRef(px),gx=e=>{let{currentUser:t,userProfile:n,refreshProfile:r}=e;const[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),c=(0,s.useRef)(null),u=async e=>{if(null!==t&&void 0!==t&&t.uid){a(!0);try{const s=(n=pw,i="profilePictures/".concat(t.uid,".jpg"),Ly(n=On(n),i)),a=await function(e,t,n){return Ry(e=On(e),t,n)}(s,e),o=await function(e){return Py(e=On(e))}(a.ref);await ua(t,{photoURL:o});const l=cm(fw,"users",t.uid);await vg(l,{photoURL:o}),await r(),rn.success("Profile picture updated successfully")}catch(s){console.error("Error uploading profile picture:",s),rn.error("Failed to upload profile picture"),l(null)}finally{a(!1)}var n,i}else rn.error("User not authenticated")},d=o||(null===n||void 0===n?void 0:n.photoURL)||(null===t||void 0===t?void 0:t.photoURL);return(0,mw.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,mw.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Profile Picture"}),(0,mw.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mw.jsxs)("div",{className:"relative",children:[(0,mw.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-700 overflow-hidden flex items-center justify-center",children:d?(0,mw.jsx)("img",{src:d,alt:"Profile",className:"w-full h-full object-cover"}):(0,mw.jsx)(mx,{className:"h-8 w-8 text-gray-400"})}),i&&(0,mw.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-50 flex items-center justify-center",children:(0,mw.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primaryAccent"})})]}),(0,mw.jsxs)("div",{className:"flex-1",children:[(0,mw.jsx)("button",{onClick:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.click()},disabled:i,className:"bg-primaryAccent text-white px-4 py-2 rounded-lg hover:bg-secondary-600 disabled:opacity-50 transition-colors",children:i?"Uploading...":"Change Picture"}),(0,mw.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF. Max size 5MB."})]})]}),(0,mw.jsx)("input",{ref:c,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(t.size>5242880)return void rn.error("File size must be less than 5MB");if(!t.type.startsWith("image/"))return void rn.error("Please select an image file");const n=new FileReader;n.onload=e=>l(e.target.result),n.readAsDataURL(t),u(t)},className:"hidden"})]})},yx=()=>{const[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(!1),i=re();return(0,mw.jsxs)(mw.Fragment,{children:[(0,mw.jsxs)("button",{onClick:()=>t(!0),className:"flex items-center gap-2 bg-red-600 text-white font-bold px-8 py-3 rounded-lg hover:bg-red-700 transition-colors mx-auto",children:[(0,mw.jsx)(Bw,{className:"h-5 w-5"}),"Sign Out"]}),e&&(0,mw.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,mw.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700",children:[(0,mw.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mw.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Confirm Sign Out"}),(0,mw.jsx)("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-300",children:(0,mw.jsx)(Zw,{className:"h-6 w-6"})})]}),(0,mw.jsx)("p",{className:"text-gray-300 mb-6",children:"Are you sure you want to sign out? You'll need to sign in again to access your account."}),(0,mw.jsxs)("div",{className:"flex gap-3",children:[(0,mw.jsx)("button",{onClick:async()=>{r(!0);try{await da(hw),i("/"),rn.success("Signed out successfully")}catch(e){console.error("Error signing out:",e),rn.error("Failed to sign out")}finally{r(!1),t(!1)}},disabled:n,className:"flex-1 px-4 py-2 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:n?"Signing Out...":"Yes, Sign Out"}),(0,mw.jsx)("button",{onClick:()=>t(!1),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})})]})},vx=e=>{let{currentUser:t,userProfile:n,refreshProfile:r}=e;const[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(null!==n&&void 0!==n&&n.lastDailyClaim){const e=new Date,t=n.lastDailyClaim.toDate(),r=new Date(t.getTime()+864e5);if(e>=r)u(!0),l("");else{u(!1);const t=r-e,n=Math.floor(t/36e5),i=Math.floor(t%36e5/6e4);l("".concat(n,"h ").concat(i,"m"))}}else u(!0)},[n]);const d=(null===n||void 0===n?void 0:n.balanceCoins)||0;return(0,mw.jsxs)("div",{className:"bg-gradient-to-r from-yellow-900 via-purple-900 to-red-900 bg-opacity-30 border border-yellow-600 rounded-xl p-4",children:[(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mw.jsx)("div",{className:"p-2 bg-yellow-500 bg-opacity-20 rounded-lg",children:(0,mw.jsx)(rx,{className:"h-6 w-6 text-yellow-400"})}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("h3",{className:"text-lg font-semibold text-yellow-300",children:"Daily Free Coins"}),(0,mw.jsxs)("p",{className:"text-sm text-yellow-200",children:["Current Balance: ",d," SIM"]})]})]}),(0,mw.jsx)("div",{className:"text-right",children:c?(0,mw.jsxs)("button",{onClick:async()=>{if(c&&null!==t&&void 0!==t&&t.uid){a(!0);try{await kg(fw,async e=>{const n=cm(fw,"users",t.uid),r=await e.get(n);if(!r.exists())throw new Error("User document not found");const i=r.data(),s=new Date;if(i.lastDailyClaim){if((s-i.lastDailyClaim.toDate())/36e5<24)throw new Error("Must wait 24 hours between claims")}e.update(n,{balanceCoins:(i.balanceCoins||0)+100,lastDailyClaim:Ng()})}),await r(),u(!1),rn.success("100 coins claimed successfully!")}catch(e){console.error("Error claiming daily coins:",e),rn.error(e.message||"Failed to claim coins")}finally{a(!1)}}},disabled:i,className:"bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",children:[(0,mw.jsx)(rx,{className:"h-4 w-4"}),(0,mw.jsx)("span",{children:i?"Claiming...":"Claim 100 Coins"})]}):(0,mw.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-200",children:[(0,mw.jsx)(Ab,{className:"h-4 w-4"}),(0,mw.jsxs)("span",{className:"text-sm",children:["Available in ",o]})]})})]}),(0,mw.jsx)("div",{className:"mt-3 pt-3 border-t border-yellow-600 border-opacity-50",children:(0,mw.jsxs)("div",{className:"flex justify-between text-xs text-yellow-200",children:[(0,mw.jsx)("span",{children:"24-hour cooldown"}),(0,mw.jsx)("span",{children:"Beta currency - no real value"})]})})]})},wx=["title","titleId"];function bx(e,t){let{title:n,titleId:r}=e,i=bw(e,wx);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const xx=s.forwardRef(bx),_x=()=>{var e,t;const{userProfile:n,currentUser:r}=yw(),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)({totalChallenges:0,wins:0,losses:0,winRate:0,activeWagers:0,completedWagers:0,totalEarnings:0,rank:"Unranked"}),[c,u]=(0,s.useState)([]),[d,h]=(0,s.useState)(!1),f=re();(0,s.useEffect)(()=>{const e=setTimeout(()=>{a(!1)},1e3);return()=>clearTimeout(e)},[r]),(0,s.useEffect)(()=>{r&&n&&(p(),m())},[r,n,p,m]);const p=(0,s.useCallback)(async()=>{if(null!==r&&void 0!==r&&r.uid)try{const e=Qm(lm(fw,"challenges"),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(e=>sg("or",e)),Jm._create("or",t)}($m("createdBy","==",r.uid),$m("acceptedBy","==",r.uid))),t=(await gg(e)).docs.map(e=>ze({id:e.id},e.data())),n=t.length,i=t.filter(e=>["open","pending_proof","disputed"].includes(e.status)).length,s=t.filter(e=>["won","lost","completed"].includes(e.status)).length,a=t.filter(e=>("completed"===e.status||"won"===e.status)&&(e.createdBy===r.uid&&e.winner===e.createdBy||e.acceptedBy===r.uid&&e.winner===e.acceptedBy)),o=s>0?a.length/s*100:0,c=a.reduce((e,t)=>e+(t.wagerAmount||0),0);let u="Unranked";c>=500?u="Gold":c>=200?u="Silver":c>=50&&(u="Bronze"),l({totalChallenges:n,wins:a.length,losses:s-a.length,winRate:Math.round(10*o)/10,activeWagers:i,completedWagers:s,totalEarnings:c,rank:u})}catch(e){console.error("Error fetching user stats:",e)}else console.warn("No current user ID available for fetching stats")},[null===r||void 0===r?void 0:r.uid]),m=(0,s.useCallback)(async()=>{if(null!==r&&void 0!==r&&r.uid)try{const e=Qm(lm(fw,"challenges"),$m("participants","array-contains",r.uid),Zm("createdAt","desc"),tg(5)),t=(await gg(e)).docs.map(e=>ze({id:e.id},e.data()));0===t.length?u([{id:1,type:"wager_won",title:"Push-up Challenge Won",amount:"+$25.00",time:"2 hours ago",icon:lb,color:"text-green-500"},{id:2,type:"wager_created",title:"Running Challenge Created",amount:"-$15.00",time:"1 day ago",icon:Ew,color:"text-blue-500"},{id:3,type:"wager_joined",title:"Meditation Challenge Joined",amount:"-$10.00",time:"2 days ago",icon:yb,color:"text-purple-500"}]):u(t)}catch(e){console.error("Error fetching recent activity:",e)}else console.warn("No current user ID available for fetching recent activity")},[null===r||void 0===r?void 0:r.uid]);return i?(0,mw.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,mw.jsx)("div",{className:"text-white text-xl",children:"Loading profile..."})}):r?(0,mw.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,mw.jsx)("div",{className:"bg-gray-800 shadow-sm border-b border-gray-700",children:(0,mw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsxs)("div",{children:[(0,mw.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center space-x-3",children:["Welcome back, ",(null===n||void 0===n?void 0:n.displayName)||(null===(e=r.email)||void 0===e?void 0:e.split("@")[0]),(0,mw.jsx)(ww,{size:"sm"})]}),(0,mw.jsx)("p",{className:"text-gray-300 mt-1",children:"Ready to take on some challenges?"})]}),(0,mw.jsx)(ex,{className:"bg-gray-700 px-4 py-2 rounded-lg"})]})})}),(0,mw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,mw.jsx)(ix,{}),(0,mw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,mw.jsx)("div",{className:"bg-gray-800 rounded-lg shadow p-6 border border-gray-700",children:(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Total Wagers"}),(0,mw.jsx)("p",{className:"text-2xl font-bold text-white",children:o.totalChallenges})]}),(0,mw.jsx)(Aw,{className:"h-8 w-8 text-blue-500"})]})}),(0,mw.jsx)("div",{className:"bg-gray-800 rounded-lg shadow p-6 border border-gray-700",children:(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Win Rate"}),(0,mw.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[o.winRate,"%"]})]}),(0,mw.jsx)(lb,{className:"h-8 w-8 text-yellow-500"})]})}),(0,mw.jsx)("div",{className:"bg-gray-800 rounded-lg shadow p-6 border border-gray-700",children:(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Total Earnings"}),(0,mw.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[o.totalEarnings," SIM"]}),(0,mw.jsx)("p",{className:"text-xs text-gray-500",children:"(FAKE CURRENCY)"})]}),(0,mw.jsx)(pb,{className:"h-8 w-8 text-green-500"})]})}),(0,mw.jsx)("div",{className:"bg-gray-800 rounded-lg shadow p-6 border border-gray-700",children:(0,mw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-sm font-medium text-gray-400",children:"Current Rank"}),(0,mw.jsx)("p",{className:"text-2xl font-bold text-primaryAccent",children:o.rank})]}),(0,mw.jsx)(xx,{className:"h-8 w-8 text-purple-300"})]})})]}),(0,mw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,mw.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow border border-gray-700",children:[(0,mw.jsx)("div",{className:"p-6 border-b border-gray-600",children:(0,mw.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Quick Actions"})}),(0,mw.jsx)("div",{className:"p-6",children:(0,mw.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mw.jsxs)(Re,{to:"/wagers",className:"flex flex-col items-center p-4 border border-gray-600 rounded-lg hover:border-purple-400 transition-colors",children:[(0,mw.jsx)(Aw,{className:"h-8 w-8 text-blue-500 mb-2"}),(0,mw.jsx)("span",{className:"text-sm font-medium text-white",children:"My Wagers"}),(0,mw.jsxs)("span",{className:"text-xs text-gray-500",children:[o.activeWagers," active"]})]}),(0,mw.jsxs)(Re,{to:"/create-challenge",className:"flex flex-col items-center p-4 border border-gray-600 rounded-lg hover:border-purple-400 transition-colors",children:[(0,mw.jsx)(Ew,{className:"h-8 w-8 text-green-500 mb-2"}),(0,mw.jsx)("span",{className:"text-sm font-medium text-white",children:"Create Wager"}),(0,mw.jsx)("span",{className:"text-xs text-gray-500",children:"Start earning"})]}),(0,mw.jsxs)(Re,{to:"/wagering",className:"flex flex-col items-center p-4 border border-gray-600 rounded-lg hover:border-purple-400 transition-colors",children:[(0,mw.jsx)($w,{className:"h-8 w-8 text-purple-500 mb-2"}),(0,mw.jsx)("span",{className:"text-sm font-medium text-white",children:"View Challenges"}),(0,mw.jsx)("span",{className:"text-xs text-gray-500",children:"Browse wagers"})]}),(0,mw.jsxs)(Re,{to:"/wallet",className:"flex flex-col items-center p-4 border border-gray-600 rounded-lg hover:border-purple-400 transition-colors",children:[(0,mw.jsx)(yb,{className:"h-8 w-8 text-purple-300 mb-2"}),(0,mw.jsx)("span",{className:"text-sm font-medium text-white",children:"Wallet"}),(0,mw.jsx)("span",{className:"text-xs text-gray-500",children:"Manage funds"})]})]})})]}),(0,mw.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow border border-gray-700",children:[(0,mw.jsx)("div",{className:"p-6 border-b border-gray-600",children:(0,mw.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Recent Activity"})}),(0,mw.jsxs)("div",{className:"p-6",children:[(0,mw.jsx)("div",{className:"space-y-4",children:c.map(e=>{const t=e.icon;return(0,mw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mw.jsx)("div",{className:"p-2 rounded-full bg-gray-700",children:(0,mw.jsx)(t,{className:"h-4 w-4 ".concat(e.color)})}),(0,mw.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mw.jsx)("p",{className:"text-sm font-medium text-white",children:e.title}),(0,mw.jsxs)("p",{className:"text-xs text-gray-500 flex items-center",children:[(0,mw.jsx)(Ab,{className:"h-3 w-3 mr-1"}),e.time]})]}),(0,mw.jsxs)("div",{className:"text-sm font-semibold",children:[(0,mw.jsx)("span",{className:e.amount.startsWith("+")?"text-green-600":"text-red-600",children:e.amount}),(0,mw.jsx)("div",{className:"text-xs text-gray-500",children:"(FAKE)"})]})]},e.id)})}),(0,mw.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-600",children:(0,mw.jsx)(Re,{to:"/wagers",className:"text-sm text-primaryAccent hover:text-purple-300 font-medium",children:"View all activity ?"})})]})]})]}),(0,mw.jsxs)("div",{className:"bg-purple-900 bg-opacity-30 border border-primaryAccent rounded-lg p-6 mb-8",children:[(0,mw.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,mw.jsx)(ww,{size:"sm"}),(0,mw.jsx)("h3",{className:"text-lg font-semibold text-purple-200",children:"Beta Testing Mode"})]}),(0,mw.jsx)("p",{className:"text-sm text-purple-100",children:"You're using SkillWagers Beta with fake currency for testing purposes. All wagers, earnings, and statistics are simulated. Help us improve by reporting any issues you encounter!"})]})]}),(0,mw.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,mw.jsxs)("div",{className:"mb-8",children:[(0,mw.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Profile Settings"}),(0,mw.jsx)("p",{className:"text-gray-400",children:"Manage your account and preferences"})]}),(0,mw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,mw.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,mw.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,mw.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Profile Picture"}),(0,mw.jsx)(gx,{})]}),(0,mw.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,mw.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Display Name"}),(0,mw.jsx)(lx,{})]}),(0,mw.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,mw.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Daily Reward"}),(0,mw.jsx)(vx,{})]}),(0,mw.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,mw.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Account"}),(0,mw.jsxs)("div",{className:"space-y-4",children:[(0,mw.jsx)(hx,{}),(0,mw.jsx)("button",{onClick:()=>h(!0),className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition duration-200",children:"Sign Out"})]})]})]}),(0,mw.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,mw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,mw.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,mw.jsxs)("div",{className:"flex items-center",children:[(0,mw.jsx)(lb,{className:"h-8 w-8 text-yellow-500 mr-3"}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-sm text-gray-400",children:"Challenges"}),(0,mw.jsx)("p",{className:"text-2xl font-bold",children:o.totalChallenges})]})]})}),(0,mw.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,mw.jsxs)("div",{className:"flex items-center",children:[(0,mw.jsx)(Aw,{className:"h-8 w-8 text-green-500 mr-3"}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-sm text-gray-400",children:"Wins"}),(0,mw.jsx)("p",{className:"text-2xl font-bold text-green-500",children:o.wins})]})]})}),(0,mw.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,mw.jsxs)("div",{className:"flex items-center",children:[(0,mw.jsx)(Aw,{className:"h-8 w-8 text-red-500 mr-3"}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-sm text-gray-400",children:"Losses"}),(0,mw.jsx)("p",{className:"text-2xl font-bold text-red-500",children:o.losses})]})]})}),(0,mw.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,mw.jsxs)("div",{className:"flex items-center",children:[(0,mw.jsx)(Tw,{className:"h-8 w-8 text-blue-500 mr-3"}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-sm text-gray-400",children:"Win Rate"}),(0,mw.jsxs)("p",{className:"text-2xl font-bold text-blue-500",children:[o.winRate.toFixed(1),"%"]})]})]})})]}),(0,mw.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,mw.jsx)("div",{className:"flex items-center justify-between",children:(0,mw.jsxs)("div",{className:"flex items-center",children:[(0,mw.jsx)(pb,{className:"h-8 w-8 text-green-500 mr-3"}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-sm text-gray-400",children:"Current Balance"}),(0,mw.jsxs)("p",{className:"text-3xl font-bold text-green-500",children:["$",(null===n||void 0===n||null===(t=n.balance)||void 0===t?void 0:t.toLocaleString())||"0"]})]})]})})}),(0,mw.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,mw.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),c.length>0?(0,mw.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,mw.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[(0,mw.jsx)("h3",{className:"font-medium",children:e.title}),(0,mw.jsxs)("p",{className:"text-sm text-gray-400",children:["Status: ",(0,mw.jsx)("span",{className:"capitalize",children:e.status})]}),(0,mw.jsxs)("p",{className:"text-sm text-gray-400",children:["Stake: $",e.stake]})]},e.id))}):(0,mw.jsx)("p",{className:"text-gray-400",children:"No recent activity"})]})]})]})]}),d&&(0,mw.jsx)(yx,{onClose:()=>h(!1)})]}):(f("/login"),null)},Ex=()=>{const{currentUser:e,userProfile:t}=yw(),n=re(),[r,i]=(0,s.useState)({title:"",description:"",game:"",stakeAmount:"",rules:"",proofRequirements:"",category:"gaming"}),[a,o]=(0,s.useState)(!1),l=e=>{const{name:t,value:n}=e.target;i(e=>ze(ze({},e),{},{[t]:n}))};return e?(0,mw.jsx)("div",{className:"min-h-screen bg-gray-900 py-8",children:(0,mw.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mw.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,mw.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Create Challenge"}),(0,mw.jsxs)("div",{className:"bg-blue-900 bg-opacity-30 border border-blue-600 rounded-lg p-4 mb-6",children:[(0,mw.jsxs)("h3",{className:"text-lg font-semibold text-blue-300 mb-2 flex items-center",children:[(0,mw.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,mw.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Skill-Based Challenge Policy"]}),(0,mw.jsxs)("div",{className:"text-sm text-blue-200 space-y-2",children:[(0,mw.jsxs)("p",{children:["SkillWagers only allows ",(0,mw.jsx)("strong",{children:"skill-based challenges"}),". Your challenge must:"]}),(0,mw.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[(0,mw.jsx)("li",{children:"Test a specific skill, ability, or knowledge"}),(0,mw.jsx)("li",{children:"Have clear, measurable success criteria"}),(0,mw.jsx)("li",{children:"Require practice or expertise to complete"}),(0,mw.jsx)("li",{children:"Include detailed proof requirements"})]}),(0,mw.jsxs)("p",{className:"text-xs text-blue-300 mt-2",children:[(0,mw.jsx)("strong",{children:"Prohibited:"})," Gambling, games of chance, luck-based activities, coin flips, dice rolls, or any random outcome challenges."]})]})]}),(0,mw.jsxs)("form",{onSubmit:async i=>{if(i.preventDefault(),!e)return void rn.error("You must be logged in to create a challenge");if(null===t||void 0===t||!t.ageVerified)return void rn.error("You must verify your age before creating challenges. Go to Profile \u2192 Settings to verify your age.");const s=(()=>{const e=[],t="".concat(r.title," ").concat(r.description," ").concat(r.rules).toLowerCase(),n=["gambling","casino","luck","random","chance","lottery","dice","coin flip","roulette","slot","bet on","pure chance"].find(e=>t.includes(e));return n&&e.push('Challenge contains prohibited term "'.concat(n,'". SkillWagers only allows skill-based challenges.')),(!r.proofRequirements||r.proofRequirements.length<20)&&e.push("Proof requirements must be detailed (minimum 20 characters) to demonstrate skill was required."),(!r.rules||r.rules.length<30)&&e.push("Rules must be detailed (minimum 30 characters) to clearly define the skill being tested."),["skill","ability","performance","achieve","demonstrate","complete","master","practice","learn","improve","technique","strategy"].some(e=>t.includes(e))||e.push('Challenge should clearly demonstrate skill. Consider including words like "skill", "ability", "performance", or "demonstrate".'),e})();if(s.length>0)return void s.forEach(e=>rn.error(e));const a=parseFloat(r.stakeAmount);if(a<=0)rn.error("Stake amount must be greater than 0");else if(a>((null===t||void 0===t?void 0:t.betaBalance)||0))rn.error("Insufficient balance for this stake amount");else try{o(!0);const i=await kg(fw,async n=>{const i=cm(fw,"users",e.uid),s=await n.get(i);if(!s.exists())throw new Error("User document not found");const o=s.data().betaBalance||0;if(o<a)throw new Error("Insufficient balance for this stake amount");n.update(i,{betaBalance:Sg(-a)});const l=ze(ze({},r),{},{stakeAmount:a,creatorId:e.uid,creatorName:t.displayName||e.displayName,creatorEmail:e.email,status:"open",acceptorId:null,acceptorName:null,proofSubmitted:!1,disputeRaised:!1,winner:null,escrowAmount:a,createdAt:Ng(),updatedAt:Ng()}),c=cm(lm(fw,"challenges"));return n.set(c,l),{challengeId:c.id,newBalance:o-a}});rn.success("Challenge created! ".concat(a," coins escrowed. Remaining balance: ").concat(i.newBalance)),n("/challenge/".concat(i.challengeId))}catch(l){console.error("Error creating challenge:",l),rn.error("Failed to create challenge")}finally{o(!1)}},className:"space-y-6",children:[(0,mw.jsxs)("div",{children:[(0,mw.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Challenge Title"}),(0,mw.jsx)("input",{type:"text",name:"title",value:r.title,onChange:l,required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primaryAccent",placeholder:"Enter challenge title"})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Game"}),(0,mw.jsxs)("select",{name:"game",value:r.game,onChange:l,required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-primaryAccent",children:[(0,mw.jsx)("option",{value:"",children:"Select a game"}),["League of Legends","Counter-Strike 2","Valorant","Fortnite","Apex Legends","Call of Duty","Rocket League","Chess","Other"].map(e=>(0,mw.jsx)("option",{value:e,children:e},e))]})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Stake Amount (SIM)"}),(0,mw.jsx)("input",{type:"number",name:"stakeAmount",value:r.stakeAmount,onChange:l,required:!0,min:"1",step:"1",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primaryAccent",placeholder:"Enter stake amount"}),(0,mw.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Your balance: ",(null===t||void 0===t?void 0:t.betaBalance)||0," SIM"]})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Description"}),(0,mw.jsx)("textarea",{name:"description",value:r.description,onChange:l,required:!0,rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primaryAccent resize-vertical",placeholder:"Describe your challenge"})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Rules"}),(0,mw.jsx)("textarea",{name:"rules",value:r.rules,onChange:l,required:!0,rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primaryAccent resize-vertical",placeholder:"Define the rules and conditions for winning"}),(0,mw.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Be specific about what skill is being tested and how success is measured. Minimum 30 characters required."})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Proof Requirements"}),(0,mw.jsx)("textarea",{name:"proofRequirements",value:r.proofRequirements,onChange:l,required:!0,rows:2,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primaryAccent resize-vertical",placeholder:"What proof is required to validate the win?"}),(0,mw.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Describe what evidence is needed to verify skill demonstration. Screenshots, videos, or other documentation. Minimum 20 characters required."})]}),(0,mw.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-primaryAccent hover:bg-secondary-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-colors",children:a?"Creating Challenge...":"Create Challenge"})]})]})})}):(0,mw.jsx)("div",{className:"min-h-screen py-8",children:(0,mw.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mw.jsxs)("div",{className:"card-gradient",children:[(0,mw.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-6",children:"Create Challenge"}),(0,mw.jsx)("p",{className:"text-gray-300",children:"Please log in to create a challenge."})]})})})},kx=["title","titleId"];function Nx(e,t){let{title:n,titleId:r}=e,i=bw(e,kx);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Sx=s.forwardRef(Nx),Tx=["title","titleId"];function Cx(e,t){let{title:n,titleId:r}=e,i=bw(e,Tx);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Ix=s.forwardRef(Cx),jx=()=>{const e=[{icon:$w,title:"Gift Card Trading",description:"Buy and sell gift cards for coins with other users",timeline:"Phase 2"},{icon:lb,title:"Verified Sellers",description:"Trusted seller badges and reputation system for safe trading",timeline:"Phase 2"},{icon:Sx,title:"Trade Notifications",description:"Real-time alerts for new gift card listings and trades",timeline:"Phase 3"},{icon:Ix,title:"Auto-Matching",description:"Automatic matching for gift card buyers and sellers",timeline:"Phase 3"}];return(0,mw.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,mw.jsx)("div",{className:"bg-gray-800 shadow-sm border-b border-gray-700",children:(0,mw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,mw.jsxs)("div",{className:"text-center",children:[(0,mw.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center justify-center space-x-3",children:[(0,mw.jsx)($w,{className:"h-8 w-8"}),"Gift Card Marketplace",(0,mw.jsx)(ww,{size:"sm"})]}),(0,mw.jsx)("p",{className:"text-gray-300 mt-2",children:"Buy and sell gift cards for coins - Coming Soon in Beta Phase 2"})]})})}),(0,mw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,mw.jsxs)("div",{className:"text-center mb-12",children:[(0,mw.jsx)("div",{className:"mx-auto w-24 h-24 bg-gradient-to-r from-primaryAccent to-red-500 rounded-full flex items-center justify-center mb-6",children:(0,mw.jsx)(Ab,{className:"h-12 w-12 text-white"})}),(0,mw.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Gift Card Marketplace Coming Soon!"}),(0,mw.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:"We're building an amazing marketplace where you can buy and sell gift cards for coins with other users. Trade your gift cards safely and securely within our community!"}),(0,mw.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[(0,mw.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primaryAccent"}),(0,mw.jsx)("span",{className:"text-sm text-gray-500",children:"Currently in development..."})]})]}),(0,mw.jsxs)("div",{className:"mb-12",children:[(0,mw.jsx)("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-8",children:"Planned Gift Card Trading Features"}),(0,mw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((e,t)=>{const n=e.icon;return(0,mw.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-sm border border-gray-700 p-6",children:(0,mw.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,mw.jsx)("div",{className:"p-3 bg-purple-900 bg-opacity-30 rounded-lg",children:(0,mw.jsx)(n,{className:"h-6 w-6 text-purple-300"})}),(0,mw.jsxs)("div",{className:"flex-1",children:[(0,mw.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,mw.jsx)("h4",{className:"text-lg font-semibold text-white",children:e.title}),(0,mw.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-900 bg-opacity-30 text-blue-300",children:e.timeline})]}),(0,mw.jsx)("p",{className:"text-gray-400",children:e.description})]})]})},t)})})]}),(0,mw.jsx)("div",{className:"bg-purple-900 bg-opacity-30 border border-primaryAccent rounded-lg p-8 mb-8",children:(0,mw.jsxs)("div",{className:"text-center",children:[(0,mw.jsx)(ww,{size:"md",className:"mb-4"}),(0,mw.jsx)("h3",{className:"text-xl font-semibold text-purple-200 mb-4",children:"What You Can Do Now in Beta"}),(0,mw.jsx)("p",{className:"text-purple-100 mb-6",children:"While we're building the marketplace, you can still test core features:"}),(0,mw.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-lg mx-auto",children:[(0,mw.jsxs)(Re,{to:"/create-challenge",className:"flex items-center justify-center space-x-2 bg-gray-800 border border-primaryAccent rounded-lg p-4 hover:bg-gray-700 transition-colors",children:[(0,mw.jsx)(Ew,{className:"h-5 w-5 text-purple-300"}),(0,mw.jsx)("span",{className:"text-purple-200 font-medium",children:"Create Challenges"})]}),(0,mw.jsxs)(Re,{to:"/wagering",className:"flex items-center justify-center space-x-2 bg-gray-800 border border-primaryAccent rounded-lg p-4 hover:bg-gray-700 transition-colors",children:[(0,mw.jsx)(lb,{className:"h-5 w-5 text-purple-300"}),(0,mw.jsx)("span",{className:"text-purple-200 font-medium",children:"Browse Challenges"})]})]})]})}),(0,mw.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-sm border border-gray-700 p-8 text-center",children:[(0,mw.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Help Shape the Gift Card Marketplace"}),(0,mw.jsx)("p",{className:"text-gray-400 mb-6",children:"Your feedback during Beta testing helps us build the gift card trading features you actually want. Tell us what types of gift cards and trading features would be most valuable to you!"}),(0,mw.jsxs)("div",{className:"space-y-3",children:[(0,mw.jsxs)("div",{className:"text-sm text-gray-400",children:["Send feedback to: ",(0,mw.jsx)("strong",{className:"text-purple-300",children:"beta@skillwagers.com"})]}),(0,mw.jsxs)("div",{className:"text-sm text-gray-400",children:["Gift Card Trading Launch: ",(0,mw.jsx)("strong",{className:"text-purple-300",children:"Q2 2024"})]})]})]})]})]})},Ax=()=>{const{id:e}=function(){let{matches:e}=s.useContext(X),t=e[e.length-1];return t?t.params:{}}(),t=re(),{currentUser:n,userProfile:r}=yw(),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(""),[f,p]=(0,s.useState)(!1),m=(0,s.useCallback)(async()=>{try{const n=await pg(cm(fw,"challenges",e));n.exists()?a(ze({id:n.id},n.data())):(rn.error("Challenge not found"),t("/marketplace"))}catch(n){console.error("Error fetching challenge:",n),rn.error("Failed to load challenge")}finally{l(!1)}},[e,t]);(0,s.useEffect)(()=>{m()},[m]);const g=e=>{if(!e)return"N/A";return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};if(o)return(0,mw.jsx)("div",{className:"min-h-screen py-8",children:(0,mw.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mw.jsx)("div",{className:"card-gradient",children:(0,mw.jsxs)("div",{className:"animate-pulse",children:[(0,mw.jsx)("div",{className:"h-8 bg-dark-600 rounded w-1/3 mb-4"}),(0,mw.jsx)("div",{className:"h-4 bg-dark-600 rounded w-2/3 mb-2"}),(0,mw.jsx)("div",{className:"h-4 bg-dark-600 rounded w-1/2"})]})})})});if(!i)return(0,mw.jsx)("div",{className:"min-h-screen py-8",children:(0,mw.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mw.jsxs)("div",{className:"card-gradient",children:[(0,mw.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-6",children:"Challenge Not Found"}),(0,mw.jsx)("p",{className:"text-gray-300",children:"The challenge you're looking for doesn't exist."})]})})});const y=(null===n||void 0===n?void 0:n.uid)===i.creatorId,v=(null===n||void 0===n?void 0:n.uid)===i.acceptorId,w="open"===i.status&&!y&&n,b="accepted"===i.status&&v&&!i.proofSubmitted,x="accepted"===i.status&&i.proofSubmitted&&!i.disputeRaised;return(0,mw.jsxs)("div",{className:"min-h-screen py-8",children:[(0,mw.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mw.jsxs)("div",{className:"card-gradient",children:[(0,mw.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,mw.jsxs)("div",{children:[(0,mw.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-2",children:i.title}),(0,mw.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mw.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat((e=>{const t={open:"bg-blue-500 bg-opacity-20 text-blue-400",accepted:"bg-yellow-500 bg-opacity-20 text-yellow-400",completed:"bg-green-500 bg-opacity-20 text-green-400",disputed:"bg-red-500 bg-opacity-20 text-red-400",cancelled:"bg-gray-500 bg-opacity-20 text-gray-400"};return t[e]||t.open})(i.status)),children:i.status.charAt(0).toUpperCase()+i.status.slice(1)}),(0,mw.jsxs)("span",{className:"text-gray-400 text-sm",children:["Game: ",i.game]})]})]}),(0,mw.jsxs)("div",{className:"text-right",children:[(0,mw.jsxs)("div",{className:"flex items-center text-primary-400 mb-1",children:[(0,mw.jsx)(pb,{className:"h-5 w-5 mr-1"}),(0,mw.jsxs)("span",{className:"text-lg font-bold",children:[i.stakeAmount," SIM"]})]}),(0,mw.jsx)("p",{className:"text-xs text-gray-400",children:"Stake Amount"})]})]}),(0,mw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,mw.jsxs)("div",{children:[(0,mw.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Challenge Details"}),(0,mw.jsxs)("div",{className:"space-y-3",children:[(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-sm text-gray-400",children:"Description"}),(0,mw.jsx)("p",{className:"text-gray-300",children:i.description})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-sm text-gray-400",children:"Rules"}),(0,mw.jsx)("p",{className:"text-gray-300",children:i.rules})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("p",{className:"text-sm text-gray-400",children:"Proof Requirements"}),(0,mw.jsx)("p",{className:"text-gray-300",children:i.proofRequirements})]})]})]}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Participants"}),(0,mw.jsxs)("div",{className:"space-y-3",children:[(0,mw.jsxs)("div",{className:"flex items-center",children:[(0,mw.jsx)(Tw,{className:"h-5 w-5 text-primary-400 mr-2"}),(0,mw.jsxs)("div",{children:[(0,mw.jsxs)("p",{className:"text-white font-medium",children:["Creator: ",i.creatorName]}),(0,mw.jsxs)("p",{className:"text-xs text-gray-400",children:["Created ",g(i.createdAt)]})]})]}),i.acceptorName&&(0,mw.jsxs)("div",{className:"flex items-center",children:[(0,mw.jsx)(lb,{className:"h-5 w-5 text-accent-400 mr-2"}),(0,mw.jsxs)("div",{children:[(0,mw.jsxs)("p",{className:"text-white font-medium",children:["Acceptor: ",i.acceptorName]}),(0,mw.jsxs)("p",{className:"text-xs text-gray-400",children:["Accepted ",g(i.acceptedAt)]})]})]})]}),i.proofSubmitted&&(0,mw.jsxs)("div",{className:"mt-4 p-3 bg-dark-700 rounded-lg",children:[(0,mw.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Proof Submitted"}),(0,mw.jsx)("p",{className:"text-gray-300 text-sm",children:i.proofText}),(0,mw.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Submitted ",g(i.proofSubmittedAt)]})]})]})]}),(0,mw.jsxs)("div",{className:"flex flex-wrap gap-3",children:[w&&(0,mw.jsx)("button",{onClick:async()=>{if(n&&r)if(r.ageVerified)if(i.stakeAmount>(r.betaBalance||0))rn.error("Insufficient balance to accept this challenge");else try{u(!0);const t=cm(fw,"challenges",e);await vg(t,{status:"accepted",acceptorId:n.uid,acceptorName:r.displayName||n.displayName,acceptedAt:Ng(),updatedAt:Ng()});const s=cm(fw,"users",n.uid);await vg(s,{betaBalance:Sg(-i.stakeAmount)}),rn.success("Challenge accepted! Good luck!"),m()}catch(t){console.error("Error accepting challenge:",t),rn.error("Failed to accept challenge")}finally{u(!1)}else rn.error("You must verify your age before accepting challenges");else rn.error("You must be logged in to accept challenges")},disabled:c,className:"bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:c?"Accepting...":"Accept Challenge"}),b&&(0,mw.jsx)("button",{onClick:()=>p(!0),className:"bg-success-600 hover:bg-success-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Submit Proof"}),x&&(y||v)&&(0,mw.jsxs)("button",{onClick:async()=>{try{u(!0),await function(e,t){const n=tm(e.firestore,dm),r=cm(e),i=og(e.converter,t);return wg(n,[Sm(Nm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Yu.exists(!1))]).then(()=>r)}(lm(fw,"disputes"),{challengeId:e,challengeTitle:i.title,creatorId:i.creatorId,acceptorId:i.acceptorId,disputeRaisedBy:n.uid,status:"open",createdAt:Ng()});const t=cm(fw,"challenges",e);await vg(t,{status:"disputed",disputeRaised:!0,disputeRaisedAt:Ng(),updatedAt:Ng()}),rn.success("Dispute raised successfully"),m()}catch(t){console.error("Error raising dispute:",t),rn.error("Failed to raise dispute")}finally{u(!1)}},disabled:c,className:"bg-red-600 hover:bg-red-700 disabled:opacity-50 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center",children:[(0,mw.jsx)(Db,{className:"h-4 w-4 mr-2"}),c?"Raising Dispute...":"Raise Dispute"]})]})]})}),f&&(0,mw.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mw.jsxs)("div",{className:"bg-dark-800 rounded-lg max-w-md w-full p-6",children:[(0,mw.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Submit Proof"}),(0,mw.jsx)("textarea",{value:d,onChange:e=>h(e.target.value),placeholder:"Describe your proof of completion...",rows:4,className:"w-full px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 mb-4"}),(0,mw.jsxs)("div",{className:"flex space-x-3",children:[(0,mw.jsx)("button",{onClick:async()=>{if(d.trim())try{u(!0);const t=cm(fw,"challenges",e);await vg(t,{proofSubmitted:!0,proofText:d,proofSubmittedAt:Ng(),updatedAt:Ng()}),p(!1),h(""),rn.success("Proof submitted successfully!"),m()}catch(t){console.error("Error submitting proof:",t),rn.error("Failed to submit proof")}finally{u(!1)}else rn.error("Please provide proof description")},disabled:c,className:"flex-1 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:c?"Submitting...":"Submit Proof"}),(0,mw.jsx)("button",{onClick:()=>p(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})})]})};function Rx(e,t){return function(){return e.apply(t,arguments)}}const{toString:Px}=Object.prototype,{getPrototypeOf:Ox}=Object,{iterator:Dx,toStringTag:Lx}=Symbol,Mx=(Ux=Object.create(null),e=>{const t=Px.call(e);return Ux[t]||(Ux[t]=t.slice(8,-1).toLowerCase())});var Ux;const Fx=e=>(e=e.toLowerCase(),t=>Mx(t)===e),Bx=e=>t=>typeof t===e,{isArray:Vx}=Array,zx=Bx("undefined");function qx(e){return null!==e&&!zx(e)&&null!==e.constructor&&!zx(e.constructor)&&Kx(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Wx=Fx("ArrayBuffer");const Hx=Bx("string"),Kx=Bx("function"),Gx=Bx("number"),Qx=e=>null!==e&&"object"===typeof e,Yx=e=>{if("object"!==Mx(e))return!1;const t=Ox(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Lx in e)&&!(Dx in e)},$x=Fx("Date"),Jx=Fx("File"),Xx=Fx("Blob"),Zx=Fx("FileList"),e_=Fx("URLSearchParams"),[t_,n_,r_,i_]=["ReadableStream","Request","Response","Headers"].map(Fx);function s_(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Vx(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(qx(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let a;for(n=0;n<s;n++)a=r[n],t.call(null,e[a],a,e)}}function a_(e,t){if(qx(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const o_="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,l_=e=>!zx(e)&&e!==o_;const c_=(u_="undefined"!==typeof Uint8Array&&Ox(Uint8Array),e=>u_&&e instanceof u_);var u_;const d_=Fx("HTMLFormElement"),h_=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),f_=Fx("RegExp"),p_=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};s_(n,(n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)}),Object.defineProperties(e,r)};const m_=Fx("AsyncFunction"),g_=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],o_.addEventListener("message",e=>{let{source:t,data:i}=e;t===o_&&i===n&&r.length&&r.shift()()},!1),e=>{r.push(e),o_.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Kx(o_.postMessage)),y_="undefined"!==typeof queueMicrotask?queueMicrotask.bind(o_):"undefined"!==typeof process&&process.nextTick||g_,v_={isArray:Vx,isArrayBuffer:Wx,isBuffer:qx,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Kx(e.append)&&("formdata"===(t=Mx(e))||"object"===t&&Kx(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Wx(e.buffer),t},isString:Hx,isNumber:Gx,isBoolean:e=>!0===e||!1===e,isObject:Qx,isPlainObject:Yx,isEmptyObject:e=>{if(!Qx(e)||qx(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(qe){return!1}},isReadableStream:t_,isRequest:n_,isResponse:r_,isHeaders:i_,isUndefined:zx,isDate:$x,isFile:Jx,isBlob:Xx,isRegExp:f_,isFunction:Kx,isStream:e=>Qx(e)&&Kx(e.pipe),isURLSearchParams:e_,isTypedArray:c_,isFileList:Zx,forEach:s_,merge:function e(){const{caseless:t,skipUndefined:n}=l_(this)&&this||{},r={},i=(i,s)=>{const a=t&&a_(r,s)||s;Yx(r[a])&&Yx(i)?r[a]=e(r[a],i):Yx(i)?r[a]=e({},i):Vx(i)?r[a]=i.slice():n&&zx(i)||(r[a]=i)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&s_(arguments[s],i);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s_(t,(t,r)=>{n&&Kx(t)?e[r]=Rx(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,a;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&Ox(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Mx,kindOfTest:Fx,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Vx(e))return e;let t=e.length;if(!Gx(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Dx]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:d_,hasOwnProperty:h_,hasOwnProp:h_,reduceDescriptors:p_,freezeMethods:e=>{p_(e,(t,n)=>{if(Kx(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Kx(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Vx(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:a_,global:o_,isContextDefined:l_,isSpecCompliantForm:function(e){return!!(e&&Kx(e.append)&&"FormData"===e[Lx]&&e[Dx])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Qx(e)){if(t.indexOf(e)>=0)return;if(qx(e))return e;if(!("toJSON"in e)){t[r]=e;const i=Vx(e)?[]:{};return s_(e,(e,t)=>{const s=n(e,r+1);!zx(s)&&(i[t]=s)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:m_,isThenable:e=>e&&(Qx(e)||Kx(e))&&Kx(e.then)&&Kx(e.catch),setImmediate:g_,asap:y_,isIterable:e=>null!=e&&Kx(e[Dx])};function w_(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}v_.inherits(w_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v_.toJSONObject(this.config),code:this.code,status:this.status}}});const b_=w_.prototype,x_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{x_[e]={value:e}}),Object.defineProperties(w_,x_),Object.defineProperty(b_,"isAxiosError",{value:!0}),w_.from=(e,t,n,r,i,s)=>{const a=Object.create(b_);v_.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return w_.call(a,o,l,n,r,i),e&&null==a.cause&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",s&&Object.assign(a,s),a};const __=w_;function E_(e){return v_.isPlainObject(e)||v_.isArray(e)}function k_(e){return v_.endsWith(e,"[]")?e.slice(0,-2):e}function N_(e,t,n){return e?e.concat(t).map(function(e,t){return e=k_(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const S_=v_.toFlatObject(v_,{},null,function(e){return/^is[A-Z]/.test(e)});const T_=function(e,t,n){if(!v_.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=v_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!v_.isUndefined(t[e])})).metaTokens,i=n.visitor||c,s=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&v_.isSpecCompliantForm(t);if(!v_.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(v_.isDate(e))return e.toISOString();if(v_.isBoolean(e))return e.toString();if(!o&&v_.isBlob(e))throw new __("Blob is not supported. Use a Buffer instead.");return v_.isArrayBuffer(e)||v_.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(v_.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(v_.isArray(e)&&function(e){return v_.isArray(e)&&!e.some(E_)}(e)||(v_.isFileList(e)||v_.endsWith(n,"[]"))&&(o=v_.toArray(e)))return n=k_(n),o.forEach(function(e,r){!v_.isUndefined(e)&&null!==e&&t.append(!0===a?N_([n],r,s):null===a?n:n+"[]",l(e))}),!1;return!!E_(e)||(t.append(N_(i,n,s),l(e)),!1)}const u=[],d=Object.assign(S_,{defaultVisitor:c,convertValue:l,isVisitable:E_});if(!v_.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!v_.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),v_.forEach(n,function(n,s){!0===(!(v_.isUndefined(n)||null===n)&&i.call(t,n,v_.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])}),u.pop()}}(e),t};function C_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function I_(e,t){this._pairs=[],e&&T_(e,this,t)}const j_=I_.prototype;j_.append=function(e,t){this._pairs.push([e,t])},j_.toString=function(e){const t=e?function(t){return e.call(this,t,C_)}:C_;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const A_=I_;function R_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function P_(e,t,n){if(!t)return e;const r=n&&n.encode||R_;v_.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):v_.isURLSearchParams(t)?t.toString():new A_(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const O_=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){v_.forEach(this.handlers,function(t){null!==t&&e(t)})}},D_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},L_={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:A_,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},M_="undefined"!==typeof window&&"undefined"!==typeof document,U_="object"===typeof navigator&&navigator||void 0,F_=M_&&(!U_||["ReactNative","NativeScript","NS"].indexOf(U_.product)<0),B_="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,V_=M_&&window.location.href||"http://localhost",z_=ze(ze({},r),L_);const q_=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const a=Number.isFinite(+s),o=i>=e.length;if(s=!s&&v_.isArray(r)?r.length:s,o)return v_.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!a;r[s]&&v_.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&v_.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!a}if(v_.isFormData(e)&&v_.isFunction(e.entries)){const n={};return v_.forEachEntry(e,(e,r)=>{t(function(e){return v_.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const W_={transitional:D_,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=v_.isObject(e);i&&v_.isHTMLForm(e)&&(e=new FormData(e));if(v_.isFormData(e))return r?JSON.stringify(q_(e)):e;if(v_.isArrayBuffer(e)||v_.isBuffer(e)||v_.isStream(e)||v_.isFile(e)||v_.isBlob(e)||v_.isReadableStream(e))return e;if(v_.isArrayBufferView(e))return e.buffer;if(v_.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return T_(e,new z_.classes.URLSearchParams,ze({visitor:function(e,t,n,r){return z_.isNode&&v_.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=v_.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return T_(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(v_.isString(e))try{return(t||JSON.parse)(e),v_.trim(e)}catch(qe){if("SyntaxError"!==qe.name)throw qe}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||W_.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(v_.isResponse(e)||v_.isReadableStream(e))return e;if(e&&v_.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(qe){if(n){if("SyntaxError"===qe.name)throw __.from(qe,__.ERR_BAD_RESPONSE,this,null,this.response);throw qe}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:z_.classes.FormData,Blob:z_.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};v_.forEach(["delete","get","head","post","put","patch"],e=>{W_.headers[e]={}});const H_=W_,K_=v_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),G_=Symbol("internals");function Q_(e){return e&&String(e).trim().toLowerCase()}function Y_(e){return!1===e||null==e?e:v_.isArray(e)?e.map(Y_):String(e)}function $_(e,t,n,r,i){return v_.isFunction(r)?r.call(this,t,n):(i&&(t=n),v_.isString(t)?v_.isString(r)?-1!==t.indexOf(r):v_.isRegExp(r)?r.test(t):void 0:void 0)}class J_{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Q_(t);if(!i)throw new Error("header name must be a non-empty string");const s=v_.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Y_(e))}const s=(e,t)=>v_.forEach(e,(e,n)=>i(e,n,t));if(v_.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(v_.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&K_[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(v_.isObject(e)&&v_.isIterable(e)){let n,r,i={};for(const t of e){if(!v_.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?v_.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=Q_(e)){const n=v_.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(v_.isFunction(t))return t.call(this,e,n);if(v_.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Q_(e)){const n=v_.findKey(this,e);return!(!n||void 0===this[n]||t&&!$_(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Q_(e)){const i=v_.findKey(n,e);!i||t&&!$_(0,n[i],i,t)||(delete n[i],r=!0)}}return v_.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!$_(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return v_.forEach(this,(r,i)=>{const s=v_.findKey(n,i);if(s)return t[s]=Y_(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();a!==i&&delete t[i],t[a]=Y_(r),n[a]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return v_.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&v_.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[G_]=this[G_]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Q_(e);t[r]||(!function(e,t){const n=v_.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return v_.isArray(e)?e.forEach(r):r(e),this}}J_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),v_.reduceDescriptors(J_.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),v_.freezeMethods(J_);const X_=J_;function Z_(e,t){const n=this||H_,r=t||n,i=X_.from(r.headers);let s=r.data;return v_.forEach(e,function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function eE(e){return!(!e||!e.__CANCEL__)}function tE(e,t,n){__.call(this,null==e?"canceled":e,__.ERR_CANCELED,t,n),this.name="CanceledError"}v_.inherits(tE,__,{__CANCEL__:!0});const nE=tE;function rE(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new __("Request failed with status code "+n.status,[__.ERR_BAD_REQUEST,__.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const iE=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];i||(i=l),n[s]=o,r[s]=l;let u=a,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const sE=function(e,t){let n,r,i=0,s=1e3/t;const a=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?a(l,e):(n=l,r||(r=setTimeout(()=>{r=null,a(n)},s-t)))},()=>n&&a(n)]},aE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=iE(50,250);return sE(n=>{const s=n.loaded,a=n.lengthComputable?n.total:void 0,o=s-r,l=i(o);r=s;e({loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&s<=a?(a-s)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},oE=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},lE=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v_.asap(()=>e(...n))},cE=z_.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,z_.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(z_.origin),z_.navigator&&/(msie|trident)/i.test(z_.navigator.userAgent)):()=>!0,uE=z_.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const a=[e+"="+encodeURIComponent(t)];v_.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),v_.isString(r)&&a.push("path="+r),v_.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function dE(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const hE=e=>e instanceof X_?ze({},e):e;function fE(e,t){t=t||{};const n={};function r(e,t,n,r){return v_.isPlainObject(e)&&v_.isPlainObject(t)?v_.merge.call({caseless:r},e,t):v_.isPlainObject(t)?v_.merge({},t):v_.isArray(t)?t.slice():t}function i(e,t,n,i){return v_.isUndefined(t)?v_.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!v_.isUndefined(t))return r(void 0,t)}function a(e,t){return v_.isUndefined(t)?v_.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>i(hE(e),hE(t),0,!0)};return v_.forEach(Object.keys(ze(ze({},e),t)),function(r){const s=l[r]||i,a=s(e[r],t[r],r);v_.isUndefined(a)&&s!==o||(n[r]=a)}),n}const pE=e=>{const t=fE({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=t;if(t.headers=a=X_.from(a),t.url=P_(dE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),v_.isFormData(n))if(z_.hasStandardBrowserEnv||z_.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(v_.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&a.set(n,r)})}if(z_.hasStandardBrowserEnv&&(r&&v_.isFunction(r)&&(r=r(t)),r||!1!==r&&cE(t.url))){const e=i&&s&&uE.read(s);e&&a.set(i,e)}return t},mE="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=pE(e);let i=r.data;const s=X_.from(r.headers).normalize();let a,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=X_.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());rE(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new __("Request aborted",__.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",i=new __(r,__.ERR_NETWORK,e,m);i.event=t||null,n(i),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||D_;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new __(t,i.clarifyTimeoutError?__.ETIMEDOUT:__.ECONNABORTED,e,m)),m=null},void 0===i&&s.setContentType(null),"setRequestHeader"in m&&v_.forEach(s.toJSON(),function(e,t){m.setRequestHeader(t,e)}),v_.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=aE(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=aE(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new nE(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===z_.protocols.indexOf(y)?n(new __("Unsupported protocol "+y+":",__.ERR_BAD_REQUEST,e)):m.send(i||null)})},gE=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof __?t:new nE(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,i(new __("timeout ".concat(t," of ms exceeded"),__.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:o}=r;return o.unsubscribe=()=>v_.asap(a),o}};function yE(e,t){this.v=e,this.k=t}function vE(e){return function(){return new wE(e.apply(this,arguments))}}function wE(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,o=a instanceof yE;Promise.resolve(o?a.v:a).then(function(n){if(o){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}i(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(s,a){var o={key:e,arg:i,resolve:s,reject:a,next:null};n?n=n.next=o:(t=n=o,r(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function bE(e){return new yE(e,0)}function xE(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new yE(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function _E(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new EE(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function EE(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return EE=function(e){this.s=e,this.n=e.next},EE.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new EE(e)}wE.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},wE.prototype.next=function(e){return this._invoke("next",e)},wE.prototype.throw=function(e){return this._invoke("throw",e)},wE.prototype.return=function(e){return this._invoke("return",e)};const kE=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},NE=function(){var e=vE(function*(e,t){var n,r=!1,i=!1;try{for(var s,a=_E(SE(e));r=!(s=yield bE(a.next())).done;r=!1){const e=s.value;yield*xE(_E(kE(e,t)))}}catch(o){i=!0,n=o}finally{try{r&&null!=a.return&&(yield bE(a.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),SE=function(){var e=vE(function*(e){if(e[Symbol.asyncIterator])return void(yield*xE(_E(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield bE(t.read());if(e)break;yield n}}finally{yield bE(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),TE=(e,t,n,r)=>{const i=NE(e,t);let s,a=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=a+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},{isFunction:CE}=v_,IE=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(v_.global),{ReadableStream:jE,TextEncoder:AE}=v_.global,RE=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(qe){return!1}},PE=e=>{e=v_.merge.call({skipUndefined:!0},IE,e);const{fetch:t,Request:n,Response:r}=e,i=t?CE(t):"function"===typeof fetch,s=CE(n),a=CE(r);if(!i)return!1;const o=i&&CE(jE),l=i&&("function"===typeof AE?(c=new AE,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=s&&o&&RE(()=>{let e=!1;const t=new n(z_.origin,{body:new jE,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=a&&o&&RE(()=>v_.isReadableStream(new r("").body)),h={stream:d&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new __("Response type '".concat(e,"' is not supported"),__.ERR_NOT_SUPPORT,n)})});const f=async(e,t)=>{const r=v_.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(v_.isBlob(e))return e.size;if(v_.isSpecCompliantForm(e)){const t=new n(z_.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return v_.isArrayBufferView(e)||v_.isArrayBuffer(e)?e.byteLength:(v_.isURLSearchParams(e)&&(e+=""),v_.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:i,method:a,data:o,signal:l,cancelToken:c,timeout:p,onDownloadProgress:m,onUploadProgress:g,responseType:y,headers:v,withCredentials:w="same-origin",fetchOptions:b}=pE(e),x=t||fetch;y=y?(y+"").toLowerCase():"text";let _=gE([l,c&&c.toAbortSignal()],p),E=null;const k=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let N;try{if(g&&u&&"get"!==a&&"head"!==a&&0!==(N=await f(v,o))){let e,t=new n(i,{method:"POST",body:o,duplex:"half"});if(v_.isFormData(o)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=oE(N,aE(lE(g)));o=TE(t.body,65536,e,n)}}v_.isString(w)||(w=w?"include":"omit");const t=s&&"credentials"in n.prototype,l=ze(ze({},b),{},{signal:_,method:a.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:t?w:void 0});E=s&&new n(i,l);let c=await(s?x(E,b):x(i,l));const p=d&&("stream"===y||"response"===y);if(d&&(m||p&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=v_.toFiniteNumber(c.headers.get("content-length")),[n,i]=m&&oE(t,aE(lE(m),!0))||[];c=new r(TE(c.body,65536,n,()=>{i&&i(),k&&k()}),e)}y=y||"text";let S=await h[v_.findKey(h,y)||"text"](c,e);return!p&&k&&k(),await new Promise((t,n)=>{rE(t,n,{data:S,headers:X_.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:E})})}catch(S){if(k&&k(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new __("Network Error",__.ERR_NETWORK,e,E),{cause:S.cause||S});throw __.from(S,S&&S.code,e,E)}}},OE=new Map,DE=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let a,o,l=s.length,c=OE;for(;l--;)a=s[l],o=c.get(a),void 0===o&&c.set(a,o=l?new Map:PE(t)),c=o;return o},LE=(DE(),{http:null,xhr:mE,fetch:{get:DE}});v_.forEach(LE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(qe){}Object.defineProperty(e,"adapterName",{value:t})}});const ME=e=>"- ".concat(e),UE=e=>v_.isFunction(e)||null===e||!1===e,FE=(e,t)=>{e=v_.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let a=0;a<n;a++){let n;if(r=e[a],i=r,!UE(r)&&(i=LE[(n=String(r)).toLowerCase()],void 0===i))throw new __("Unknown adapter '".concat(n,"'"));if(i&&(v_.isFunction(i)||(i=i.get(t))))break;s[n||"#"+a]=i}if(!i){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(ME).join("\n"):" "+ME(e[0]):"as no adapter specified";throw new __("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i};function BE(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new nE(null,e)}function VE(e){BE(e),e.headers=X_.from(e.headers),e.data=Z_.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return FE(e.adapter||H_.adapter,e)(e).then(function(t){return BE(e),t.data=Z_.call(e,e.transformResponse,t),t.headers=X_.from(t.headers),t},function(t){return eE(t)||(BE(e),t&&t.response&&(t.response.data=Z_.call(e,e.transformResponse,t.response),t.response.headers=X_.from(t.response.headers))),Promise.reject(t)})}const zE="1.12.2",qE={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qE[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const WE={};qE.transitional=function(e,t,n){function r(e,t){return"[Axios v"+zE+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new __(r(i," has been removed"+(t?" in "+t:"")),__.ERR_DEPRECATED);return t&&!WE[i]&&(WE[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},qE.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const HE={assertOptions:function(e,t,n){if("object"!==typeof e)throw new __("options must be an object",__.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const t=e[s],n=void 0===t||a(t,s,e);if(!0!==n)throw new __("option "+s+" must be "+n,__.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new __("Unknown option "+s,__.ERR_BAD_OPTION)}},validators:qE},KE=HE.validators;class GE{constructor(e){this.defaults=e||{},this.interceptors={request:new O_,response:new O_}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(qe){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=fE(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&HE.assertOptions(n,{silentJSONParsing:KE.transitional(KE.boolean),forcedJSONParsing:KE.transitional(KE.boolean),clarifyTimeoutError:KE.transitional(KE.boolean)},!1),null!=r&&(v_.isFunction(r)?t.paramsSerializer={serialize:r}:HE.assertOptions(r,{encode:KE.function,serialize:KE.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),HE.assertOptions(t,{baseUrl:KE.spelling("baseURL"),withXsrfToken:KE.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&v_.merge(i.common,i[t.method]);i&&v_.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=X_.concat(s,i);const a=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[VE.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=VE.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return P_(dE((e=fE(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}v_.forEach(["delete","get","head","options"],function(e){GE.prototype[e]=function(t,n){return this.request(fE(n||{},{method:e,url:t,data:(n||{}).data}))}}),v_.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(fE(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}GE.prototype[e]=t(),GE.prototype[e+"Form"]=t(!0)});const QE=GE;class YE{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new nE(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new YE(function(t){e=t});return{token:t,cancel:e}}}const $E=YE;const JE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(JE).forEach(e=>{let[t,n]=e;JE[n]=t});const XE=JE;const ZE=function e(t){const n=new QE(t),r=Rx(QE.prototype.request,n);return v_.extend(r,QE.prototype,n,{allOwnKeys:!0}),v_.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(fE(t,n))},r}(H_);ZE.Axios=QE,ZE.CanceledError=nE,ZE.CancelToken=$E,ZE.isCancel=eE,ZE.VERSION=zE,ZE.toFormData=T_,ZE.AxiosError=__,ZE.Cancel=ZE.CanceledError,ZE.all=function(e){return Promise.all(e)},ZE.spread=function(e){return function(t){return e.apply(null,t)}},ZE.isAxiosError=function(e){return v_.isObject(e)&&!0===e.isAxiosError},ZE.mergeConfig=fE,ZE.AxiosHeaders=X_,ZE.formToJSON=e=>q_(v_.isHTMLForm(e)?new FormData(e):e),ZE.getAdapter=FE,ZE.HttpStatusCode=XE,ZE.default=ZE;const ek=ZE,tk=["title","titleId"];function nk(e,t){let{title:n,titleId:r}=e,i=bw(e,tk);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const rk=s.forwardRef(nk),ik=["title","titleId"];function sk(e,t){let{title:n,titleId:r}=e,i=bw(e,ik);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const ak=s.forwardRef(sk),ok=["title","titleId"];function lk(e,t){let{title:n,titleId:r}=e,i=bw(e,ok);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ck=s.forwardRef(lk),uk=["title","titleId"];function dk(e,t){let{title:n,titleId:r}=e,i=bw(e,uk);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const hk=s.forwardRef(dk),fk=()=>{const{userProfile:e,refreshProfile:t,claimDevFunds:n}=yw(),[r,i]=(0,s.useState)([]),[a,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{l()},[]);const l=async()=>{try{o(!0);const e=await ek.get("".concat("http://localhost:5000","/payments/transactions?limit=20"));i(e.data.transactions||[])}catch(e){console.error("Error fetching transactions:",e),rn.error("Failed to load transaction history")}finally{o(!1)}},c=e=>"deposit"===e||"challenge_win"===e||"refund"===e?"text-success-400":"withdrawal"===e?"text-accent-400":"text-gray-300";return(0,mw.jsx)("div",{className:"min-h-screen py-8",children:(0,mw.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mw.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 mb-8",children:(0,mw.jsxs)("div",{className:"text-center",children:[(0,mw.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,mw.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Wallet"}),(0,mw.jsx)(ww,{size:"md"})]}),(0,mw.jsx)("p",{className:"text-gray-600 mb-6",children:"Manage your Beta testing funds"}),(0,mw.jsx)(ex,{showLabel:!1,className:"text-5xl font-bold text-gray-900 mb-2"}),(0,mw.jsx)("p",{className:"text-gray-500 mb-8",children:"Available Beta Balance (Fake Currency)"}),(0,mw.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,mw.jsxs)("button",{onClick:async()=>{try{await n(),rn.success("Successfully claimed $100 fake currency!"),await t()}catch(e){rn.error(e.message||"Failed to claim dev funds")}},className:"bg-primaryAccent text-white px-6 py-3 rounded-md hover:bg-secondary-600 transition-colors flex items-center justify-center space-x-2",disabled:null===e||void 0===e?void 0:e.hasClaimed,children:[(0,mw.jsx)(hk,{className:"h-5 w-5"}),(0,mw.jsx)("span",{children:null!==e&&void 0!==e&&e.hasClaimed?"Already Claimed":"Claim $100 Dev Funds"})]}),(0,mw.jsxs)("button",{disabled:!0,className:"border border-gray-300 text-gray-400 px-6 py-3 rounded-md cursor-not-allowed flex items-center justify-center space-x-2",children:[(0,mw.jsx)(rk,{className:"h-5 w-5"}),(0,mw.jsx)("span",{children:"Real Deposits (Coming Soon)"})]})]})]})}),(0,mw.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6 mb-8",children:(0,mw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mw.jsx)(Db,{className:"h-6 w-6 text-primaryAccent flex-shrink-0"}),(0,mw.jsxs)("div",{children:[(0,mw.jsx)("h3",{className:"text-lg font-semibold text-purple-800 mb-2",children:"Beta Testing Mode"}),(0,mw.jsx)("p",{className:"text-purple-700 text-sm",children:"This is a Beta testing environment using fake currency. All transactions are simulated for testing purposes only. Real money deposits and withdrawals will be available in the production version."})]})]})}),(0,mw.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,mw.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Transaction History"}),a?(0,mw.jsx)("div",{className:"space-y-4",children:[...Array(5)].map((e,t)=>(0,mw.jsxs)("div",{className:"animate-pulse flex items-center p-4 bg-gray-100 rounded-lg",children:[(0,mw.jsx)("div",{className:"h-8 w-8 bg-gray-300 rounded-full mr-4"}),(0,mw.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,mw.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),(0,mw.jsx)("div",{className:"h-3 bg-gray-300 rounded w-1/3"})]}),(0,mw.jsx)("div",{className:"h-4 bg-gray-300 rounded w-20"})]},t))}):r.length>0?(0,mw.jsx)("div",{className:"space-y-3",children:r.map((e,t)=>{return(0,mw.jsxs)("div",{className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border",children:[(0,mw.jsx)("div",{className:"flex-shrink-0 mr-4",children:(r=e.type,e.status,"deposit"===r?(0,mw.jsx)(rk,{className:"h-5 w-5 text-success-400"}):"withdrawal"===r?(0,mw.jsx)(ak,{className:"h-5 w-5 text-accent-400"}):"challenge_win"===r?(0,mw.jsx)(ck,{className:"h-5 w-5 text-success-400"}):"refund"===r?(0,mw.jsx)(hk,{className:"h-5 w-5 text-primary-400"}):(0,mw.jsx)(Gw,{className:"h-5 w-5 text-gray-400"}))}),(0,mw.jsxs)("div",{className:"flex-1",children:[(0,mw.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,mw.jsx)("span",{className:"font-medium text-gray-900 capitalize",children:e.type.replace("_"," ")}),(0,mw.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-200 text-gray-700",children:e.status}),(0,mw.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"FAKE"})]}),(0,mw.jsx)("div",{className:"text-sm text-gray-500",children:(n=e.createdAt,new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,mw.jsxs)("div",{className:"text-lg font-semibold ".concat(c(e.type)),children:["deposit"===e.type||"challenge_win"===e.type||"refund"===e.type||"beta_allocation"===e.type?"+":"-","$",e.amount.toFixed(2)]})]},t);var n,r})}):(0,mw.jsxs)("div",{className:"text-center py-12",children:[(0,mw.jsx)(Gw,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,mw.jsx)("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No Transactions Yet"}),(0,mw.jsx)("p",{className:"text-gray-500",children:"Your Beta transaction history will appear here"}),(0,mw.jsx)("p",{className:"text-sm text-primaryAccent mt-2",children:"Try claiming your $100 dev funds to get started!"})]})]})]})})},pk=()=>(0,mw.jsx)("div",{className:"min-h-screen py-8",children:(0,mw.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mw.jsxs)("div",{className:"card-gradient",children:[(0,mw.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-6",children:"Proof & Dispute"}),(0,mw.jsx)("p",{className:"text-gray-300 mb-4",children:"This page will handle proof submission, dispute filing, and evidence management for challenges."}),(0,mw.jsx)("div",{className:"bg-dark-700 p-4 rounded-lg",children:(0,mw.jsx)("p",{className:"text-accent-400 text-sm",children:"\ud83d\udea7 Coming Soon - This feature is being implemented"})})]})})}),mk=()=>(0,mw.jsx)("div",{className:"min-h-screen py-8",children:(0,mw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mw.jsxs)("div",{className:"card-gradient",children:[(0,mw.jsx)("h1",{className:"text-2xl font-bold gaming-text mb-6",children:"Admin Panel"}),(0,mw.jsx)("p",{className:"text-gray-300 mb-4",children:"This admin-only page will contain platform statistics, dispute resolution tools, user management, and financial controls."}),(0,mw.jsx)("div",{className:"bg-dark-700 p-4 rounded-lg",children:(0,mw.jsx)("p",{className:"text-accent-400 text-sm",children:"\ud83d\udea7 Coming Soon - This feature is being implemented"})})]})})});const gk=function(){return(0,mw.jsx)(vw,{children:(0,mw.jsx)(Ie,{children:(0,mw.jsxs)("div",{className:"min-h-screen bg-dark-900",children:[(0,mw.jsx)(rb,{}),(0,mw.jsx)(sb,{}),(0,mw.jsx)("main",{className:"pt-16",children:(0,mw.jsxs)(xe,{children:[(0,mw.jsx)(we,{path:"/",element:(0,mw.jsx)(kb,{})}),(0,mw.jsx)(we,{path:"/wagering",element:(0,mw.jsx)(Rb,{})}),(0,mw.jsx)(we,{path:"/wagers",element:(0,mw.jsx)(ib,{children:(0,mw.jsx)(Nb,{})})}),(0,mw.jsx)(we,{path:"/login",element:(0,mw.jsx)(zb,{})}),(0,mw.jsx)(we,{path:"/signup",element:(0,mw.jsx)(Xb,{})}),(0,mw.jsx)(we,{path:"/auth",element:(0,mw.jsx)(Zb,{})}),(0,mw.jsx)(we,{path:"/profile",element:(0,mw.jsx)(ib,{children:(0,mw.jsx)(_x,{})})}),(0,mw.jsx)(we,{path:"/create-challenge",element:(0,mw.jsx)(ib,{children:(0,mw.jsx)(Ex,{})})}),(0,mw.jsx)(we,{path:"/marketplace",element:(0,mw.jsx)(jx,{})}),(0,mw.jsx)(we,{path:"/challenge/:id",element:(0,mw.jsx)(Ax,{})}),(0,mw.jsx)(we,{path:"/wallet",element:(0,mw.jsx)(ib,{children:(0,mw.jsx)(fk,{})})}),(0,mw.jsx)(we,{path:"/challenge/:id/proof",element:(0,mw.jsx)(ib,{children:(0,mw.jsx)(pk,{})})}),(0,mw.jsx)(we,{path:"/admin",element:(0,mw.jsx)(ib,{adminOnly:!0,children:(0,mw.jsx)(mk,{})})})]})}),(0,mw.jsx)(nn,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#fff",border:"1px solid #374151"}}})]})})})};o.createRoot(document.getElementById("root")).render((0,mw.jsx)(s.StrictMode,{children:(0,mw.jsx)(gk,{})}))})();
//# sourceMappingURL=main.9cf5c87b.js.map